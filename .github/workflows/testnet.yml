on: 
  push:
    branches: [ preprod ]

jobs:
  deploy_to_aeweb:
    runs-on: ubuntu-latest
    name: A job to deploy file to AEweb | testnet network
    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: Deploy to AEweb
        id: deploy
        uses: archethic-foundation/aeweb-github-action@develop
        with:
          seed: ${{ secrets.ARCH_BASE_TESTNET_SEED }}
          endpoint: "https://testnet.archethic.net"
          path: "." 
          keychainFundingService: "archethic-wallet-ARCHETHIC.NET"
          keychainWebsiteService: "aeweb-ARCHETHIC-website"
          sslCertificate: > 
            MIIEZjCCA06gAwIBAgISAwF7j347YYXqDkOzBykmxC2BMA0GCSqGSIb3DQEBCwUA
            MDIxCzAJBgNVBAYTAlVTMRYwFAYDVQQKEw1MZXQncyBFbmNyeXB0MQswCQYDVQQD
            EwJSMzAeFw0yMzAzMjQwNjM1MzVaFw0yMzA2MjIwNjM1MzRaMCAxHjAcBgNVBAMT
            FXByZXByb2QuYXJjaGV0aGljLm5ldDBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IA
            BCagKS3JNdzmTrqFfbIfKfoKF+M5Men0bpiozU3M0jHAwHDNFqIkw8bwGl+4X3qB
            xEE7cWTbo1DRlM/vKOP1Z/ejggJRMIICTTAOBgNVHQ8BAf8EBAMCB4AwHQYDVR0l
            BBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAwGA1UdEwEB/wQCMAAwHQYDVR0OBBYE
            FJo6Lo8C44IZPirSYfusVwPHXWsOMB8GA1UdIwQYMBaAFBQusxe3WFbLrlAJQOYf
            r52LFMLGMFUGCCsGAQUFBwEBBEkwRzAhBggrBgEFBQcwAYYVaHR0cDovL3IzLm8u
            bGVuY3Iub3JnMCIGCCsGAQUFBzAChhZodHRwOi8vcjMuaS5sZW5jci5vcmcvMCAG
            A1UdEQQZMBeCFXByZXByb2QuYXJjaGV0aGljLm5ldDBMBgNVHSAERTBDMAgGBmeB
            DAECATA3BgsrBgEEAYLfEwEBATAoMCYGCCsGAQUFBwIBFhpodHRwOi8vY3BzLmxl
            dHNlbmNyeXB0Lm9yZzCCAQUGCisGAQQB1nkCBAIEgfYEgfMA8QB3AHoyjFTYty22
            IOo44FIe6YQWcDIThU070ivBOlejUutSAAABhxKLW8IAAAQDAEgwRgIhAPtof65p
            4QZDwI0SLBQeRQpvfQrBFLGk2oRWjFzGv2XrAiEAh/JkW9qKeUqAUycOdiZ4jzEs
            1Ss7Z2WpQysp2EQ+nnwAdgDoPtDaPvUGNTLnVyi8iWvJA9PL0RFr7Otp4Xd9bQa9
            bgAAAYcSi1utAAAEAwBHMEUCIAXfGTEV/5TVf5K6yfUv3K8YYLParVlQfNhNU76S
            I7X7AiEA5LdjEPjQSCRwMKlrPdIDfImDp6HI7LcGPb5zAy6VuZYwDQYJKoZIhvcN
            AQELBQADggEBAKoG/G/YDJNH+6v6G9zCCSF6I9h5kc+4caEKnD7YaskbwwE/kyls
            k287RJkBYKQvJ9SyivAfQ5sNpsPWDFYxTBibDXU2b5impwdVs79Rwyh4pXuED+ZK
            KcQnL8y9QWf4FJLU++U4SL3l3EOVEUvH4akOK5KGwgcNntRhYsw26oshqh6OSgdX
            /PSSrlNNqYz2H8izIbhtZ61IU0wK1TBrZcs4Gx1MLglOia71M0bsgwB8W35FsBFa
            g3wAs0hmYhuH4d/vYhvax0FpBD9VXnsJ6hGfpdzRBRO1E5lI6gYBnh0KTAoP/qyu
            Si7cV4e297k9FuLkv9eBagouu4lQMQU9Q7k=
          sslKey: ${{ secrets.SSL_KEY }}
