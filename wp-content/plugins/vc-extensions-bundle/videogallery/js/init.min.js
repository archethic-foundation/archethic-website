jQuery(document).ready(function(e){"use strict";function i(e,i){null!=e&&null!=i&&e.contentWindow.postMessage(JSON.stringify(i),"*")}function t(t,a){var o,s,n,r,c;if(o=t.find(".slick-current"),e("iframe",o)[0]&&(e("iframe",o).attr("src").indexOf("youtube")>-1?s="youtube":e("iframe",o).attr("src").indexOf("vimeo")>-1&&(s="vimeo")),r=o.find("iframe").get(0),n=o.data("video-start"),"vimeo"===s)switch(a){case"play":null!=n&&n>0&&!o.hasClass("started")&&(o.addClass("started"),i(r,{method:"setCurrentTime",value:n})),i(r,{method:"play",value:1});break;case"pause":i(r,{method:"pause",value:1})}else if("youtube"===s)switch(a){case"play":i(r,{event:"command"}),i(r,{event:"command",func:"playVideo"});break;case"pause":i(r,{event:"command",func:"pauseVideo"})}else"video"===s&&(c=o.children("video").get(0),null!=c&&("play"===a?c.play():c.pause()))}e(".cq-videogallery").each(function(i,a){var o=e(this),s=e(this).data("buttonbackground"),n=e(this).data("buttonhoverbackground"),r=(e(this).data("contentcolor"),e(this).data("dotanimation"),e(this).data("contentbackground")),c=e(this).data("arrowcolor"),l=e(this).data("arrowhovercolor"),d=(e(this).data("bgcolor"),e(".cq-videogallery-cover",o)),u=(e(".cq-videogallery-itemcontainer",o),"yes"==e(this).data("isautoheight")),h="yes"==e(this).data("istooltip"),v=parseInt(e(this).data("minheight"),10)||240,g=parseInt(e(this).data("videonum"),10)||4,m=(d.width(),0);""!=r&&e(".cq-videogallery-area",o).css("background",r);var f=!1;e(".cq-videogallery-itemcontainer",o).on("init",function(i,t){e(window).trigger("resize")});var y=e(".cq-videogallery-itemcontainer",o).slick({infinite:!0,arrow:!0,dots:!1,pauseOnHover:!0,slidesToShow:1,adaptiveHeight:u,autoplay:!1,speed:600,draggable:!1,swipe:!1,cssEase:"cubic-bezier(0.87, 0.03, 0.41, 0.9)",slidesToScroll:1});y.on("init",function(i){i=e(i.currentTarget),setTimeout(function(){t(i,"play")},1e3)}),y.on("beforeChange",function(i,a,o,s){a=e(a.$slider),t(a,"pause"),e("iframe",o)[0]}),y.on("afterChange",function(i,a,s,n){a=e(a.$slider),t(a,"play"),e(".cq-videogallery-thumbcontainer li",o).each(function(i){e(this).removeClass("is-current"),e(this).data("index")==s&&e(this).addClass("is-current")})}),e(".cq-videogallery-text:has(iframe)").css("margin-top","0"),e("iframe",e(".cq-videogallery-item",y))[0]&&f&&y.slick("slickPause");var p=e(".videogallery-navigation-prev",o),b=e(".videogallery-navigation-next",o),k=e(".cq-videogallery-thumbcontainer",o).slick({vertical:!0,infinite:!1,dots:!1,slidesToScroll:1,pauseOnHover:!0,slidesToShow:g,speed:600,draggable:!1,swipe:!0,prevArrow:p,nextArrow:b,cssEase:"cubic-bezier(0.87, 0.03, 0.41, 0.9)"});e(".cq-videogallery-thumbcontainer li",o).each(function(i){if(e(this).data("index",i),0==i&&e(this).addClass("is-current"),h){e(this).tooltipster({content:e(".cq-videogallery-thumbcaption",e(this)).html(),position:"top",delay:200,interactive:!0,speed:300,touchDevices:!0,animation:"grow",theme:"tooltipster-shadow",contentAsHTML:!0})}}),e(".cq-videogallery-thumbcontainer",o).on("click","li",function(i){e(".cq-videogallery-thumbcontainer li",o).each(function(i){e(this).removeClass("is-current")}),e(this).addClass("is-current"),y.slick("slickGoTo",e(this).data("index")),i.preventDefault()}),m=e(".cq-videogallery-image",o).length;""!=c&&e(".videogallery-navigation-prev, .videogallery-navigation-next",o).css("color",c),e("iframe",e(".cq-videogallery-item",o)).css("min-height",Math.max(v,k.height()));e(window).on("resize",function(i){clearTimeout(t);var t=setTimeout(function(){clearTimeout(t),e("iframe",e(".cq-videogallery-item",o)).css("min-height",Math.max(v,k.height()))},500);i.preventDefault()}),""!=s&&(b.css("background",s),p.css("background",s)),b.on("mouseover",function(){e(this).css("background",n),""!=l&&e(this).css("color",l)}).on("mouseleave",function(i){""!=s?e(this).css("background",s):e(this).css("background",""),""!=l&&(""!=c?e(this).css("color",c):e(this).css("color",""))}),p.on("mouseover",function(){e(this).css("background",n),""!=l&&e(this).css("color",l)}).on("mouseleave",function(i){""!=s?e(this).css("background",s):e(this).css("background",""),""!=l&&(""!=c?e(this).css("color",c):e(this).css("color",""))})})});