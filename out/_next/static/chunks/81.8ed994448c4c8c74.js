(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[81],{6102:function(){},9353:function(o,e,n){"use strict";n.r(e),n.d(e,{default:function(){return x}});var r=n(3827),t=n(4090),l=n(4130),i=n(8147),a=n(9254),u=n(6376);let s="/canvas/model/DnaModel.glb",c={dotSize:50,uColor1:"#4027a2",uColor2:"#d55cff",autoRotateSpeed:25};function d(o){let e=(0,t.useRef)(null),{nodes:n}=(0,i.L)(s),[,d]=(0,t.useState)(0),v=(0,t.useRef)(0),{isScreenSmall:f}=(0,l.k)(),m={time:{value:0},dotSize:{value:c.dotSize||50},uColor1:{value:new u.Color(c.uColor1||"#4027a2")},uColor2:{value:new u.Color(c.uColor2||"#d55cff")},uColor3:{value:new u.Color(16777215)},colorC:{value:new u.Vector3(.912,.191,.652)},resolution:{value:new u.Vector4}};return(0,a.A)(o=>{let{clock:n}=o;if(!e.current)return;let r=n.getElapsedTime(),t=c.autoRotateSpeed;e.current.rotation.y=r/t+v.current}),(0,t.useEffect)(()=>{if(e.current){var o;e.current.geometry.center();let n=null===(o=e.current)||void 0===o?void 0:o.geometry.attributes.position.array.length,r=new Float32Array(n/3),t=new Float32Array(n/3);for(let o=0;o<n/3;o++)r.set([Math.random()],o),t.set([Math.random()],o);e.current.geometry.setAttribute("randoms",new u.BufferAttribute(r,1)),e.current.geometry.setAttribute("colorRandoms",new u.BufferAttribute(t,1))}},[]),(0,t.useEffect)(()=>{let o=0,n=0,r=()=>{e.current&&!f&&(n=window.scrollY-o,o=window.scrollY,d(o=>{let e=window.scrollY<50?o:o+5e-4*n;return v.current=e,e}))};return window.addEventListener("scroll",r),()=>{window.removeEventListener("scroll",r)}},[f]),(0,r.jsx)("group",{...o,dispose:null,children:(0,r.jsx)("points",{ref:e,geometry:n.twist1_1.geometry,children:(0,r.jsx)("shaderMaterial",{fragmentShader:"\nuniform float time;\nuniform float progress;\nuniform sampler2D texture1;\nuniform vec4 resolution;\nvarying vec2 vUv;\nvarying vec3 vPosition;\nvarying float vColorRandom;\n\nuniform vec3 uColor1;\nuniform vec3 uColor2;\nuniform vec3 uColor3;\nuniform vec3 colorC;\n\nfloat PI = 3.141592653589793238;\n\nvoid main() {\n  float alpha = 1. - smoothstep(-.2,.5,length(gl_PointCoord-vec2(.5)));\n\n  vec3 finalColor=uColor1;\n  if(vColorRandom > .33 && vColorRandom < .66){\n    finalColor=uColor1;\n  }\n  \n  if(vColorRandom > .66){\n    finalColor=uColor2;\n  }\n  \n  float gradient = smoothstep(.3,.7,vUv.y);\n\n  // vec2 newUV = (vUv - vec2(0.5))*resolution.zw + vec2(0.5);\n  // gl_FragColor=vec4(1.,1.,0.,alpha);\n  gl_FragColor=vec4(finalColor,alpha*gradient);\n}\n",vertexShader:"\nuniform float time;\nuniform float dotSize;\nvarying vec2 vUv;\nvarying vec3 vPosition;\nvarying float vColorRandom;\nuniform sampler2D texture1;\n\nattribute float randoms;\nattribute float colorRandoms;\n\nfloat PI = 3.141592653589793238;\n\nvoid main() {\n  vUv=uv;\n  vColorRandom=colorRandoms;\n  vec4 mvPosition=modelViewMatrix*vec4(position,1.);\n  gl_PointSize=(dotSize * randoms+10.)*(1./-mvPosition.z);\n  gl_Position=projectionMatrix*mvPosition;\n}\n",side:u.DoubleSide,uniforms:m,transparent:!0,depthTest:!1,depthWrite:!1,blending:u.AdditiveBlending})})})}i.L.preload(s);var v=n(8284),f=n(9653),m=n(9971),p=n(3696),g=n(4563);let C=["#ECE9F6","#B3A9DA","#8C7DC7","#4027A2","#201844"],h=new u.TextureLoader().load("/canvas/texture-star.png");function w(o){let{size:e=300}=o,n=(0,v.useHomePageStore)(o=>o.sections),i=(0,t.useRef)(null),{width:s,height:c}=(0,a.z)(o=>o.viewport),d=(0,t.useRef)(0),{isScreenSmall:w}=(0,l.k)();return(0,a.A)((o,e)=>{i.current&&(i.current.rotation.y-=e/110)}),(0,t.useEffect)(()=>{let o=()=>{if(!n||!i.current||w)return null;let o=window.scrollY,e=n.journeySectionsGroup.offsetTop;d.current=Math.floor((0,f.$9)(o,0,e)),p.ZP.to(i.current.position,{z:(0,g.KK)(0,100,-15,-5,d.current),duration:2}),p.ZP.to(i.current.rotation,{y:(0,g.KK)(0,100,0,2,d.current),duration:1})};return window.addEventListener("scroll",o),()=>{window.removeEventListener("scroll",o)}},[n,w]),(0,r.jsxs)(m.wo,{limit:e,ref:i,position:[0,15,-15],children:[(0,r.jsx)("pointsMaterial",{size:.09,vertexColors:!0,map:h,alphaTest:.5,transparent:!0,depthWrite:!1,blending:u.NormalBlending}),Array.from({length:e}).map((o,e)=>(0,r.jsx)(m.E9,{position:[(.5-Math.random())*s*2,.5*c+-(Math.random()**.25*c*3),(.5-Math.random())*25],color:C[Math.floor(Math.random()*(C.length-1))]},e))]})}var y=n(9631),x=()=>{let{isScreenSmall:o}=(0,l.k)();return(0,r.jsxs)(y.Xz,{style:{backgroundColor:"hsl(250 100% 5% / 1)"},children:[(0,r.jsx)("ambientLight",{}),(0,r.jsx)("directionalLight",{color:"white",position:[0,-113,60]}),(0,r.jsxs)(t.Suspense,{fallback:null,children:[(0,r.jsx)(d,{position:o?[.9,1,0]:[2,0,0],scale:1.2}),(0,r.jsx)(w,{size:o?100:400})]})]})}}}]);