(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[81],{6102:function(){},9353:function(e,o,n){"use strict";n.r(o),n.d(o,{default:function(){return x}});var r=n(3827),t=n(4090),l=n(4130),i=n(8147),a=n(9254),u=n(6376);let s="/canvas/model/DnaModel.glb",c={dotSize:50,uColor1:"#4027a2",uColor2:"#d55cff",autoRotateSpeed:25};function d(e){let o=(0,t.useRef)(null),{nodes:n}=(0,i.L)(s),[,d]=(0,t.useState)(0),v=(0,t.useRef)(0),{isScreenSmall:f}=(0,l.k)(),m={time:{value:0},dotSize:{value:c.dotSize||50},uColor1:{value:new u.Color(c.uColor1||"#4027a2")},uColor2:{value:new u.Color(c.uColor2||"#d55cff")},uColor3:{value:new u.Color(16777215)},colorC:{value:new u.Vector3(.912,.191,.652)},resolution:{value:new u.Vector4}};return(0,a.A)(e=>{let{clock:n}=e;if(!o.current)return;let r=n.getElapsedTime(),t=c.autoRotateSpeed;o.current.rotation.y=r/t+v.current}),(0,t.useEffect)(()=>{if(o.current){var e;o.current.geometry.center();let n=null===(e=o.current)||void 0===e?void 0:e.geometry.attributes.position.array.length,r=new Float32Array(n/3),t=new Float32Array(n/3);for(let e=0;e<n/3;e++)r.set([Math.random()],e),t.set([Math.random()],e);o.current.geometry.setAttribute("randoms",new u.BufferAttribute(r,1)),o.current.geometry.setAttribute("colorRandoms",new u.BufferAttribute(t,1))}},[]),(0,t.useEffect)(()=>{let e=0,n=0,r=()=>{o.current&&!f&&(n=window.scrollY-e,e=window.scrollY,d(e=>{let o=window.scrollY<50?e:e+5e-4*n;return v.current=o,o}))};return window.addEventListener("scroll",r),()=>{window.removeEventListener("scroll",r)}},[f]),(0,r.jsx)("group",{...e,dispose:null,children:(0,r.jsx)("points",{ref:o,geometry:n.twist1_1.geometry,children:(0,r.jsx)("shaderMaterial",{fragmentShader:"\nuniform float time;\nuniform float progress;\nuniform sampler2D texture1;\nuniform vec4 resolution;\nvarying vec2 vUv;\nvarying vec3 vPosition;\nvarying float vColorRandom;\n\nuniform vec3 uColor1;\nuniform vec3 uColor2;\nuniform vec3 uColor3;\nuniform vec3 colorC;\n\nfloat PI = 3.141592653589793238;\n\nvoid main() {\n  float alpha = 1. - smoothstep(-.2,.5,length(gl_PointCoord-vec2(.5)));\n\n  vec3 finalColor=uColor1;\n  if(vColorRandom > .33 && vColorRandom < .66){\n    finalColor=uColor1;\n  }\n  \n  if(vColorRandom > .66){\n    finalColor=uColor2;\n  }\n  \n  float gradient = smoothstep(.3,.7,vUv.y);\n\n  // vec2 newUV = (vUv - vec2(0.5))*resolution.zw + vec2(0.5);\n  // gl_FragColor=vec4(1.,1.,0.,alpha);\n  gl_FragColor=vec4(finalColor,alpha*gradient);\n}\n",vertexShader:"\nuniform float time;\nuniform float dotSize;\nvarying vec2 vUv;\nvarying vec3 vPosition;\nvarying float vColorRandom;\nuniform sampler2D texture1;\n\nattribute float randoms;\nattribute float colorRandoms;\n\nfloat PI = 3.141592653589793238;\n\nvoid main() {\n  vUv=uv;\n  vColorRandom=colorRandoms;\n  vec4 mvPosition=modelViewMatrix*vec4(position,1.);\n  gl_PointSize=(dotSize * randoms+10.)*(1./-mvPosition.z);\n  gl_Position=projectionMatrix*mvPosition;\n}\n",side:u.DoubleSide,uniforms:m,transparent:!0,depthTest:!1,depthWrite:!1,blending:u.AdditiveBlending})})})}i.L.preload(s);var v=n(9702),f=n(9653),m=n(9971),p=n(3696),g=n(4563);let C=["#ECE9F6","#B3A9DA","#8C7DC7","#4027A2","#201844"],h=new u.TextureLoader().load("/canvas/texture-star.png");function w(e){let{size:o=300}=e,n=(0,v.useHomePageStore)(e=>e.sections),i=(0,t.useRef)(null),{width:s,height:c}=(0,a.z)(e=>e.viewport),d=(0,t.useRef)(0),{isScreenSmall:w}=(0,l.k)();return(0,a.A)((e,o)=>{i.current&&(i.current.rotation.y-=o/110)}),(0,t.useEffect)(()=>{let e=()=>{if(!n||!i.current||w)return null;let e=window.scrollY,o=n.journeySectionsGroup.offsetTop;d.current=Math.floor((0,f.$9)(e,0,o)),p.ZP.to(i.current.position,{z:(0,g.KK)(0,100,-15,-5,d.current),duration:2}),p.ZP.to(i.current.rotation,{y:(0,g.KK)(0,100,0,2,d.current),duration:1})};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[n,w]),(0,r.jsxs)(m.wo,{limit:o,ref:i,position:[0,15,-15],children:[(0,r.jsx)("pointsMaterial",{size:.09,vertexColors:!0,map:h,alphaTest:.5,transparent:!0,depthWrite:!1,blending:u.NormalBlending}),Array.from({length:o}).map((e,o)=>(0,r.jsx)(m.E9,{position:[(.5-Math.random())*s*2,.5*c+-(Math.random()**.25*c*3),(.5-Math.random())*25],color:C[Math.floor(Math.random()*(C.length-1))]},o))]})}var y=n(9631),x=()=>{let{isScreenSmall:e}=(0,l.k)();return(0,r.jsxs)(y.Xz,{children:[(0,r.jsx)("ambientLight",{}),(0,r.jsx)("directionalLight",{color:"white",position:[0,-113,60]}),(0,r.jsxs)(t.Suspense,{fallback:null,children:[(0,r.jsx)(d,{position:e?[.9,1,0]:[2,0,0],scale:1.2}),(0,r.jsx)(w,{size:e?100:400})]})]})}}}]);