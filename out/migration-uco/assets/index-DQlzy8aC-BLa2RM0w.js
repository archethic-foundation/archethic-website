import{s as U,t as Xe,d as V,ah as Ve,ag as it}from"./index-Bibw8odz.js";var Ze={},Ye={exports:{}},Me={};(function(o){o.fetch=n(U.fetch)&&n(U.ReadableStream),o.writableStream=n(U.WritableStream),o.abortController=n(U.AbortController);var r;function c(){if(r!==void 0)return r;if(U.XMLHttpRequest){r=new U.XMLHttpRequest;try{r.open("GET",U.XDomainRequest?"/":"https://example.com")}catch{r=null}}else r=null;return r}function h(g){var u=c();if(!u)return!1;try{return u.responseType=g,u.responseType===g}catch{}return!1}o.arraybuffer=o.fetch||h("arraybuffer"),o.msstream=!o.fetch&&h("ms-stream"),o.mozchunkedarraybuffer=!o.fetch&&h("moz-chunked-arraybuffer"),o.overrideMimeType=o.fetch||(c()?n(c().overrideMimeType):!1);function n(g){return typeof g=="function"}r=null})(Me);var Oe={},Ke=Me,ht=Xe(),et=Ve,xe=Oe.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},De=Oe.IncomingMessage=function(o,r,c,h){var n=this;if(et.Readable.call(n),n._mode=c,n.headers={},n.rawHeaders=[],n.trailers={},n.rawTrailers=[],n.on("end",function(){V.process.nextTick(function(){n.emit("close")})}),c==="fetch"){let A=function(){u.read().then(function(m){if(!n._destroyed){if(h(m.done),m.done){n.push(null);return}n.push(V.Buffer.from(m.value)),A()}}).catch(function(m){h(!0),n._destroyed||n.emit("error",m)})};if(n._fetchResponse=r,n.url=r.url,n.statusCode=r.status,n.statusMessage=r.statusText,r.headers.forEach(function(m,R){n.headers[R.toLowerCase()]=m,n.rawHeaders.push(R,m)}),Ke.writableStream){var g=new WritableStream({write:function(m){return h(!1),new Promise(function(R,te){n._destroyed?te():n.push(V.Buffer.from(m))?R():n._resumeFetch=R})},close:function(){h(!0),n._destroyed||n.push(null)},abort:function(m){h(!0),n._destroyed||n.emit("error",m)}});try{r.body.pipeTo(g).catch(function(m){h(!0),n._destroyed||n.emit("error",m)});return}catch{}}var u=r.body.getReader();A()}else{n._xhr=o,n._pos=0,n.url=o.responseURL,n.statusCode=o.status,n.statusMessage=o.statusText;var a=o.getAllResponseHeaders().split(/\r?\n/);if(a.forEach(function(A){var m=A.match(/^([^:]+):\s*(.*)/);if(m){var R=m[1].toLowerCase();R==="set-cookie"?(n.headers[R]===void 0&&(n.headers[R]=[]),n.headers[R].push(m[2])):n.headers[R]!==void 0?n.headers[R]+=", "+m[2]:n.headers[R]=m[2],n.rawHeaders.push(m[1],m[2])}}),n._charset="x-user-defined",!Ke.overrideMimeType){var v=n.rawHeaders["mime-type"];if(v){var _=v.match(/;\s*charset=([^;])(;|$)/);_&&(n._charset=_[1].toLowerCase())}n._charset||(n._charset="utf-8")}}};ht(De,et.Readable);De.prototype._read=function(){var o=this,r=o._resumeFetch;r&&(o._resumeFetch=null,r())};De.prototype._onXHRProgress=function(o){var r=this,c=r._xhr,h=null;switch(r._mode){case"text":if(h=c.responseText,h.length>r._pos){var n=h.substr(r._pos);if(r._charset==="x-user-defined"){for(var g=V.Buffer.alloc(n.length),u=0;u<n.length;u++)g[u]=n.charCodeAt(u)&255;r.push(g)}else r.push(n,r._charset);r._pos=h.length}break;case"arraybuffer":if(c.readyState!==xe.DONE||!c.response)break;h=c.response,r.push(V.Buffer.from(new Uint8Array(h)));break;case"moz-chunked-arraybuffer":if(h=c.response,c.readyState!==xe.LOADING||!h)break;r.push(V.Buffer.from(new Uint8Array(h)));break;case"ms-stream":if(h=c.response,c.readyState!==xe.LOADING)break;var a=new U.MSStreamReader;a.onprogress=function(){a.result.byteLength>r._pos&&(r.push(V.Buffer.from(new Uint8Array(a.result.slice(r._pos)))),r._pos=a.result.byteLength)},a.onload=function(){o(!0),r.push(null)},a.readAsArrayBuffer(h);break}r._xhr.readyState===xe.DONE&&r._mode!=="ms-stream"&&(o(!0),r.push(null))};var ue=Me,ut=Xe(),tt=Oe,Be=Ve,ct=tt.IncomingMessage,Qe=tt.readyStates;function lt(o,r){return ue.fetch&&r?"fetch":ue.mozchunkedarraybuffer?"moz-chunked-arraybuffer":ue.msstream?"ms-stream":ue.arraybuffer&&o?"arraybuffer":"text"}var L=Ye.exports=function(o){var r=this;Be.Writable.call(r),r._opts=o,r._body=[],r._headers={},o.auth&&r.setHeader("Authorization","Basic "+V.Buffer.from(o.auth).toString("base64")),Object.keys(o.headers).forEach(function(n){r.setHeader(n,o.headers[n])});var c,h=!0;if(o.mode==="disable-fetch"||"requestTimeout"in o&&!ue.abortController)h=!1,c=!0;else if(o.mode==="prefer-streaming")c=!1;else if(o.mode==="allow-wrong-content-type")c=!ue.overrideMimeType;else if(!o.mode||o.mode==="default"||o.mode==="prefer-fast")c=!0;else throw new Error("Invalid value for opts.mode");r._mode=lt(c,h),r._fetchTimer=null,r._socketTimeout=null,r._socketTimer=null,r.on("finish",function(){r._onFinish()})};ut(L,Be.Writable);L.prototype.setHeader=function(o,r){var c=this,h=o.toLowerCase();pt.indexOf(h)===-1&&(c._headers[h]={name:o,value:r})};L.prototype.getHeader=function(o){var r=this._headers[o.toLowerCase()];return r?r.value:null};L.prototype.removeHeader=function(o){var r=this;delete r._headers[o.toLowerCase()]};L.prototype._onFinish=function(){var o=this;if(!o._destroyed){var r=o._opts;"timeout"in r&&r.timeout!==0&&o.setTimeout(r.timeout);var c=o._headers,h=null;r.method!=="GET"&&r.method!=="HEAD"&&(h=new Blob(o._body,{type:(c["content-type"]||{}).value||""}));var n=[];if(Object.keys(c).forEach(function(v){var _=c[v].name,A=c[v].value;Array.isArray(A)?A.forEach(function(m){n.push([_,m])}):n.push([_,A])}),o._mode==="fetch"){var g=null;if(ue.abortController){var u=new AbortController;g=u.signal,o._fetchAbortController=u,"requestTimeout"in r&&r.requestTimeout!==0&&(o._fetchTimer=U.setTimeout(function(){o.emit("requestTimeout"),o._fetchAbortController&&o._fetchAbortController.abort()},r.requestTimeout))}U.fetch(o._opts.url,{method:o._opts.method,headers:n,body:h||void 0,mode:"cors",credentials:r.withCredentials?"include":"same-origin",signal:g}).then(function(v){o._fetchResponse=v,o._resetTimers(!1),o._connect()},function(v){o._resetTimers(!0),o._destroyed||o.emit("error",v)})}else{var a=o._xhr=new U.XMLHttpRequest;try{a.open(o._opts.method,o._opts.url,!0)}catch(v){V.process.nextTick(function(){o.emit("error",v)});return}"responseType"in a&&(a.responseType=o._mode),"withCredentials"in a&&(a.withCredentials=!!r.withCredentials),o._mode==="text"&&"overrideMimeType"in a&&a.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in r&&(a.timeout=r.requestTimeout,a.ontimeout=function(){o.emit("requestTimeout")}),n.forEach(function(v){a.setRequestHeader(v[0],v[1])}),o._response=null,a.onreadystatechange=function(){switch(a.readyState){case Qe.LOADING:case Qe.DONE:o._onXHRProgress();break}},o._mode==="moz-chunked-arraybuffer"&&(a.onprogress=function(){o._onXHRProgress()}),a.onerror=function(){o._destroyed||(o._resetTimers(!0),o.emit("error",new Error("XHR error")))};try{a.send(h)}catch(v){V.process.nextTick(function(){o.emit("error",v)});return}}}};function ft(o){try{var r=o.status;return r!==null&&r!==0}catch{return!1}}L.prototype._onXHRProgress=function(){var o=this;o._resetTimers(!1),!(!ft(o._xhr)||o._destroyed)&&(o._response||o._connect(),o._response._onXHRProgress(o._resetTimers.bind(o)))};L.prototype._connect=function(){var o=this;o._destroyed||(o._response=new ct(o._xhr,o._fetchResponse,o._mode,o._resetTimers.bind(o)),o._response.on("error",function(r){o.emit("error",r)}),o.emit("response",o._response))};L.prototype._write=function(o,r,c){var h=this;h._body.push(o),c()};L.prototype._resetTimers=function(o){var r=this;U.clearTimeout(r._socketTimer),r._socketTimer=null,o?(U.clearTimeout(r._fetchTimer),r._fetchTimer=null):r._socketTimeout&&(r._socketTimer=U.setTimeout(function(){r.emit("timeout")},r._socketTimeout))};L.prototype.abort=L.prototype.destroy=function(o){var r=this;r._destroyed=!0,r._resetTimers(!0),r._response&&(r._response._destroyed=!0),r._xhr?r._xhr.abort():r._fetchAbortController&&r._fetchAbortController.abort(),o&&r.emit("error",o)};L.prototype.end=function(o,r,c){var h=this;typeof o=="function"&&(c=o,o=void 0),Be.Writable.prototype.end.call(h,o,r,c)};L.prototype.setTimeout=function(o,r){var c=this;r&&c.once("timeout",r),c._socketTimeout=o,c._resetTimers(!1)};L.prototype.flushHeaders=function(){};L.prototype.setNoDelay=function(){};L.prototype.setSocketKeepAlive=function(){};var pt=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],dt=Ye.exports,mt=yt,vt=Object.prototype.hasOwnProperty;function yt(){for(var o={},r=0;r<arguments.length;r++){var c=arguments[r];for(var h in c)vt.call(c,h)&&(o[h]=c[h])}return o}var gt={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"},He={exports:{}},Ee={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */Ee.exports;(function(o,r){(function(c){var h=r&&!r.nodeType&&r,n=o&&!o.nodeType&&o,g=typeof U=="object"&&U;(g.global===g||g.window===g||g.self===g)&&(c=g);var u,a=2147483647,v=36,_=1,A=26,m=38,R=700,te=72,ae=128,P="-",Ae=/^xn--/,qe=/[^\x20-\x7E]/,Se=/[\x2E\u3002\uFF0E\uFF61]/g,Ue={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},pe=v-_,k=Math.floor,re=String.fromCharCode,ie;function Z(i){throw new RangeError(Ue[i])}function de(i,f){for(var y=i.length,b=[];y--;)b[y]=f(i[y]);return b}function be(i,f){var y=i.split("@"),b="";y.length>1&&(b=y[0]+"@",i=y[1]),i=i.replace(Se,".");var T=i.split("."),q=de(T,f).join(".");return b+q}function Te(i){for(var f=[],y=0,b=i.length,T,q;y<b;)T=i.charCodeAt(y++),T>=55296&&T<=56319&&y<b?(q=i.charCodeAt(y++),(q&64512)==56320?f.push(((T&1023)<<10)+(q&1023)+65536):(f.push(T),y--)):f.push(T);return f}function ce(i){return de(i,function(f){var y="";return f>65535&&(f-=65536,y+=re(f>>>10&1023|55296),f=56320|f&1023),y+=re(f),y}).join("")}function oe(i){return i-48<10?i-22:i-65<26?i-65:i-97<26?i-97:v}function le(i,f){return i+22+75*(i<26)-((f!=0)<<5)}function ne(i,f,y){var b=0;for(i=y?k(i/R):i>>1,i+=k(i/f);i>pe*A>>1;b+=v)i=k(i/pe);return k(b+(pe+1)*i/(i+m))}function we(i){var f=[],y=i.length,b,T=0,q=ae,x=te,C,j,F,W,S,N,G,K,Y;for(C=i.lastIndexOf(P),C<0&&(C=0),j=0;j<C;++j)i.charCodeAt(j)>=128&&Z("not-basic"),f.push(i.charCodeAt(j));for(F=C>0?C+1:0;F<y;){for(W=T,S=1,N=v;F>=y&&Z("invalid-input"),G=oe(i.charCodeAt(F++)),(G>=v||G>k((a-T)/S))&&Z("overflow"),T+=G*S,K=N<=x?_:N>=x+A?A:N-x,!(G<K);N+=v)Y=v-K,S>k(a/Y)&&Z("overflow"),S*=Y;b=f.length+1,x=ne(T-W,b,W==0),k(T/b)>a-q&&Z("overflow"),q+=k(T/b),T%=b,f.splice(T++,0,q)}return ce(f)}function Ce(i){var f,y,b,T,q,x,C,j,F,W,S,N=[],G,K,Y,me;for(i=Te(i),G=i.length,f=ae,y=0,q=te,x=0;x<G;++x)S=i[x],S<128&&N.push(re(S));for(b=T=N.length,T&&N.push(P);b<G;){for(C=a,x=0;x<G;++x)S=i[x],S>=f&&S<C&&(C=S);for(K=b+1,C-f>k((a-y)/K)&&Z("overflow"),y+=(C-f)*K,f=C,x=0;x<G;++x)if(S=i[x],S<f&&++y>a&&Z("overflow"),S==f){for(j=y,F=v;W=F<=q?_:F>=q+A?A:F-q,!(j<W);F+=v)me=j-W,Y=v-W,N.push(re(le(W+me%Y,0))),j=k(me/Y);N.push(re(le(j,0))),q=ne(y,K,b==T),y=0,++b}++y,++f}return N.join("")}function Le(i){return be(i,function(f){return Ae.test(f)?we(f.slice(4).toLowerCase()):f})}function Pe(i){return be(i,function(f){return qe.test(f)?"xn--"+Ce(f):f})}if(u={version:"1.4.1",ucs2:{decode:Te,encode:ce},decode:we,encode:Ce,toASCII:Pe,toUnicode:Le},h&&n)if(o.exports==h)n.exports=u;else for(ie in u)u.hasOwnProperty(ie)&&(h[ie]=u[ie]);else c.punycode=u})(U)})(Ee,Ee.exports);var _t=Ee.exports;(function(o,r){Object.defineProperty(r,"__esModule",{value:!0});var c=_t,h=it;function n(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var g=n(c),u=n(h),a={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}},v=g.default,_=a,A=ne,m=Ce,R=Le,te=we,ae=P;function P(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Ae=/^([a-z0-9.+-]+:)/i,qe=/:[0-9]*$/,Se=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Ue=["<",">",'"',"`"," ","\r",`
`,"	"],pe=["{","}","|","\\","^","`"].concat(Ue),k=["'"].concat(pe),re=["%","/","?",";","#"].concat(k),ie=["/","?","#"],Z=255,de=/^[+a-z0-9A-Z_-]{0,63}$/,be=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Te={javascript:!0,"javascript:":!0},ce={javascript:!0,"javascript:":!0},oe={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},le=u.default;function ne(e,s,t){if(e&&_.isObject(e)&&e instanceof P)return e;var p=new P;return p.parse(e,s,t),p}P.prototype.parse=function(e,s,t){if(!_.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var p=e.indexOf("?"),w=p!==-1&&p<e.indexOf("#")?"?":"#",z=e.split(w),H=/\\/g;z[0]=z[0].replace(H,"/"),e=z.join(w);var l=e;if(l=l.trim(),!t&&e.split("#").length===1){var M=Se.exec(l);if(M)return this.path=l,this.href=l,this.pathname=M[1],M[2]?(this.search=M[2],s?this.query=le.parse(this.search.substr(1)):this.query=this.search.substr(1)):s&&(this.search="",this.query={}),this}var D=Ae.exec(l);if(D){D=D[0];var he=D.toLowerCase();this.protocol=he,l=l.substr(D.length)}if(t||D||l.match(/^\/\/[^@\/]+@[^@\/]+/)){var ve=l.substr(0,2)==="//";ve&&!(D&&ce[D])&&(l=l.substr(2),this.slashes=!0)}if(!ce[D]&&(ve||D&&!oe[D])){for(var I=-1,E=0;E<ie.length;E++){var ee=l.indexOf(ie[E]);ee!==-1&&(I===-1||ee<I)&&(I=ee)}var ye,B;I===-1?B=l.lastIndexOf("@"):B=l.lastIndexOf("@",I),B!==-1&&(ye=l.slice(0,B),l=l.slice(B+1),this.auth=decodeURIComponent(ye)),I=-1;for(var E=0;E<re.length;E++){var ee=l.indexOf(re[E]);ee!==-1&&(I===-1||ee<I)&&(I=ee)}I===-1&&(I=l.length),this.host=l.slice(0,I),l=l.slice(I),this.parseHost(),this.hostname=this.hostname||"";var ge=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!ge)for(var d=this.hostname.split(/\./),E=0,O=d.length;E<O;E++){var Q=d[E];if(Q&&!Q.match(de)){for(var $="",J=0,Ie=Q.length;J<Ie;J++)Q.charCodeAt(J)>127?$+="x":$+=Q[J];if(!$.match(de)){var se=d.slice(0,E),X=d.slice(E+1),fe=Q.match(be);fe&&(se.push(fe[1]),X.unshift(fe[2])),X.length&&(l="/"+X.join(".")+l),this.hostname=se.join(".");break}}}this.hostname.length>Z?this.hostname="":this.hostname=this.hostname.toLowerCase(),ge||(this.hostname=v.toASCII(this.hostname));var ke=this.port?":"+this.port:"",st=this.hostname||"";this.host=st+ke,this.href+=this.host,ge&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),l[0]!=="/"&&(l="/"+l))}if(!Te[he])for(var E=0,O=k.length;E<O;E++){var _e=k[E];if(l.indexOf(_e)!==-1){var je=encodeURIComponent(_e);je===_e&&(je=escape(_e)),l=l.split(_e).join(je)}}var Ne=l.indexOf("#");Ne!==-1&&(this.hash=l.substr(Ne),l=l.slice(0,Ne));var Re=l.indexOf("?");if(Re!==-1?(this.search=l.substr(Re),this.query=l.substr(Re+1),s&&(this.query=le.parse(this.query)),l=l.slice(0,Re)):s&&(this.search="",this.query={}),l&&(this.pathname=l),oe[he]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var ke=this.pathname||"",at=this.search||"";this.path=ke+at}return this.href=this.format(),this};function we(e){return _.isString(e)&&(e=ne(e)),e instanceof P?e.format():P.prototype.format.call(e)}P.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var s=this.protocol||"",t=this.pathname||"",p=this.hash||"",w=!1,z="";this.host?w=e+this.host:this.hostname&&(w=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(w+=":"+this.port)),this.query&&_.isObject(this.query)&&Object.keys(this.query).length&&(z=le.stringify(this.query));var H=this.search||z&&"?"+z||"";return s&&s.substr(-1)!==":"&&(s+=":"),this.slashes||(!s||oe[s])&&w!==!1?(w="//"+(w||""),t&&t.charAt(0)!=="/"&&(t="/"+t)):w||(w=""),p&&p.charAt(0)!=="#"&&(p="#"+p),H&&H.charAt(0)!=="?"&&(H="?"+H),t=t.replace(/[?#]/g,function(l){return encodeURIComponent(l)}),H=H.replace("#","%23"),s+w+t+H+p};function Ce(e,s){return ne(e,!1,!0).resolve(s)}P.prototype.resolve=function(e){return this.resolveObject(ne(e,!1,!0)).format()};function Le(e,s){return e?ne(e,!1,!0).resolveObject(s):s}P.prototype.resolveObject=function(e){if(_.isString(e)){var s=new P;s.parse(e,!1,!0),e=s}for(var t=new P,p=Object.keys(this),w=0;w<p.length;w++){var z=p[w];t[z]=this[z]}if(t.hash=e.hash,e.href==="")return t.href=t.format(),t;if(e.slashes&&!e.protocol){for(var H=Object.keys(e),l=0;l<H.length;l++){var M=H[l];M!=="protocol"&&(t[M]=e[M])}return oe[t.protocol]&&t.hostname&&!t.pathname&&(t.path=t.pathname="/"),t.href=t.format(),t}if(e.protocol&&e.protocol!==t.protocol){if(!oe[e.protocol]){for(var D=Object.keys(e),he=0;he<D.length;he++){var ve=D[he];t[ve]=e[ve]}return t.href=t.format(),t}if(t.protocol=e.protocol,!e.host&&!ce[e.protocol]){for(var O=(e.pathname||"").split("/");O.length&&!(e.host=O.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),O[0]!==""&&O.unshift(""),O.length<2&&O.unshift(""),t.pathname=O.join("/")}else t.pathname=e.pathname;if(t.search=e.search,t.query=e.query,t.host=e.host||"",t.auth=e.auth,t.hostname=e.hostname||e.host,t.port=e.port,t.pathname||t.search){var I=t.pathname||"",E=t.search||"";t.path=I+E}return t.slashes=t.slashes||e.slashes,t.href=t.format(),t}var ee=t.pathname&&t.pathname.charAt(0)==="/",ye=e.host||e.pathname&&e.pathname.charAt(0)==="/",B=ye||ee||t.host&&e.pathname,ge=B,d=t.pathname&&t.pathname.split("/")||[],O=e.pathname&&e.pathname.split("/")||[],Q=t.protocol&&!oe[t.protocol];if(Q&&(t.hostname="",t.port=null,t.host&&(d[0]===""?d[0]=t.host:d.unshift(t.host)),t.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(O[0]===""?O[0]=e.host:O.unshift(e.host)),e.host=null),B=B&&(O[0]===""||d[0]==="")),ye)t.host=e.host||e.host===""?e.host:t.host,t.hostname=e.hostname||e.hostname===""?e.hostname:t.hostname,t.search=e.search,t.query=e.query,d=O;else if(O.length)d||(d=[]),d.pop(),d=d.concat(O),t.search=e.search,t.query=e.query;else if(!_.isNullOrUndefined(e.search)){if(Q){t.hostname=t.host=d.shift();var $=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;$&&(t.auth=$.shift(),t.host=t.hostname=$.shift())}return t.search=e.search,t.query=e.query,(!_.isNull(t.pathname)||!_.isNull(t.search))&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.href=t.format(),t}if(!d.length)return t.pathname=null,t.search?t.path="/"+t.search:t.path=null,t.href=t.format(),t;for(var J=d.slice(-1)[0],Ie=(t.host||e.host||d.length>1)&&(J==="."||J==="..")||J==="",se=0,X=d.length;X>=0;X--)J=d[X],J==="."?d.splice(X,1):J===".."?(d.splice(X,1),se++):se&&(d.splice(X,1),se--);if(!B&&!ge)for(;se--;se)d.unshift("..");B&&d[0]!==""&&(!d[0]||d[0].charAt(0)!=="/")&&d.unshift(""),Ie&&d.join("/").substr(-1)!=="/"&&d.push("");var fe=d[0]===""||d[0]&&d[0].charAt(0)==="/";if(Q){t.hostname=t.host=fe?"":d.length?d.shift():"";var $=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;$&&(t.auth=$.shift(),t.host=t.hostname=$.shift())}return B=B||t.host&&d.length,B&&!fe&&d.unshift(""),d.length?t.pathname=d.join("/"):(t.pathname=null,t.path=null),(!_.isNull(t.pathname)||!_.isNull(t.search))&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.auth=e.auth||t.auth,t.slashes=t.slashes||e.slashes,t.href=t.format(),t},P.prototype.parseHost=function(){var e=this.host,s=qe.exec(e);s&&(s=s[0],s!==":"&&(this.port=s.substr(1)),e=e.substr(0,e.length-s.length)),e&&(this.hostname=e)};function Pe(e,s){for(var t=0,p=e.length-1;p>=0;p--){var w=e[p];w==="."?e.splice(p,1):w===".."?(e.splice(p,1),t++):t&&(e.splice(p,1),t--)}if(s)for(;t--;t)e.unshift("..");return e}function i(){for(var e="",s=!1,t=arguments.length-1;t>=-1&&!s;t--){var p=t>=0?arguments[t]:"/";if(typeof p!="string")throw new TypeError("Arguments to path.resolve must be strings");p&&(e=p+"/"+e,s=p.charAt(0)==="/")}return e=Pe(f(e.split("/"),function(w){return!!w}),!s).join("/"),(s?"/":"")+e||"."}function f(e,s){if(e.filter)return e.filter(s);for(var t=[],p=0;p<e.length;p++)s(e[p],p,e)&&t.push(e[p]);return t}var y=function(e){function s(){var p=this||self;return delete e.prototype.__magic__,p}if(typeof globalThis=="object")return globalThis;if(this)return s();e.defineProperty(e.prototype,"__magic__",{configurable:!0,get:s});var t=__magic__;return t}(Object),b=te,T=A,q=m,x=ae,C=y.URL,j=y.URLSearchParams,F=/%/g,W=/\\/g,S=/\n/g,N=/\r/g,G=/\t/g,K=47;function Y(e){var s=e??null;return!!(s!==null&&s!=null&&s.href&&s!=null&&s.origin)}function me(e){if(e.hostname!=="")throw new TypeError('File URL host must be "localhost" or empty on browser');for(var s=e.pathname,t=0;t<s.length;t++)if(s[t]==="%"){var p=s.codePointAt(t+2)|32;if(s[t+1]==="2"&&p===102)throw new TypeError("File URL path must not include encoded / characters")}return decodeURIComponent(s)}function nt(e){return e.includes("%")&&(e=e.replace(F,"%25")),e.includes("\\")&&(e=e.replace(W,"%5C")),e.includes(`
`)&&(e=e.replace(S,"%0A")),e.includes("\r")&&(e=e.replace(N,"%0D")),e.includes("	")&&(e=e.replace(G,"%09")),e}var Ge=function(e){if(typeof e>"u")throw new TypeError('The "domain" argument must be specified');return new C("http://"+e).hostname},Fe=function(e){if(typeof e>"u")throw new TypeError('The "domain" argument must be specified');return new C("http://"+e).hostname},ze=function(e){var s=new C("file://"),t=i(e),p=e.charCodeAt(e.length-1);return p===K&&t[t.length-1]!=="/"&&(t+="/"),s.pathname=nt(t),s},We=function(e){if(!Y(e)&&typeof e!="string")throw new TypeError('The "path" argument must be of type string or an instance of URL. Received type '+typeof e+" ("+e+")");var s=new C(e);if(s.protocol!=="file:")throw new TypeError("The URL must be of scheme file");return me(s)},$e=function(e,s){var t,p,w;if(s===void 0&&(s={}),!(e instanceof C))return b(e);if(typeof s!="object"||s===null)throw new TypeError('The "options" argument must be of type object.');var z=(t=s.auth)!=null?t:!0,H=(p=s.fragment)!=null?p:!0,l=(w=s.search)!=null?w:!0,M=new C(e.toString());return z||(M.username="",M.password=""),H||(M.hash=""),l||(M.search=""),M.toString()},Je={format:$e,parse:T,resolve:q,resolveObject:R,Url:x,URL:C,URLSearchParams:j,domainToASCII:Ge,domainToUnicode:Fe,pathToFileURL:ze,fileURLToPath:We};r.URL=C,r.URLSearchParams=j,r.Url=x,r.default=Je,r.domainToASCII=Ge,r.domainToUnicode=Fe,r.fileURLToPath=We,r.format=$e,r.parse=T,r.pathToFileURL=ze,r.resolve=q,r.resolveObject=R,r=o.exports=Je})(He,He.exports);var rt=He.exports;(function(o){var r=dt,c=Oe,h=mt,n=gt,g=rt,u=o;u.request=function(a,v){typeof a=="string"?a=g.parse(a):a=h(a);var _=U.location.protocol.search(/^https?:$/)===-1?"http:":"",A=a.protocol||_,m=a.hostname||a.host,R=a.port,te=a.path||"/";m&&m.indexOf(":")!==-1&&(m="["+m+"]"),a.url=(m?A+"//"+m:"")+(R?":"+R:"")+te,a.method=(a.method||"GET").toUpperCase(),a.headers=a.headers||{};var ae=new r(a);return v&&ae.on("response",v),ae},u.get=function(a,v){var _=u.request(a,v);return _.end(),_},u.ClientRequest=r,u.IncomingMessage=c.IncomingMessage,u.Agent=function(){},u.Agent.defaultMaxSockets=4,u.globalAgent=new u.Agent,u.STATUS_CODES=n,u.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]})(Ze);var ot={exports:{}};(function(o){var r=Ze,c=rt,h=o.exports;for(var n in r)r.hasOwnProperty(n)&&(h[n]=r[n]);h.request=function(u,a){return u=g(u),r.request.call(this,u,a)},h.get=function(u,a){return u=g(u),r.get.call(this,u,a)};function g(u){if(typeof u=="string"&&(u=c.parse(u)),u.protocol||(u.protocol="https:"),u.protocol!=="https:")throw new Error('Protocol "'+u.protocol+'" not supported. Expected "https:"');return u}})(ot);var Tt=ot.exports;export{Ze as J,Tt as T,_t as _,rt as r};
