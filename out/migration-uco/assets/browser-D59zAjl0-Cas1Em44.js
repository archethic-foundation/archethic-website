import{s as xt,m as tr,d as Yt,o as Br,G as Gn}from"./index-Bibw8odz.js";import{V as Cn,W as Fn,X as Wn,J as Vn,Q as Xn,Z as Jn,k as Zn,e as Yn,t as Qn,r as xn,B as qn,d as Hr,p as Ir,s as to}from"./index-WS886V6v-C4YDggU_.js";function Ur(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function eo(t,r){r||(r=t.reduce((s,b)=>s+b.length,0));const n=Ur(r);let c=0;for(const s of t)n.set(s,c),c+=s.length;return n}const vr={...Cn,...Fn,...Wn,...Vn,...Xn,...Jn,...Zn,...Yn,...Qn,...xn};function Ar(t,r,n,c){return{name:t,prefix:r,encoder:{name:t,prefix:r,encode:n},decoder:{decode:c}}}const dr=Ar("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Ve=Ar("ascii","a",t=>{let r="a";for(let n=0;n<t.length;n++)r+=String.fromCharCode(t[n]);return r},t=>{t=t.substring(1);const r=Ur(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r}),Nr={utf8:dr,"utf-8":dr,hex:vr.base16,latin1:Ve,ascii:Ve,binary:Ve,...vr};function er(t,r="utf8"){const n=Nr[r];if(!n)throw new Error(`Unsupported encoding "${r}"`);return(r==="utf8"||r==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):n.decoder.decode(`${n.prefix}${t}`)}function rr(t,r="utf8"){const n=Nr[r];if(!n)throw new Error(`Unsupported encoding "${r}"`);return(r==="utf8"||r==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const cs={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},ro=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,no=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,oo=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function io(t,r){if(t==="__proto__"||t==="constructor"&&r&&typeof r=="object"&&"prototype"in r){so(t);return}return r}function so(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function Ue(t,r={}){if(typeof t!="string")return t;const n=t.trim();if(t[0]==='"'&&t.endsWith('"')&&!t.includes("\\"))return n.slice(1,-1);if(n.length<=9){const c=n.toLowerCase();if(c==="true")return!0;if(c==="false")return!1;if(c==="undefined")return;if(c==="null")return null;if(c==="nan")return Number.NaN;if(c==="infinity")return Number.POSITIVE_INFINITY;if(c==="-infinity")return Number.NEGATIVE_INFINITY}if(!oo.test(t)){if(r.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(ro.test(t)||no.test(t)){if(r.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,io)}return JSON.parse(t)}catch(c){if(r.strict)throw c;return t}}function ao(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function Pt(t,...r){try{return ao(t(...r))}catch(n){return Promise.reject(n)}}function uo(t){const r=typeof t;return t===null||r!=="object"&&r!=="function"}function co(t){const r=Object.getPrototypeOf(t);return!r||r.isPrototypeOf(Object)}function Ke(t){if(uo(t))return String(t);if(co(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return Ke(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function Kr(){if(typeof Yt.Buffer===void 0)throw new TypeError("[unstorage] Buffer is not supported!")}const Ze="base64:";function lo(t){if(typeof t=="string")return t;Kr();const r=Yt.Buffer.from(t).toString("base64");return Ze+r}function fo(t){return typeof t!="string"||!t.startsWith(Ze)?t:(Kr(),Yt.Buffer.from(t.slice(Ze.length),"base64"))}function Nt(t){return t?t.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function ho(...t){return Nt(t.join(":"))}function Ae(t){return t=Nt(t),t?t+":":""}const po="memory",bo=()=>{const t=new Map;return{name:po,options:{},hasItem(r){return t.has(r)},getItem(r){return t.get(r)??null},getItemRaw(r){return t.get(r)??null},setItem(r,n){t.set(r,n)},setItemRaw(r,n){t.set(r,n)},removeItem(r){t.delete(r)},getKeys(){return Array.from(t.keys())},clear(){t.clear()},dispose(){t.clear()}}};function ls(t={}){const r={mounts:{"":t.driver||bo()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=i=>{for(const l of r.mountpoints)if(i.startsWith(l))return{base:l,relativeKey:i.slice(l.length),driver:r.mounts[l]};return{base:"",relativeKey:i,driver:r.mounts[""]}},c=(i,l)=>r.mountpoints.filter(y=>y.startsWith(i)||l&&i.startsWith(y)).map(y=>({relativeBase:i.length>y.length?i.slice(y.length):void 0,mountpoint:y,driver:r.mounts[y]})),s=(i,l)=>{if(r.watching){l=Nt(l);for(const y of r.watchListeners)y(i,l)}},b=async()=>{if(!r.watching){r.watching=!0;for(const i in r.mounts)r.unwatch[i]=await gr(r.mounts[i],s,i)}},j=async()=>{if(r.watching){for(const i in r.unwatch)await r.unwatch[i]();r.unwatch={},r.watching=!1}},S=(i,l,y)=>{const E=new Map,_=w=>{let H=E.get(w.base);return H||(H={driver:w.driver,base:w.base,items:[]},E.set(w.base,H)),H};for(const w of i){const H=typeof w=="string",N=Nt(H?w:w.key),pt=H?void 0:w.value,K=H||!w.options?l:{...l,...w.options},Lt=n(N);_(Lt).items.push({key:N,value:pt,relativeKey:Lt.relativeKey,options:K})}return Promise.all([...E.values()].map(w=>y(w))).then(w=>w.flat())},v={hasItem(i,l={}){i=Nt(i);const{relativeKey:y,driver:E}=n(i);return Pt(E.hasItem,y,l)},getItem(i,l={}){i=Nt(i);const{relativeKey:y,driver:E}=n(i);return Pt(E.getItem,y,l).then(_=>Ue(_))},getItems(i,l){return S(i,l,y=>y.driver.getItems?Pt(y.driver.getItems,y.items.map(E=>({key:E.relativeKey,options:E.options})),l).then(E=>E.map(_=>({key:ho(y.base,_.key),value:Ue(_.value)}))):Promise.all(y.items.map(E=>Pt(y.driver.getItem,E.relativeKey,E.options).then(_=>({key:E.key,value:Ue(_)})))))},getItemRaw(i,l={}){i=Nt(i);const{relativeKey:y,driver:E}=n(i);return E.getItemRaw?Pt(E.getItemRaw,y,l):Pt(E.getItem,y,l).then(_=>fo(_))},async setItem(i,l,y={}){if(l===void 0)return v.removeItem(i);i=Nt(i);const{relativeKey:E,driver:_}=n(i);_.setItem&&(await Pt(_.setItem,E,Ke(l),y),_.watch||s("update",i))},async setItems(i,l){await S(i,l,async y=>{if(y.driver.setItems)return Pt(y.driver.setItems,y.items.map(E=>({key:E.relativeKey,value:Ke(E.value),options:E.options})),l);y.driver.setItem&&await Promise.all(y.items.map(E=>Pt(y.driver.setItem,E.relativeKey,Ke(E.value),E.options)))})},async setItemRaw(i,l,y={}){if(l===void 0)return v.removeItem(i,y);i=Nt(i);const{relativeKey:E,driver:_}=n(i);if(_.setItemRaw)await Pt(_.setItemRaw,E,l,y);else if(_.setItem)await Pt(_.setItem,E,lo(l),y);else return;_.watch||s("update",i)},async removeItem(i,l={}){typeof l=="boolean"&&(l={removeMeta:l}),i=Nt(i);const{relativeKey:y,driver:E}=n(i);E.removeItem&&(await Pt(E.removeItem,y,l),(l.removeMeta||l.removeMata)&&await Pt(E.removeItem,y+"$",l),E.watch||s("remove",i))},async getMeta(i,l={}){typeof l=="boolean"&&(l={nativeOnly:l}),i=Nt(i);const{relativeKey:y,driver:E}=n(i),_=Object.create(null);if(E.getMeta&&Object.assign(_,await Pt(E.getMeta,y,l)),!l.nativeOnly){const w=await Pt(E.getItem,y+"$",l).then(H=>Ue(H));w&&typeof w=="object"&&(typeof w.atime=="string"&&(w.atime=new Date(w.atime)),typeof w.mtime=="string"&&(w.mtime=new Date(w.mtime)),Object.assign(_,w))}return _},setMeta(i,l,y={}){return this.setItem(i+"$",l,y)},removeMeta(i,l={}){return this.removeItem(i+"$",l)},async getKeys(i,l={}){i=Ae(i);const y=c(i,!0);let E=[];const _=[];for(const w of y){const H=(await Pt(w.driver.getKeys,w.relativeBase,l)).map(N=>w.mountpoint+Nt(N)).filter(N=>!E.some(pt=>N.startsWith(pt)));_.push(...H),E=[w.mountpoint,...E.filter(N=>!N.startsWith(w.mountpoint))]}return i?_.filter(w=>w.startsWith(i)&&!w.endsWith("$")):_.filter(w=>!w.endsWith("$"))},async clear(i,l={}){i=Ae(i),await Promise.all(c(i,!1).map(async y=>{if(y.driver.clear)return Pt(y.driver.clear,y.relativeBase,l);if(y.driver.removeItem){const E=await y.driver.getKeys(y.relativeBase||"",l);return Promise.all(E.map(_=>y.driver.removeItem(_,l)))}}))},async dispose(){await Promise.all(Object.values(r.mounts).map(i=>mr(i)))},async watch(i){return await b(),r.watchListeners.push(i),async()=>{r.watchListeners=r.watchListeners.filter(l=>l!==i),r.watchListeners.length===0&&await j()}},async unwatch(){r.watchListeners=[],await j()},mount(i,l){if(i=Ae(i),i&&r.mounts[i])throw new Error(`already mounted at ${i}`);return i&&(r.mountpoints.push(i),r.mountpoints.sort((y,E)=>E.length-y.length)),r.mounts[i]=l,r.watching&&Promise.resolve(gr(l,s,i)).then(y=>{r.unwatch[i]=y}).catch(console.error),v},async unmount(i,l=!0){i=Ae(i),!(!i||!r.mounts[i])&&(r.watching&&i in r.unwatch&&(r.unwatch[i](),delete r.unwatch[i]),l&&await mr(r.mounts[i]),r.mountpoints=r.mountpoints.filter(y=>y!==i),delete r.mounts[i])},getMount(i=""){i=Nt(i)+":";const l=n(i);return{driver:l.driver,base:l.base}},getMounts(i="",l={}){return i=Nt(i),c(i,l.parents).map(y=>({driver:y.driver,base:y.mountpoint}))}};return v}function gr(t,r,n){return t.watch?t.watch((c,s)=>r(c,n+s)):()=>{}}async function mr(t){typeof t.dispose=="function"&&await Pt(t.dispose)}function pe(t){return new Promise((r,n)=>{t.oncomplete=t.onsuccess=()=>r(t.result),t.onabort=t.onerror=()=>n(t.error)})}function yo(t,r){const n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(r);const c=pe(n);return(s,b)=>c.then(j=>b(j.transaction(r,s).objectStore(r)))}let Xe;function Le(){return Xe||(Xe=yo("keyval-store","keyval")),Xe}function fs(t,r=Le()){return r("readonly",n=>pe(n.get(t)))}function hs(t,r,n=Le()){return n("readwrite",c=>(c.put(r,t),pe(c.transaction)))}function ps(t,r=Le()){return r("readwrite",n=>(n.delete(t),pe(n.transaction)))}function bs(t=Le()){return t("readwrite",r=>(r.clear(),pe(r.transaction)))}function vo(t,r){return t.openCursor().onsuccess=function(){this.result&&(r(this.result),this.result.continue())},pe(t.transaction)}function ys(t=Le()){return t("readonly",r=>{if(r.getAllKeys)return pe(r.getAllKeys());const n=[];return vo(r,c=>n.push(c.key)).then(()=>n)})}class vs{}function go(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var mo=wo;function wo(t,r,n){var c=n&&n.stringify||go,s=1;if(typeof t=="object"&&t!==null){var b=r.length+s;if(b===1)return t;var j=new Array(b);j[0]=c(t);for(var S=1;S<b;S++)j[S]=c(r[S]);return j.join(" ")}if(typeof t!="string")return t;var v=r.length;if(v===0)return t;for(var i="",l=1-s,y=-1,E=t&&t.length||0,_=0;_<E;){if(t.charCodeAt(_)===37&&_+1<E){switch(y=y>-1?y:0,t.charCodeAt(_+1)){case 100:case 102:if(l>=v||r[l]==null)break;y<_&&(i+=t.slice(y,_)),i+=Number(r[l]),y=_+2,_++;break;case 105:if(l>=v||r[l]==null)break;y<_&&(i+=t.slice(y,_)),i+=Math.floor(Number(r[l])),y=_+2,_++;break;case 79:case 111:case 106:if(l>=v||r[l]===void 0)break;y<_&&(i+=t.slice(y,_));var w=typeof r[l];if(w==="string"){i+="'"+r[l]+"'",y=_+2,_++;break}if(w==="function"){i+=r[l].name||"<anonymous>",y=_+2,_++;break}i+=c(r[l]),y=_+2,_++;break;case 115:if(l>=v)break;y<_&&(i+=t.slice(y,_)),i+=String(r[l]),y=_+2,_++;break;case 37:y<_&&(i+=t.slice(y,_)),i+="%",y=_+2,_++,l--;break}++l}++_}return y===-1?t:(y<E&&(i+=t.slice(y)),i)}const wr=mo;var ge=qt;const je=To().console||{},_o={mapHttpRequest:Ne,mapHttpResponse:Ne,wrapRequestSerializer:Je,wrapResponseSerializer:Je,wrapErrorSerializer:Je,req:Ne,res:Ne,err:Po};function So(t,r){return Array.isArray(t)?t.filter(function(n){return n!=="!stdSerializers.err"}):t===!0?Object.keys(r):!1}function qt(t){t=t||{},t.browser=t.browser||{};const r=t.browser.transmit;if(r&&typeof r.send!="function")throw Error("pino: transmit option must have a send function");const n=t.browser.write||je;t.browser.write&&(t.browser.asObject=!0);const c=t.serializers||{},s=So(t.browser.serialize,c);let b=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(b=!1);const j=["error","fatal","warn","info","debug","trace"];typeof n=="function"&&(n.error=n.fatal=n.warn=n.info=n.debug=n.trace=n),t.enabled===!1&&(t.level="silent");const S=t.level||"info",v=Object.create(n);v.log||(v.log=ke),Object.defineProperty(v,"levelVal",{get:l}),Object.defineProperty(v,"level",{get:y,set:E});const i={transmit:r,serialize:s,asObject:t.browser.asObject,levels:j,timestamp:Lo(t)};v.levels=qt.levels,v.level=S,v.setMaxListeners=v.getMaxListeners=v.emit=v.addListener=v.on=v.prependListener=v.once=v.prependOnceListener=v.removeListener=v.removeAllListeners=v.listeners=v.listenerCount=v.eventNames=v.write=v.flush=ke,v.serializers=c,v._serialize=s,v._stdErrSerialize=b,v.child=_,r&&(v._logEvent=Ye());function l(){return this.level==="silent"?1/0:this.levels.values[this.level]}function y(){return this._level}function E(w){if(w!=="silent"&&!this.levels.values[w])throw Error("unknown level "+w);this._level=w,ve(i,v,"error","log"),ve(i,v,"fatal","error"),ve(i,v,"warn","error"),ve(i,v,"info","log"),ve(i,v,"debug","log"),ve(i,v,"trace","log")}function _(w,H){if(!w)throw new Error("missing bindings for child Pino");H=H||{},s&&w.serializers&&(H.serializers=w.serializers);const N=H.serializers;if(s&&N){var pt=Object.assign({},c,N),K=t.browser.serialize===!0?Object.keys(pt):s;delete w.serializers,Fe([w],K,pt,this._stdErrSerialize)}function Lt(bt){this._childLevel=(bt._childLevel|0)+1,this.error=de(bt,w,"error"),this.fatal=de(bt,w,"fatal"),this.warn=de(bt,w,"warn"),this.info=de(bt,w,"info"),this.debug=de(bt,w,"debug"),this.trace=de(bt,w,"trace"),pt&&(this.serializers=pt,this._serialize=K),r&&(this._logEvent=Ye([].concat(bt._logEvent.bindings,w)))}return Lt.prototype=this,new Lt(this)}return v}qt.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};qt.stdSerializers=_o;qt.stdTimeFunctions=Object.assign({},{nullTime:Dr,epochTime:$r,unixTime:zo,isoTime:Oo});function ve(t,r,n,c){const s=Object.getPrototypeOf(r);r[n]=r.levelVal>r.levels.values[n]?ke:s[n]?s[n]:je[n]||je[c]||ke,Eo(t,r,n)}function Eo(t,r,n){!t.transmit&&r[n]===ke||(r[n]=function(c){return function(){const s=t.timestamp(),b=new Array(arguments.length),j=Object.getPrototypeOf&&Object.getPrototypeOf(this)===je?je:this;for(var S=0;S<b.length;S++)b[S]=arguments[S];if(t.serialize&&!t.asObject&&Fe(b,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?c.call(j,jo(this,n,b,s)):c.apply(j,b),t.transmit){const v=t.transmit.level||r.level,i=qt.levels.values[v],l=qt.levels.values[n];if(l<i)return;ko(this,{ts:s,methodLevel:n,methodValue:l,transmitLevel:v,transmitValue:qt.levels.values[t.transmit.level||r.level],send:t.transmit.send,val:r.levelVal},b)}}}(r[n]))}function jo(t,r,n,c){t._serialize&&Fe(n,t._serialize,t.serializers,t._stdErrSerialize);const s=n.slice();let b=s[0];const j={};c&&(j.time=c),j.level=qt.levels.values[r];let S=(t._childLevel|0)+1;if(S<1&&(S=1),b!==null&&typeof b=="object"){for(;S--&&typeof s[0]=="object";)Object.assign(j,s.shift());b=s.length?wr(s.shift(),s):void 0}else typeof b=="string"&&(b=wr(s.shift(),s));return b!==void 0&&(j.msg=b),j}function Fe(t,r,n,c){for(const s in t)if(c&&t[s]instanceof Error)t[s]=qt.stdSerializers.err(t[s]);else if(typeof t[s]=="object"&&!Array.isArray(t[s]))for(const b in t[s])r&&r.indexOf(b)>-1&&b in n&&(t[s][b]=n[b](t[s][b]))}function de(t,r,n){return function(){const c=new Array(1+arguments.length);c[0]=r;for(var s=1;s<c.length;s++)c[s]=arguments[s-1];return t[n].apply(this,c)}}function ko(t,r,n){const c=r.send,s=r.ts,b=r.methodLevel,j=r.methodValue,S=r.val,v=t._logEvent.bindings;Fe(n,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=s,t._logEvent.messages=n.filter(function(i){return v.indexOf(i)===-1}),t._logEvent.level.label=b,t._logEvent.level.value=j,c(b,t._logEvent,S),t._logEvent=Ye(v)}function Ye(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function Po(t){const r={type:t.constructor.name,msg:t.message,stack:t.stack};for(const n in t)r[n]===void 0&&(r[n]=t[n]);return r}function Lo(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?Dr:$r}function Ne(){return{}}function Je(t){return t}function ke(){}function Dr(){return!1}function $r(){return Date.now()}function zo(){return Math.round(Date.now()/1e3)}function Oo(){return new Date(Date.now()).toISOString()}function To(){function t(r){return typeof r<"u"&&r}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}const Gr=tr(ge),Mo=t=>JSON.stringify(t,(r,n)=>typeof n=="bigint"?n.toString()+"n":n);function _r(t){return typeof t=="string"?t:Mo(t)||""}const Ro={level:"info"},ze="custom_context",nr=1e3*1024;class Bo{constructor(r){this.nodeValue=r,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}}class Sr{constructor(r){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=r,this.sizeInBytes=0}append(r){const n=new Bo(r);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${r} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const r=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=r.size}toArray(){const r=[];let n=this.head;for(;n!==null;)r.push(n.value),n=n.next;return r}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let r=this.head;return{next:()=>{if(!r)return{done:!0,value:null};const n=r.value;return r=r.next,{done:!1,value:n}}}}}class Cr{constructor(r,n=nr){this.level=r??"error",this.levelValue=ge.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new Sr(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(r,n){n===ge.levels.values.error?console.error(r):n===ge.levels.values.warn?console.warn(r):n===ge.levels.values.debug?console.debug(r):n===ge.levels.values.trace?console.trace(r):console.log(r)}appendToLogs(r){this.logs.append(_r({timestamp:new Date().toISOString(),log:r}));const n=typeof r=="string"?JSON.parse(r).level:r.level;n>=this.levelValue&&this.forwardToConsole(r,n)}getLogs(){return this.logs}clearLogs(){this.logs=new Sr(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(r){const n=this.getLogArray();return n.push(_r({extraMetadata:r})),new Blob(n,{type:"application/json"})}}class Ho{constructor(r,n=nr){this.baseChunkLogger=new Cr(r,n)}write(r){this.baseChunkLogger.appendToLogs(r)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(r){return this.baseChunkLogger.logsToBlob(r)}downloadLogsBlobInBrowser(r){const n=URL.createObjectURL(this.logsToBlob(r)),c=document.createElement("a");c.href=n,c.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(n)}}class Io{constructor(r,n=nr){this.baseChunkLogger=new Cr(r,n)}write(r){this.baseChunkLogger.appendToLogs(r)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(r){return this.baseChunkLogger.logsToBlob(r)}}var Uo=Object.defineProperty,Ao=Object.defineProperties,No=Object.getOwnPropertyDescriptors,Er=Object.getOwnPropertySymbols,Ko=Object.prototype.hasOwnProperty,Do=Object.prototype.propertyIsEnumerable,jr=(t,r,n)=>r in t?Uo(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,De=(t,r)=>{for(var n in r||(r={}))Ko.call(r,n)&&jr(t,n,r[n]);if(Er)for(var n of Er(r))Do.call(r,n)&&jr(t,n,r[n]);return t},$e=(t,r)=>Ao(t,No(r));function ds(t){return $e(De({},t),{level:(t==null?void 0:t.level)||Ro.level})}function $o(t,r=ze){return t[r]||""}function Go(t,r,n=ze){return t[n]=r,t}function Co(t,r=ze){let n="";return typeof t.bindings>"u"?n=$o(t,r):n=t.bindings().context||"",n}function Fo(t,r,n=ze){const c=Co(t,n);return c.trim()?`${c}/${r}`:r}function gs(t,r,n=ze){const c=Fo(t,r,n),s=t.child({context:c});return Go(s,c,n)}function Wo(t){var r,n;const c=new Ho((r=t.opts)==null?void 0:r.level,t.maxSizeInBytes);return{logger:Gr($e(De({},t.opts),{level:"trace",browser:$e(De({},(n=t.opts)==null?void 0:n.browser),{write:s=>c.write(s)})})),chunkLoggerController:c}}function Vo(t){var r;const n=new Io((r=t.opts)==null?void 0:r.level,t.maxSizeInBytes);return{logger:Gr($e(De({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function ms(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?Wo(t):Vo(t)}var or={},Fr={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var r=qn,n=Hr;t.DIGEST_LENGTH=64,t.BLOCK_SIZE=128;var c=function(){function S(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return S.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},S.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},S.prototype.clean=function(){n.wipe(this._buffer),n.wipe(this._tempHi),n.wipe(this._tempLo),this.reset()},S.prototype.update=function(v,i){if(i===void 0&&(i=v.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var l=0;if(this._bytesHashed+=i,this._bufferLength>0){for(;this._bufferLength<t.BLOCK_SIZE&&i>0;)this._buffer[this._bufferLength++]=v[l++],i--;this._bufferLength===this.blockSize&&(b(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(i>=this.blockSize&&(l=b(this._tempHi,this._tempLo,this._stateHi,this._stateLo,v,l,i),i%=this.blockSize);i>0;)this._buffer[this._bufferLength++]=v[l++],i--;return this},S.prototype.finish=function(v){if(!this._finished){var i=this._bytesHashed,l=this._bufferLength,y=i/536870912|0,E=i<<3,_=i%128<112?128:256;this._buffer[l]=128;for(var w=l+1;w<_-8;w++)this._buffer[w]=0;r.writeUint32BE(y,this._buffer,_-8),r.writeUint32BE(E,this._buffer,_-4),b(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,_),this._finished=!0}for(var w=0;w<this.digestLength/8;w++)r.writeUint32BE(this._stateHi[w],v,w*8),r.writeUint32BE(this._stateLo[w],v,w*8+4);return this},S.prototype.digest=function(){var v=new Uint8Array(this.digestLength);return this.finish(v),v},S.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},S.prototype.restoreState=function(v){return this._stateHi.set(v.stateHi),this._stateLo.set(v.stateLo),this._bufferLength=v.bufferLength,v.buffer&&this._buffer.set(v.buffer),this._bytesHashed=v.bytesHashed,this._finished=!1,this},S.prototype.cleanSavedState=function(v){n.wipe(v.stateHi),n.wipe(v.stateLo),v.buffer&&n.wipe(v.buffer),v.bufferLength=0,v.bytesHashed=0},S}();t.SHA512=c;var s=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function b(S,v,i,l,y,E,_){for(var w=i[0],H=i[1],N=i[2],pt=i[3],K=i[4],Lt=i[5],bt=i[6],Rt=i[7],C=l[0],B=l[1],Bt=l[2],te=l[3],yt=l[4],Ft=l[5],Kt=l[6],Xt=l[7],m,g,Z,ct,O,k,P,z;_>=128;){for(var zt=0;zt<16;zt++){var et=8*zt+E;S[zt]=r.readUint32BE(y,et),v[zt]=r.readUint32BE(y,et+4)}for(var zt=0;zt<80;zt++){var me=w,I=H,be=N,p=pt,h=K,f=Lt,e=bt,a=Rt,T=C,M=B,A=Bt,D=te,U=yt,$=Ft,Ot=Kt,lt=Xt;if(m=Rt,g=Xt,O=g&65535,k=g>>>16,P=m&65535,z=m>>>16,m=(K>>>14|yt<<18)^(K>>>18|yt<<14)^(yt>>>9|K<<23),g=(yt>>>14|K<<18)^(yt>>>18|K<<14)^(K>>>9|yt<<23),O+=g&65535,k+=g>>>16,P+=m&65535,z+=m>>>16,m=K&Lt^~K&bt,g=yt&Ft^~yt&Kt,O+=g&65535,k+=g>>>16,P+=m&65535,z+=m>>>16,m=s[zt*2],g=s[zt*2+1],O+=g&65535,k+=g>>>16,P+=m&65535,z+=m>>>16,m=S[zt%16],g=v[zt%16],O+=g&65535,k+=g>>>16,P+=m&65535,z+=m>>>16,k+=O>>>16,P+=k>>>16,z+=P>>>16,Z=P&65535|z<<16,ct=O&65535|k<<16,m=Z,g=ct,O=g&65535,k=g>>>16,P=m&65535,z=m>>>16,m=(w>>>28|C<<4)^(C>>>2|w<<30)^(C>>>7|w<<25),g=(C>>>28|w<<4)^(w>>>2|C<<30)^(w>>>7|C<<25),O+=g&65535,k+=g>>>16,P+=m&65535,z+=m>>>16,m=w&H^w&N^H&N,g=C&B^C&Bt^B&Bt,O+=g&65535,k+=g>>>16,P+=m&65535,z+=m>>>16,k+=O>>>16,P+=k>>>16,z+=P>>>16,a=P&65535|z<<16,lt=O&65535|k<<16,m=p,g=D,O=g&65535,k=g>>>16,P=m&65535,z=m>>>16,m=Z,g=ct,O+=g&65535,k+=g>>>16,P+=m&65535,z+=m>>>16,k+=O>>>16,P+=k>>>16,z+=P>>>16,p=P&65535|z<<16,D=O&65535|k<<16,H=me,N=I,pt=be,K=p,Lt=h,bt=f,Rt=e,w=a,B=T,Bt=M,te=A,yt=D,Ft=U,Kt=$,Xt=Ot,C=lt,zt%16===15)for(var et=0;et<16;et++)m=S[et],g=v[et],O=g&65535,k=g>>>16,P=m&65535,z=m>>>16,m=S[(et+9)%16],g=v[(et+9)%16],O+=g&65535,k+=g>>>16,P+=m&65535,z+=m>>>16,Z=S[(et+1)%16],ct=v[(et+1)%16],m=(Z>>>1|ct<<31)^(Z>>>8|ct<<24)^Z>>>7,g=(ct>>>1|Z<<31)^(ct>>>8|Z<<24)^(ct>>>7|Z<<25),O+=g&65535,k+=g>>>16,P+=m&65535,z+=m>>>16,Z=S[(et+14)%16],ct=v[(et+14)%16],m=(Z>>>19|ct<<13)^(ct>>>29|Z<<3)^Z>>>6,g=(ct>>>19|Z<<13)^(Z>>>29|ct<<3)^(ct>>>6|Z<<26),O+=g&65535,k+=g>>>16,P+=m&65535,z+=m>>>16,k+=O>>>16,P+=k>>>16,z+=P>>>16,S[et]=P&65535|z<<16,v[et]=O&65535|k<<16}m=w,g=C,O=g&65535,k=g>>>16,P=m&65535,z=m>>>16,m=i[0],g=l[0],O+=g&65535,k+=g>>>16,P+=m&65535,z+=m>>>16,k+=O>>>16,P+=k>>>16,z+=P>>>16,i[0]=w=P&65535|z<<16,l[0]=C=O&65535|k<<16,m=H,g=B,O=g&65535,k=g>>>16,P=m&65535,z=m>>>16,m=i[1],g=l[1],O+=g&65535,k+=g>>>16,P+=m&65535,z+=m>>>16,k+=O>>>16,P+=k>>>16,z+=P>>>16,i[1]=H=P&65535|z<<16,l[1]=B=O&65535|k<<16,m=N,g=Bt,O=g&65535,k=g>>>16,P=m&65535,z=m>>>16,m=i[2],g=l[2],O+=g&65535,k+=g>>>16,P+=m&65535,z+=m>>>16,k+=O>>>16,P+=k>>>16,z+=P>>>16,i[2]=N=P&65535|z<<16,l[2]=Bt=O&65535|k<<16,m=pt,g=te,O=g&65535,k=g>>>16,P=m&65535,z=m>>>16,m=i[3],g=l[3],O+=g&65535,k+=g>>>16,P+=m&65535,z+=m>>>16,k+=O>>>16,P+=k>>>16,z+=P>>>16,i[3]=pt=P&65535|z<<16,l[3]=te=O&65535|k<<16,m=K,g=yt,O=g&65535,k=g>>>16,P=m&65535,z=m>>>16,m=i[4],g=l[4],O+=g&65535,k+=g>>>16,P+=m&65535,z+=m>>>16,k+=O>>>16,P+=k>>>16,z+=P>>>16,i[4]=K=P&65535|z<<16,l[4]=yt=O&65535|k<<16,m=Lt,g=Ft,O=g&65535,k=g>>>16,P=m&65535,z=m>>>16,m=i[5],g=l[5],O+=g&65535,k+=g>>>16,P+=m&65535,z+=m>>>16,k+=O>>>16,P+=k>>>16,z+=P>>>16,i[5]=Lt=P&65535|z<<16,l[5]=Ft=O&65535|k<<16,m=bt,g=Kt,O=g&65535,k=g>>>16,P=m&65535,z=m>>>16,m=i[6],g=l[6],O+=g&65535,k+=g>>>16,P+=m&65535,z+=m>>>16,k+=O>>>16,P+=k>>>16,z+=P>>>16,i[6]=bt=P&65535|z<<16,l[6]=Kt=O&65535|k<<16,m=Rt,g=Xt,O=g&65535,k=g>>>16,P=m&65535,z=m>>>16,m=i[7],g=l[7],O+=g&65535,k+=g>>>16,P+=m&65535,z+=m>>>16,k+=O>>>16,P+=k>>>16,z+=P>>>16,i[7]=Rt=P&65535|z<<16,l[7]=Xt=O&65535|k<<16,E+=128,_-=128}return E}function j(S){var v=new c;v.update(S);var i=v.digest();return v.clean(),i}t.hash=j})(Fr);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.convertSecretKeyToX25519=t.convertPublicKeyToX25519=t.verify=t.sign=t.extractPublicKeyFromSecretKey=t.generateKeyPair=t.generateKeyPairFromSeed=t.SEED_LENGTH=t.SECRET_KEY_LENGTH=t.PUBLIC_KEY_LENGTH=t.SIGNATURE_LENGTH=void 0;const r=Ir,n=Fr,c=Hr;t.SIGNATURE_LENGTH=64,t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=64,t.SEED_LENGTH=32;function s(p){const h=new Float64Array(16);if(p)for(let f=0;f<p.length;f++)h[f]=p[f];return h}const b=new Uint8Array(32);b[0]=9;const j=s(),S=s([1]),v=s([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),i=s([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),l=s([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),y=s([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),E=s([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function _(p,h){for(let f=0;f<16;f++)p[f]=h[f]|0}function w(p){let h=1;for(let f=0;f<16;f++){let e=p[f]+h+65535;h=Math.floor(e/65536),p[f]=e-h*65536}p[0]+=h-1+37*(h-1)}function H(p,h,f){const e=~(f-1);for(let a=0;a<16;a++){const T=e&(p[a]^h[a]);p[a]^=T,h[a]^=T}}function N(p,h){const f=s(),e=s();for(let a=0;a<16;a++)e[a]=h[a];w(e),w(e),w(e);for(let a=0;a<2;a++){f[0]=e[0]-65517;for(let M=1;M<15;M++)f[M]=e[M]-65535-(f[M-1]>>16&1),f[M-1]&=65535;f[15]=e[15]-32767-(f[14]>>16&1);const T=f[15]>>16&1;f[14]&=65535,H(e,f,1-T)}for(let a=0;a<16;a++)p[2*a]=e[a]&255,p[2*a+1]=e[a]>>8}function pt(p,h){let f=0;for(let e=0;e<32;e++)f|=p[e]^h[e];return(1&f-1>>>8)-1}function K(p,h){const f=new Uint8Array(32),e=new Uint8Array(32);return N(f,p),N(e,h),pt(f,e)}function Lt(p){const h=new Uint8Array(32);return N(h,p),h[0]&1}function bt(p,h){for(let f=0;f<16;f++)p[f]=h[2*f]+(h[2*f+1]<<8);p[15]&=32767}function Rt(p,h,f){for(let e=0;e<16;e++)p[e]=h[e]+f[e]}function C(p,h,f){for(let e=0;e<16;e++)p[e]=h[e]-f[e]}function B(p,h,f){let e,a,T=0,M=0,A=0,D=0,U=0,$=0,Ot=0,lt=0,Tt=0,vt=0,ft=0,rt=0,tt=0,Y=0,X=0,G=0,nt=0,dt=0,F=0,Ht=0,Ut=0,Dt=0,$t=0,At=0,Jt=0,Qt=0,ie=0,Gt=0,ce=0,we=0,Oe=0,ot=f[0],Q=f[1],it=f[2],st=f[3],at=f[4],x=f[5],gt=f[6],mt=f[7],wt=f[8],_t=f[9],St=f[10],ht=f[11],ut=f[12],V=f[13],Et=f[14],jt=f[15];e=h[0],T+=e*ot,M+=e*Q,A+=e*it,D+=e*st,U+=e*at,$+=e*x,Ot+=e*gt,lt+=e*mt,Tt+=e*wt,vt+=e*_t,ft+=e*St,rt+=e*ht,tt+=e*ut,Y+=e*V,X+=e*Et,G+=e*jt,e=h[1],M+=e*ot,A+=e*Q,D+=e*it,U+=e*st,$+=e*at,Ot+=e*x,lt+=e*gt,Tt+=e*mt,vt+=e*wt,ft+=e*_t,rt+=e*St,tt+=e*ht,Y+=e*ut,X+=e*V,G+=e*Et,nt+=e*jt,e=h[2],A+=e*ot,D+=e*Q,U+=e*it,$+=e*st,Ot+=e*at,lt+=e*x,Tt+=e*gt,vt+=e*mt,ft+=e*wt,rt+=e*_t,tt+=e*St,Y+=e*ht,X+=e*ut,G+=e*V,nt+=e*Et,dt+=e*jt,e=h[3],D+=e*ot,U+=e*Q,$+=e*it,Ot+=e*st,lt+=e*at,Tt+=e*x,vt+=e*gt,ft+=e*mt,rt+=e*wt,tt+=e*_t,Y+=e*St,X+=e*ht,G+=e*ut,nt+=e*V,dt+=e*Et,F+=e*jt,e=h[4],U+=e*ot,$+=e*Q,Ot+=e*it,lt+=e*st,Tt+=e*at,vt+=e*x,ft+=e*gt,rt+=e*mt,tt+=e*wt,Y+=e*_t,X+=e*St,G+=e*ht,nt+=e*ut,dt+=e*V,F+=e*Et,Ht+=e*jt,e=h[5],$+=e*ot,Ot+=e*Q,lt+=e*it,Tt+=e*st,vt+=e*at,ft+=e*x,rt+=e*gt,tt+=e*mt,Y+=e*wt,X+=e*_t,G+=e*St,nt+=e*ht,dt+=e*ut,F+=e*V,Ht+=e*Et,Ut+=e*jt,e=h[6],Ot+=e*ot,lt+=e*Q,Tt+=e*it,vt+=e*st,ft+=e*at,rt+=e*x,tt+=e*gt,Y+=e*mt,X+=e*wt,G+=e*_t,nt+=e*St,dt+=e*ht,F+=e*ut,Ht+=e*V,Ut+=e*Et,Dt+=e*jt,e=h[7],lt+=e*ot,Tt+=e*Q,vt+=e*it,ft+=e*st,rt+=e*at,tt+=e*x,Y+=e*gt,X+=e*mt,G+=e*wt,nt+=e*_t,dt+=e*St,F+=e*ht,Ht+=e*ut,Ut+=e*V,Dt+=e*Et,$t+=e*jt,e=h[8],Tt+=e*ot,vt+=e*Q,ft+=e*it,rt+=e*st,tt+=e*at,Y+=e*x,X+=e*gt,G+=e*mt,nt+=e*wt,dt+=e*_t,F+=e*St,Ht+=e*ht,Ut+=e*ut,Dt+=e*V,$t+=e*Et,At+=e*jt,e=h[9],vt+=e*ot,ft+=e*Q,rt+=e*it,tt+=e*st,Y+=e*at,X+=e*x,G+=e*gt,nt+=e*mt,dt+=e*wt,F+=e*_t,Ht+=e*St,Ut+=e*ht,Dt+=e*ut,$t+=e*V,At+=e*Et,Jt+=e*jt,e=h[10],ft+=e*ot,rt+=e*Q,tt+=e*it,Y+=e*st,X+=e*at,G+=e*x,nt+=e*gt,dt+=e*mt,F+=e*wt,Ht+=e*_t,Ut+=e*St,Dt+=e*ht,$t+=e*ut,At+=e*V,Jt+=e*Et,Qt+=e*jt,e=h[11],rt+=e*ot,tt+=e*Q,Y+=e*it,X+=e*st,G+=e*at,nt+=e*x,dt+=e*gt,F+=e*mt,Ht+=e*wt,Ut+=e*_t,Dt+=e*St,$t+=e*ht,At+=e*ut,Jt+=e*V,Qt+=e*Et,ie+=e*jt,e=h[12],tt+=e*ot,Y+=e*Q,X+=e*it,G+=e*st,nt+=e*at,dt+=e*x,F+=e*gt,Ht+=e*mt,Ut+=e*wt,Dt+=e*_t,$t+=e*St,At+=e*ht,Jt+=e*ut,Qt+=e*V,ie+=e*Et,Gt+=e*jt,e=h[13],Y+=e*ot,X+=e*Q,G+=e*it,nt+=e*st,dt+=e*at,F+=e*x,Ht+=e*gt,Ut+=e*mt,Dt+=e*wt,$t+=e*_t,At+=e*St,Jt+=e*ht,Qt+=e*ut,ie+=e*V,Gt+=e*Et,ce+=e*jt,e=h[14],X+=e*ot,G+=e*Q,nt+=e*it,dt+=e*st,F+=e*at,Ht+=e*x,Ut+=e*gt,Dt+=e*mt,$t+=e*wt,At+=e*_t,Jt+=e*St,Qt+=e*ht,ie+=e*ut,Gt+=e*V,ce+=e*Et,we+=e*jt,e=h[15],G+=e*ot,nt+=e*Q,dt+=e*it,F+=e*st,Ht+=e*at,Ut+=e*x,Dt+=e*gt,$t+=e*mt,At+=e*wt,Jt+=e*_t,Qt+=e*St,ie+=e*ht,Gt+=e*ut,ce+=e*V,we+=e*Et,Oe+=e*jt,T+=38*nt,M+=38*dt,A+=38*F,D+=38*Ht,U+=38*Ut,$+=38*Dt,Ot+=38*$t,lt+=38*At,Tt+=38*Jt,vt+=38*Qt,ft+=38*ie,rt+=38*Gt,tt+=38*ce,Y+=38*we,X+=38*Oe,a=1,e=T+a+65535,a=Math.floor(e/65536),T=e-a*65536,e=M+a+65535,a=Math.floor(e/65536),M=e-a*65536,e=A+a+65535,a=Math.floor(e/65536),A=e-a*65536,e=D+a+65535,a=Math.floor(e/65536),D=e-a*65536,e=U+a+65535,a=Math.floor(e/65536),U=e-a*65536,e=$+a+65535,a=Math.floor(e/65536),$=e-a*65536,e=Ot+a+65535,a=Math.floor(e/65536),Ot=e-a*65536,e=lt+a+65535,a=Math.floor(e/65536),lt=e-a*65536,e=Tt+a+65535,a=Math.floor(e/65536),Tt=e-a*65536,e=vt+a+65535,a=Math.floor(e/65536),vt=e-a*65536,e=ft+a+65535,a=Math.floor(e/65536),ft=e-a*65536,e=rt+a+65535,a=Math.floor(e/65536),rt=e-a*65536,e=tt+a+65535,a=Math.floor(e/65536),tt=e-a*65536,e=Y+a+65535,a=Math.floor(e/65536),Y=e-a*65536,e=X+a+65535,a=Math.floor(e/65536),X=e-a*65536,e=G+a+65535,a=Math.floor(e/65536),G=e-a*65536,T+=a-1+37*(a-1),a=1,e=T+a+65535,a=Math.floor(e/65536),T=e-a*65536,e=M+a+65535,a=Math.floor(e/65536),M=e-a*65536,e=A+a+65535,a=Math.floor(e/65536),A=e-a*65536,e=D+a+65535,a=Math.floor(e/65536),D=e-a*65536,e=U+a+65535,a=Math.floor(e/65536),U=e-a*65536,e=$+a+65535,a=Math.floor(e/65536),$=e-a*65536,e=Ot+a+65535,a=Math.floor(e/65536),Ot=e-a*65536,e=lt+a+65535,a=Math.floor(e/65536),lt=e-a*65536,e=Tt+a+65535,a=Math.floor(e/65536),Tt=e-a*65536,e=vt+a+65535,a=Math.floor(e/65536),vt=e-a*65536,e=ft+a+65535,a=Math.floor(e/65536),ft=e-a*65536,e=rt+a+65535,a=Math.floor(e/65536),rt=e-a*65536,e=tt+a+65535,a=Math.floor(e/65536),tt=e-a*65536,e=Y+a+65535,a=Math.floor(e/65536),Y=e-a*65536,e=X+a+65535,a=Math.floor(e/65536),X=e-a*65536,e=G+a+65535,a=Math.floor(e/65536),G=e-a*65536,T+=a-1+37*(a-1),p[0]=T,p[1]=M,p[2]=A,p[3]=D,p[4]=U,p[5]=$,p[6]=Ot,p[7]=lt,p[8]=Tt,p[9]=vt,p[10]=ft,p[11]=rt,p[12]=tt,p[13]=Y,p[14]=X,p[15]=G}function Bt(p,h){B(p,h,h)}function te(p,h){const f=s();let e;for(e=0;e<16;e++)f[e]=h[e];for(e=253;e>=0;e--)Bt(f,f),e!==2&&e!==4&&B(f,f,h);for(e=0;e<16;e++)p[e]=f[e]}function yt(p,h){const f=s();let e;for(e=0;e<16;e++)f[e]=h[e];for(e=250;e>=0;e--)Bt(f,f),e!==1&&B(f,f,h);for(e=0;e<16;e++)p[e]=f[e]}function Ft(p,h){const f=s(),e=s(),a=s(),T=s(),M=s(),A=s(),D=s(),U=s(),$=s();C(f,p[1],p[0]),C($,h[1],h[0]),B(f,f,$),Rt(e,p[0],p[1]),Rt($,h[0],h[1]),B(e,e,$),B(a,p[3],h[3]),B(a,a,i),B(T,p[2],h[2]),Rt(T,T,T),C(M,e,f),C(A,T,a),Rt(D,T,a),Rt(U,e,f),B(p[0],M,A),B(p[1],U,D),B(p[2],D,A),B(p[3],M,U)}function Kt(p,h,f){for(let e=0;e<4;e++)H(p[e],h[e],f)}function Xt(p,h){const f=s(),e=s(),a=s();te(a,h[2]),B(f,h[0],a),B(e,h[1],a),N(p,e),p[31]^=Lt(f)<<7}function m(p,h,f){_(p[0],j),_(p[1],S),_(p[2],S),_(p[3],j);for(let e=255;e>=0;--e){const a=f[e/8|0]>>(e&7)&1;Kt(p,h,a),Ft(h,p),Ft(p,p),Kt(p,h,a)}}function g(p,h){const f=[s(),s(),s(),s()];_(f[0],l),_(f[1],y),_(f[2],S),B(f[3],l,y),m(p,f,h)}function Z(p){if(p.length!==t.SEED_LENGTH)throw new Error(`ed25519: seed must be ${t.SEED_LENGTH} bytes`);const h=(0,n.hash)(p);h[0]&=248,h[31]&=127,h[31]|=64;const f=new Uint8Array(32),e=[s(),s(),s(),s()];g(e,h),Xt(f,e);const a=new Uint8Array(64);return a.set(p),a.set(f,32),{publicKey:f,secretKey:a}}t.generateKeyPairFromSeed=Z;function ct(p){const h=(0,r.randomBytes)(32,p),f=Z(h);return(0,c.wipe)(h),f}t.generateKeyPair=ct;function O(p){if(p.length!==t.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${t.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(p.subarray(32))}t.extractPublicKeyFromSecretKey=O;const k=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function P(p,h){let f,e,a,T;for(e=63;e>=32;--e){for(f=0,a=e-32,T=e-12;a<T;++a)h[a]+=f-16*h[e]*k[a-(e-32)],f=Math.floor((h[a]+128)/256),h[a]-=f*256;h[a]+=f,h[e]=0}for(f=0,a=0;a<32;a++)h[a]+=f-(h[31]>>4)*k[a],f=h[a]>>8,h[a]&=255;for(a=0;a<32;a++)h[a]-=f*k[a];for(e=0;e<32;e++)h[e+1]+=h[e]>>8,p[e]=h[e]&255}function z(p){const h=new Float64Array(64);for(let f=0;f<64;f++)h[f]=p[f];for(let f=0;f<64;f++)p[f]=0;P(p,h)}function zt(p,h){const f=new Float64Array(64),e=[s(),s(),s(),s()],a=(0,n.hash)(p.subarray(0,32));a[0]&=248,a[31]&=127,a[31]|=64;const T=new Uint8Array(64);T.set(a.subarray(32),32);const M=new n.SHA512;M.update(T.subarray(32)),M.update(h);const A=M.digest();M.clean(),z(A),g(e,A),Xt(T,e),M.reset(),M.update(T.subarray(0,32)),M.update(p.subarray(32)),M.update(h);const D=M.digest();z(D);for(let U=0;U<32;U++)f[U]=A[U];for(let U=0;U<32;U++)for(let $=0;$<32;$++)f[U+$]+=D[U]*a[$];return P(T.subarray(32),f),T}t.sign=zt;function et(p,h){const f=s(),e=s(),a=s(),T=s(),M=s(),A=s(),D=s();return _(p[2],S),bt(p[1],h),Bt(a,p[1]),B(T,a,v),C(a,a,p[2]),Rt(T,p[2],T),Bt(M,T),Bt(A,M),B(D,A,M),B(f,D,a),B(f,f,T),yt(f,f),B(f,f,a),B(f,f,T),B(f,f,T),B(p[0],f,T),Bt(e,p[0]),B(e,e,T),K(e,a)&&B(p[0],p[0],E),Bt(e,p[0]),B(e,e,T),K(e,a)?-1:(Lt(p[0])===h[31]>>7&&C(p[0],j,p[0]),B(p[3],p[0],p[1]),0)}function me(p,h,f){const e=new Uint8Array(32),a=[s(),s(),s(),s()],T=[s(),s(),s(),s()];if(f.length!==t.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${t.SIGNATURE_LENGTH} bytes`);if(et(T,p))return!1;const M=new n.SHA512;M.update(f.subarray(0,32)),M.update(p),M.update(h);const A=M.digest();return z(A),m(a,T,A),g(T,f.subarray(32)),Ft(a,T),Xt(e,a),!pt(f,e)}t.verify=me;function I(p){let h=[s(),s(),s(),s()];if(et(h,p))throw new Error("Ed25519: invalid public key");let f=s(),e=s(),a=h[1];Rt(f,S,a),C(e,S,a),te(e,e),B(f,f,e);let T=new Uint8Array(32);return N(T,f),T}t.convertPublicKeyToX25519=I;function be(p){const h=(0,n.hash)(p.subarray(0,32));h[0]&=248,h[31]&=127,h[31]|=64;const f=new Uint8Array(h.subarray(0,32));return(0,c.wipe)(h),f}t.convertSecretKeyToX25519=be})(or);const Xo="EdDSA",Jo="JWT",Wr=".",Vr="base64url",Zo="utf8",Yo="utf8",Qo=":",xo="did",qo="key",kr="base58btc",ti="z",ei="K36",ri=32,ni=t=>JSON.stringify(t,(r,n)=>typeof n=="bigint"?n.toString()+"n":n);function oi(t){return typeof t=="string"?t:ni(t)||""}function Ge(t){return rr(er(oi(t),Zo),Vr)}function ii(t){const r=er(ei,kr),n=ti+rr(eo([r,t]),kr);return[xo,qo,n].join(Qo)}function si(t){return rr(t,Vr)}function ai(t){return er([Ge(t.header),Ge(t.payload)].join(Wr),Yo)}function ui(t){return[Ge(t.header),Ge(t.payload),si(t.signature)].join(Wr)}function ws(t=Ir.randomBytes(ri)){return or.generateKeyPairFromSeed(t)}async function _s(t,r,n,c,s=to.fromMiliseconds(Date.now())){const b={alg:Xo,typ:Jo},j=ii(c.publicKey),S=s+n,v={iss:j,sub:t,aud:r,iat:s,exp:S},i=ai({header:b,payload:v}),l=or.sign(c.secretKey,i);return ui({header:b,payload:v,signature:l})}const ci="PARSE_ERROR",li="INVALID_REQUEST",fi="METHOD_NOT_FOUND",hi="INVALID_PARAMS",Xr="INTERNAL_ERROR",ir="SERVER_ERROR",pi=[-32700,-32600,-32601,-32602,-32603],Ee={[ci]:{code:-32700,message:"Parse error"},[li]:{code:-32600,message:"Invalid Request"},[fi]:{code:-32601,message:"Method not found"},[hi]:{code:-32602,message:"Invalid params"},[Xr]:{code:-32603,message:"Internal error"},[ir]:{code:-32e3,message:"Server error"}},Jr=ir;function bi(t){return pi.includes(t)}function Pr(t){return Object.keys(Ee).includes(t)?Ee[t]:Ee[Jr]}function yi(t){return Object.values(Ee).find(n=>n.code===t)||Ee[Jr]}function vi(t,r,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${r}`):t}var Zr={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Qe=function(t,r){return Qe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,c){n.__proto__=c}||function(n,c){for(var s in c)c.hasOwnProperty(s)&&(n[s]=c[s])},Qe(t,r)};function di(t,r){Qe(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var xe=function(){return xe=Object.assign||function(t){for(var r,n=1,c=arguments.length;n<c;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},xe.apply(this,arguments)};function gi(t,r){var n={};for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&r.indexOf(c)<0&&(n[c]=t[c]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,c=Object.getOwnPropertySymbols(t);s<c.length;s++)r.indexOf(c[s])<0&&Object.prototype.propertyIsEnumerable.call(t,c[s])&&(n[c[s]]=t[c[s]]);return n}function mi(t,r,n,c){var s=arguments.length,b=s<3?r:c===null?c=Object.getOwnPropertyDescriptor(r,n):c,j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(t,r,n,c);else for(var S=t.length-1;S>=0;S--)(j=t[S])&&(b=(s<3?j(b):s>3?j(r,n,b):j(r,n))||b);return s>3&&b&&Object.defineProperty(r,n,b),b}function wi(t,r){return function(n,c){r(n,c,t)}}function _i(t,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,r)}function Si(t,r,n,c){function s(b){return b instanceof n?b:new n(function(j){j(b)})}return new(n||(n=Promise))(function(b,j){function S(l){try{i(c.next(l))}catch(y){j(y)}}function v(l){try{i(c.throw(l))}catch(y){j(y)}}function i(l){l.done?b(l.value):s(l.value).then(S,v)}i((c=c.apply(t,r||[])).next())})}function Ei(t,r){var n={label:0,sent:function(){if(b[0]&1)throw b[1];return b[1]},trys:[],ops:[]},c,s,b,j;return j={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(j[Symbol.iterator]=function(){return this}),j;function S(i){return function(l){return v([i,l])}}function v(i){if(c)throw new TypeError("Generator is already executing.");for(;n;)try{if(c=1,s&&(b=i[0]&2?s.return:i[0]?s.throw||((b=s.return)&&b.call(s),0):s.next)&&!(b=b.call(s,i[1])).done)return b;switch(s=0,b&&(i=[i[0]&2,b.value]),i[0]){case 0:case 1:b=i;break;case 4:return n.label++,{value:i[1],done:!1};case 5:n.label++,s=i[1],i=[0];continue;case 7:i=n.ops.pop(),n.trys.pop();continue;default:if(b=n.trys,!(b=b.length>0&&b[b.length-1])&&(i[0]===6||i[0]===2)){n=0;continue}if(i[0]===3&&(!b||i[1]>b[0]&&i[1]<b[3])){n.label=i[1];break}if(i[0]===6&&n.label<b[1]){n.label=b[1],b=i;break}if(b&&n.label<b[2]){n.label=b[2],n.ops.push(i);break}b[2]&&n.ops.pop(),n.trys.pop();continue}i=r.call(t,n)}catch(l){i=[6,l],s=0}finally{c=b=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}function ji(t,r,n,c){c===void 0&&(c=n),t[c]=r[n]}function ki(t,r){for(var n in t)n!=="default"&&!r.hasOwnProperty(n)&&(r[n]=t[n])}function qe(t){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&t[r],c=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&c>=t.length&&(t=void 0),{value:t&&t[c++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yr(t,r){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var c=n.call(t),s,b=[],j;try{for(;(r===void 0||r-- >0)&&!(s=c.next()).done;)b.push(s.value)}catch(S){j={error:S}}finally{try{s&&!s.done&&(n=c.return)&&n.call(c)}finally{if(j)throw j.error}}return b}function Pi(){for(var t=[],r=0;r<arguments.length;r++)t=t.concat(Yr(arguments[r]));return t}function Li(){for(var t=0,r=0,n=arguments.length;r<n;r++)t+=arguments[r].length;for(var c=Array(t),s=0,r=0;r<n;r++)for(var b=arguments[r],j=0,S=b.length;j<S;j++,s++)c[s]=b[j];return c}function Pe(t){return this instanceof Pe?(this.v=t,this):new Pe(t)}function zi(t,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c=n.apply(t,r||[]),s,b=[];return s={},j("next"),j("throw"),j("return"),s[Symbol.asyncIterator]=function(){return this},s;function j(E){c[E]&&(s[E]=function(_){return new Promise(function(w,H){b.push([E,_,w,H])>1||S(E,_)})})}function S(E,_){try{v(c[E](_))}catch(w){y(b[0][3],w)}}function v(E){E.value instanceof Pe?Promise.resolve(E.value.v).then(i,l):y(b[0][2],E)}function i(E){S("next",E)}function l(E){S("throw",E)}function y(E,_){E(_),b.shift(),b.length&&S(b[0][0],b[0][1])}}function Oi(t){var r,n;return r={},c("next"),c("throw",function(s){throw s}),c("return"),r[Symbol.iterator]=function(){return this},r;function c(s,b){r[s]=t[s]?function(j){return(n=!n)?{value:Pe(t[s](j)),done:s==="return"}:b?b(j):j}:b}}function Ti(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t[Symbol.asyncIterator],n;return r?r.call(t):(t=typeof qe=="function"?qe(t):t[Symbol.iterator](),n={},c("next"),c("throw"),c("return"),n[Symbol.asyncIterator]=function(){return this},n);function c(b){n[b]=t[b]&&function(j){return new Promise(function(S,v){j=t[b](j),s(S,v,j.done,j.value)})}}function s(b,j,S,v){Promise.resolve(v).then(function(i){b({value:i,done:S})},j)}}function Mi(t,r){return Object.defineProperty?Object.defineProperty(t,"raw",{value:r}):t.raw=r,t}function Ri(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r.default=t,r}function Bi(t){return t&&t.__esModule?t:{default:t}}function Hi(t,r){if(!r.has(t))throw new TypeError("attempted to get private field on non-instance");return r.get(t)}function Ii(t,r,n){if(!r.has(t))throw new TypeError("attempted to set private field on non-instance");return r.set(t,n),n}const Ui=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return xe},__asyncDelegator:Oi,__asyncGenerator:zi,__asyncValues:Ti,__await:Pe,__awaiter:Si,__classPrivateFieldGet:Hi,__classPrivateFieldSet:Ii,__createBinding:ji,__decorate:mi,__exportStar:ki,__extends:di,__generator:Ei,__importDefault:Bi,__importStar:Ri,__makeTemplateObject:Mi,__metadata:_i,__param:wi,__read:Yr,__rest:gi,__spread:Pi,__spreadArrays:Li,__values:qe},Symbol.toStringTag,{value:"Module"})),Ai=Br(Ui);var ne={},Lr;function Ni(){if(Lr)return ne;Lr=1,Object.defineProperty(ne,"__esModule",{value:!0}),ne.isBrowserCryptoAvailable=ne.getSubtleCrypto=ne.getBrowerCrypto=void 0;function t(){return(xt===null||xt===void 0?void 0:xt.crypto)||(xt===null||xt===void 0?void 0:xt.msCrypto)||{}}ne.getBrowerCrypto=t;function r(){const c=t();return c.subtle||c.webkitSubtle}ne.getSubtleCrypto=r;function n(){return!!t()&&!!r()}return ne.isBrowserCryptoAvailable=n,ne}var oe={},zr;function Ki(){if(zr)return oe;zr=1,Object.defineProperty(oe,"__esModule",{value:!0}),oe.isBrowser=oe.isNode=oe.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}oe.isReactNative=t;function r(){return typeof Yt.process<"u"&&typeof Yt.process.versions<"u"&&typeof Yt.process.versions.node<"u"}oe.isNode=r;function n(){return!t()&&!r()}return oe.isBrowser=n,oe}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const r=Ai;r.__exportStar(Ni(),t),r.__exportStar(Ki(),t)})(Zr);function Qr(t=3){const r=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return r+n}function Ss(t=6){return BigInt(Qr(t))}function Es(t,r,n){return{id:n||Qr(),jsonrpc:"2.0",method:t,params:r}}function js(t,r){return{id:t,jsonrpc:"2.0",result:r}}function Di(t,r,n){return{id:t,jsonrpc:"2.0",error:$i(r)}}function $i(t,r){return typeof t>"u"?Pr(Xr):(typeof t=="string"&&(t=Object.assign(Object.assign({},Pr(ir)),{message:t})),bi(t.code)&&(t=yi(t.code)),t)}class Gi{}class Ci extends Gi{constructor(){super()}}class ks extends Ci{constructor(r){super()}}const Fi="^https?:",Wi="^wss?:";function Vi(t){const r=t.match(new RegExp(/^\w+:/,"gi"));if(!(!r||!r.length))return r[0]}function xr(t,r){const n=Vi(t);return typeof n>"u"?!1:new RegExp(r).test(n)}function Ps(t){return xr(t,Fi)}function Or(t){return xr(t,Wi)}function Xi(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function qr(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function Ls(t){return qr(t)&&"method"in t}function zs(t){return qr(t)&&(Ji(t)||Zi(t))}function Ji(t){return"result"in t}function Zi(t){return"error"in t}const Yi=t=>JSON.stringify(t,(r,n)=>typeof n=="bigint"?n.toString()+"n":n),Qi=t=>{const r=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(r,'$1"$2n"$3');return JSON.parse(n,(c,s)=>typeof s=="string"&&s.match(/^\d+n$/)?BigInt(s.substring(0,s.length-1)):s)};function xi(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return Qi(t)}catch{return t}}function qi(t){return typeof t=="string"?t:Yi(t)||""}const ts=()=>typeof WebSocket<"u"?WebSocket:typeof Yt.global<"u"&&typeof Yt.global.WebSocket<"u"?Yt.global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),es=()=>typeof WebSocket<"u"||typeof Yt.global<"u"&&typeof Yt.global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",Tr=t=>t.split("?")[0],Mr=10,rs=ts();class Os{constructor(r){if(this.url=r,this.events=new Gn.EventEmitter,this.registering=!1,!Or(r))throw new Error(`Provided URL is not compatible with WebSocket connection: ${r}`);this.url=r}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(r,n){this.events.on(r,n)}once(r,n){this.events.once(r,n)}off(r,n){this.events.off(r,n)}removeListener(r,n){this.events.removeListener(r,n)}async open(r=this.url){await this.register(r)}async close(){return new Promise((r,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=c=>{this.onClose(c),r()},this.socket.close()})}async send(r){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(qi(r))}catch(n){this.onError(r.id,n)}}register(r=this.url){if(!Or(r))throw new Error(`Provided URL is not compatible with WebSocket connection: ${r}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((c,s)=>{this.events.once("register_error",b=>{this.resetMaxListeners(),s(b)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));c(this.socket)})})}return this.url=r,this.registering=!0,new Promise((n,c)=>{const s=new URLSearchParams(r).get("origin"),b=Zr.isReactNative()?{headers:{origin:s}}:{rejectUnauthorized:!Xi(r)},j=new rs(r,[],b);es()?j.onerror=S=>{const v=S;c(this.emitError(v.error))}:j.on("error",S=>{c(this.emitError(S))}),j.onopen=()=>{this.onOpen(j),n(j)}})}onOpen(r){r.onmessage=n=>this.onPayload(n),r.onclose=n=>this.onClose(n),this.socket=r,this.registering=!1,this.events.emit("open")}onClose(r){this.socket=void 0,this.registering=!1,this.events.emit("close",r)}onPayload(r){if(typeof r.data>"u")return;const n=typeof r.data=="string"?xi(r.data):r.data;this.events.emit("payload",n)}onError(r,n){const c=this.parseError(n),s=c.message||c.toString(),b=Di(r,s);this.events.emit("payload",b)}parseError(r,n=this.url){return vi(r,Tr(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>Mr&&this.events.setMaxListeners(Mr)}emitError(r){const n=this.parseError(new Error((r==null?void 0:r.message)||`WebSocket connection failed for host: ${Tr(this.url)}`));return this.events.emit("register_error",n),n}}var Ce={exports:{}};Ce.exports;(function(t,r){var n=200,c="__lodash_hash_undefined__",s=1,b=2,j=9007199254740991,S="[object Arguments]",v="[object Array]",i="[object AsyncFunction]",l="[object Boolean]",y="[object Date]",E="[object Error]",_="[object Function]",w="[object GeneratorFunction]",H="[object Map]",N="[object Number]",pt="[object Null]",K="[object Object]",Lt="[object Promise]",bt="[object Proxy]",Rt="[object RegExp]",C="[object Set]",B="[object String]",Bt="[object Symbol]",te="[object Undefined]",yt="[object WeakMap]",Ft="[object ArrayBuffer]",Kt="[object DataView]",Xt="[object Float32Array]",m="[object Float64Array]",g="[object Int8Array]",Z="[object Int16Array]",ct="[object Int32Array]",O="[object Uint8Array]",k="[object Uint8ClampedArray]",P="[object Uint16Array]",z="[object Uint32Array]",zt=/[\\^$.*+?()[\]{}|]/g,et=/^\[object .+?Constructor\]$/,me=/^(?:0|[1-9]\d*)$/,I={};I[Xt]=I[m]=I[g]=I[Z]=I[ct]=I[O]=I[k]=I[P]=I[z]=!0,I[S]=I[v]=I[Ft]=I[l]=I[Kt]=I[y]=I[E]=I[_]=I[H]=I[N]=I[K]=I[Rt]=I[C]=I[B]=I[yt]=!1;var be=typeof xt=="object"&&xt&&xt.Object===Object&&xt,p=typeof self=="object"&&self&&self.Object===Object&&self,h=be||p||Function("return this")(),f=r&&!r.nodeType&&r,e=f&&!0&&t&&!t.nodeType&&t,a=e&&e.exports===f,T=a&&be.process,M=function(){try{return T&&T.binding&&T.binding("util")}catch{}}(),A=M&&M.isTypedArray;function D(o,u){for(var d=-1,L=o==null?0:o.length,W=0,R=[];++d<L;){var q=o[d];u(q,d,o)&&(R[W++]=q)}return R}function U(o,u){for(var d=-1,L=u.length,W=o.length;++d<L;)o[W+d]=u[d];return o}function $(o,u){for(var d=-1,L=o==null?0:o.length;++d<L;)if(u(o[d],d,o))return!0;return!1}function Ot(o,u){for(var d=-1,L=Array(o);++d<o;)L[d]=u(d);return L}function lt(o){return function(u){return o(u)}}function Tt(o,u){return o.has(u)}function vt(o,u){return o==null?void 0:o[u]}function ft(o){var u=-1,d=Array(o.size);return o.forEach(function(L,W){d[++u]=[W,L]}),d}function rt(o,u){return function(d){return o(u(d))}}function tt(o){var u=-1,d=Array(o.size);return o.forEach(function(L){d[++u]=L}),d}var Y=Array.prototype,X=Function.prototype,G=Object.prototype,nt=h["__core-js_shared__"],dt=X.toString,F=G.hasOwnProperty,Ht=function(){var o=/[^.]+$/.exec(nt&&nt.keys&&nt.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),Ut=G.toString,Dt=RegExp("^"+dt.call(F).replace(zt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$t=a?h.Buffer:void 0,At=h.Symbol,Jt=h.Uint8Array,Qt=G.propertyIsEnumerable,ie=Y.splice,Gt=At?At.toStringTag:void 0,ce=Object.getOwnPropertySymbols,we=$t?$t.isBuffer:void 0,Oe=rt(Object.keys,Object),ot=ye(h,"DataView"),Q=ye(h,"Map"),it=ye(h,"Promise"),st=ye(h,"Set"),at=ye(h,"WeakMap"),x=ye(Object,"create"),gt=fe(ot),mt=fe(Q),wt=fe(it),_t=fe(st),St=fe(at),ht=At?At.prototype:void 0,ut=ht?ht.valueOf:void 0;function V(o){var u=-1,d=o==null?0:o.length;for(this.clear();++u<d;){var L=o[u];this.set(L[0],L[1])}}function Et(){this.__data__=x?x(null):{},this.size=0}function jt(o){var u=this.has(o)&&delete this.__data__[o];return this.size-=u?1:0,u}function tn(o){var u=this.__data__;if(x){var d=u[o];return d===c?void 0:d}return F.call(u,o)?u[o]:void 0}function en(o){var u=this.__data__;return x?u[o]!==void 0:F.call(u,o)}function rn(o,u){var d=this.__data__;return this.size+=this.has(o)?0:1,d[o]=x&&u===void 0?c:u,this}V.prototype.clear=Et,V.prototype.delete=jt,V.prototype.get=tn,V.prototype.has=en,V.prototype.set=rn;function ee(o){var u=-1,d=o==null?0:o.length;for(this.clear();++u<d;){var L=o[u];this.set(L[0],L[1])}}function nn(){this.__data__=[],this.size=0}function on(o){var u=this.__data__,d=Me(u,o);if(d<0)return!1;var L=u.length-1;return d==L?u.pop():ie.call(u,d,1),--this.size,!0}function sn(o){var u=this.__data__,d=Me(u,o);return d<0?void 0:u[d][1]}function an(o){return Me(this.__data__,o)>-1}function un(o,u){var d=this.__data__,L=Me(d,o);return L<0?(++this.size,d.push([o,u])):d[L][1]=u,this}ee.prototype.clear=nn,ee.prototype.delete=on,ee.prototype.get=sn,ee.prototype.has=an,ee.prototype.set=un;function le(o){var u=-1,d=o==null?0:o.length;for(this.clear();++u<d;){var L=o[u];this.set(L[0],L[1])}}function cn(){this.size=0,this.__data__={hash:new V,map:new(Q||ee),string:new V}}function ln(o){var u=Re(this,o).delete(o);return this.size-=u?1:0,u}function fn(o){return Re(this,o).get(o)}function hn(o){return Re(this,o).has(o)}function pn(o,u){var d=Re(this,o),L=d.size;return d.set(o,u),this.size+=d.size==L?0:1,this}le.prototype.clear=cn,le.prototype.delete=ln,le.prototype.get=fn,le.prototype.has=hn,le.prototype.set=pn;function Te(o){var u=-1,d=o==null?0:o.length;for(this.__data__=new le;++u<d;)this.add(o[u])}function bn(o){return this.__data__.set(o,c),this}function yn(o){return this.__data__.has(o)}Te.prototype.add=Te.prototype.push=bn,Te.prototype.has=yn;function se(o){var u=this.__data__=new ee(o);this.size=u.size}function vn(){this.__data__=new ee,this.size=0}function dn(o){var u=this.__data__,d=u.delete(o);return this.size=u.size,d}function gn(o){return this.__data__.get(o)}function mn(o){return this.__data__.has(o)}function wn(o,u){var d=this.__data__;if(d instanceof ee){var L=d.__data__;if(!Q||L.length<n-1)return L.push([o,u]),this.size=++d.size,this;d=this.__data__=new le(L)}return d.set(o,u),this.size=d.size,this}se.prototype.clear=vn,se.prototype.delete=dn,se.prototype.get=gn,se.prototype.has=mn,se.prototype.set=wn;function _n(o,u){var d=Be(o),L=!d&&Un(o),W=!d&&!L&&We(o),R=!d&&!L&&!W&&br(o),q=d||L||W||R,kt=q?Ot(o.length,String):[],Mt=kt.length;for(var J in o)F.call(o,J)&&!(q&&(J=="length"||W&&(J=="offset"||J=="parent")||R&&(J=="buffer"||J=="byteLength"||J=="byteOffset")||Mn(J,Mt)))&&kt.push(J);return kt}function Me(o,u){for(var d=o.length;d--;)if(lr(o[d][0],u))return d;return-1}function Sn(o,u,d){var L=u(o);return Be(o)?L:U(L,d(o))}function _e(o){return o==null?o===void 0?te:pt:Gt&&Gt in Object(o)?On(o):In(o)}function sr(o){return Se(o)&&_e(o)==S}function ar(o,u,d,L,W){return o===u?!0:o==null||u==null||!Se(o)&&!Se(u)?o!==o&&u!==u:En(o,u,d,L,ar,W)}function En(o,u,d,L,W,R){var q=Be(o),kt=Be(u),Mt=q?v:ae(o),J=kt?v:ae(u);Mt=Mt==S?K:Mt,J=J==S?K:J;var Ct=Mt==K,Zt=J==K,It=Mt==J;if(It&&We(o)){if(!We(u))return!1;q=!0,Ct=!1}if(It&&!Ct)return R||(R=new se),q||br(o)?ur(o,u,d,L,W,R):Ln(o,u,Mt,d,L,W,R);if(!(d&s)){var Wt=Ct&&F.call(o,"__wrapped__"),Vt=Zt&&F.call(u,"__wrapped__");if(Wt||Vt){var ue=Wt?o.value():o,re=Vt?u.value():u;return R||(R=new se),W(ue,re,d,L,R)}}return It?(R||(R=new se),zn(o,u,d,L,W,R)):!1}function jn(o){if(!pr(o)||Bn(o))return!1;var u=fr(o)?Dt:et;return u.test(fe(o))}function kn(o){return Se(o)&&hr(o.length)&&!!I[_e(o)]}function Pn(o){if(!Hn(o))return Oe(o);var u=[];for(var d in Object(o))F.call(o,d)&&d!="constructor"&&u.push(d);return u}function ur(o,u,d,L,W,R){var q=d&s,kt=o.length,Mt=u.length;if(kt!=Mt&&!(q&&Mt>kt))return!1;var J=R.get(o);if(J&&R.get(u))return J==u;var Ct=-1,Zt=!0,It=d&b?new Te:void 0;for(R.set(o,u),R.set(u,o);++Ct<kt;){var Wt=o[Ct],Vt=u[Ct];if(L)var ue=q?L(Vt,Wt,Ct,u,o,R):L(Wt,Vt,Ct,o,u,R);if(ue!==void 0){if(ue)continue;Zt=!1;break}if(It){if(!$(u,function(re,he){if(!Tt(It,he)&&(Wt===re||W(Wt,re,d,L,R)))return It.push(he)})){Zt=!1;break}}else if(!(Wt===Vt||W(Wt,Vt,d,L,R))){Zt=!1;break}}return R.delete(o),R.delete(u),Zt}function Ln(o,u,d,L,W,R,q){switch(d){case Kt:if(o.byteLength!=u.byteLength||o.byteOffset!=u.byteOffset)return!1;o=o.buffer,u=u.buffer;case Ft:return!(o.byteLength!=u.byteLength||!R(new Jt(o),new Jt(u)));case l:case y:case N:return lr(+o,+u);case E:return o.name==u.name&&o.message==u.message;case Rt:case B:return o==u+"";case H:var kt=ft;case C:var Mt=L&s;if(kt||(kt=tt),o.size!=u.size&&!Mt)return!1;var J=q.get(o);if(J)return J==u;L|=b,q.set(o,u);var Ct=ur(kt(o),kt(u),L,W,R,q);return q.delete(o),Ct;case Bt:if(ut)return ut.call(o)==ut.call(u)}return!1}function zn(o,u,d,L,W,R){var q=d&s,kt=cr(o),Mt=kt.length,J=cr(u),Ct=J.length;if(Mt!=Ct&&!q)return!1;for(var Zt=Mt;Zt--;){var It=kt[Zt];if(!(q?It in u:F.call(u,It)))return!1}var Wt=R.get(o);if(Wt&&R.get(u))return Wt==u;var Vt=!0;R.set(o,u),R.set(u,o);for(var ue=q;++Zt<Mt;){It=kt[Zt];var re=o[It],he=u[It];if(L)var yr=q?L(he,re,It,u,o,R):L(re,he,It,o,u,R);if(!(yr===void 0?re===he||W(re,he,d,L,R):yr)){Vt=!1;break}ue||(ue=It=="constructor")}if(Vt&&!ue){var He=o.constructor,Ie=u.constructor;He!=Ie&&"constructor"in o&&"constructor"in u&&!(typeof He=="function"&&He instanceof He&&typeof Ie=="function"&&Ie instanceof Ie)&&(Vt=!1)}return R.delete(o),R.delete(u),Vt}function cr(o){return Sn(o,Kn,Tn)}function Re(o,u){var d=o.__data__;return Rn(u)?d[typeof u=="string"?"string":"hash"]:d.map}function ye(o,u){var d=vt(o,u);return jn(d)?d:void 0}function On(o){var u=F.call(o,Gt),d=o[Gt];try{o[Gt]=void 0;var L=!0}catch{}var W=Ut.call(o);return L&&(u?o[Gt]=d:delete o[Gt]),W}var Tn=ce?function(o){return o==null?[]:(o=Object(o),D(ce(o),function(u){return Qt.call(o,u)}))}:Dn,ae=_e;(ot&&ae(new ot(new ArrayBuffer(1)))!=Kt||Q&&ae(new Q)!=H||it&&ae(it.resolve())!=Lt||st&&ae(new st)!=C||at&&ae(new at)!=yt)&&(ae=function(o){var u=_e(o),d=u==K?o.constructor:void 0,L=d?fe(d):"";if(L)switch(L){case gt:return Kt;case mt:return H;case wt:return Lt;case _t:return C;case St:return yt}return u});function Mn(o,u){return u=u??j,!!u&&(typeof o=="number"||me.test(o))&&o>-1&&o%1==0&&o<u}function Rn(o){var u=typeof o;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?o!=="__proto__":o===null}function Bn(o){return!!Ht&&Ht in o}function Hn(o){var u=o&&o.constructor,d=typeof u=="function"&&u.prototype||G;return o===d}function In(o){return Ut.call(o)}function fe(o){if(o!=null){try{return dt.call(o)}catch{}try{return o+""}catch{}}return""}function lr(o,u){return o===u||o!==o&&u!==u}var Un=sr(function(){return arguments}())?sr:function(o){return Se(o)&&F.call(o,"callee")&&!Qt.call(o,"callee")},Be=Array.isArray;function An(o){return o!=null&&hr(o.length)&&!fr(o)}var We=we||$n;function Nn(o,u){return ar(o,u)}function fr(o){if(!pr(o))return!1;var u=_e(o);return u==_||u==w||u==i||u==bt}function hr(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=j}function pr(o){var u=typeof o;return o!=null&&(u=="object"||u=="function")}function Se(o){return o!=null&&typeof o=="object"}var br=A?lt(A):kn;function Kn(o){return An(o)?_n(o):Pn(o)}function Dn(){return[]}function $n(){return!1}t.exports=Nn})(Ce,Ce.exports);var ns=Ce.exports;const Ts=tr(ns);function os(t,r){return r=r||{},new Promise(function(n,c){var s=new XMLHttpRequest,b=[],j=[],S={},v=function(){return{ok:(s.status/100|0)==2,statusText:s.statusText,status:s.status,url:s.responseURL,text:function(){return Promise.resolve(s.responseText)},json:function(){return Promise.resolve(s.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([s.response]))},clone:v,headers:{keys:function(){return b},entries:function(){return j},get:function(l){return S[l.toLowerCase()]},has:function(l){return l.toLowerCase()in S}}}};for(var i in s.open(r.method||"get",t,!0),s.onload=function(){s.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(l,y,E){b.push(y=y.toLowerCase()),j.push([y,E]),S[y]=S[y]?S[y]+","+E:E}),n(v())},s.onerror=c,s.withCredentials=r.credentials=="include",r.headers)s.setRequestHeader(i,r.headers[i]);s.send(r.body||null)})}const is=Object.freeze(Object.defineProperty({__proto__:null,default:os},Symbol.toStringTag,{value:"Module"})),Rr=Br(is);var ss=self.fetch||(self.fetch=Rr.default||Rr);const Ms=tr(ss);export{Gr as $,Os as A,Es as E,Ps as I,zs as L,ks as O,Ms as P,Ts as R,js as S,Ls as T,Di as U,Zi as V,Ji as W,Qr as X,gs as _,Co as a,eo as b,ls as c,yo as d,ys as e,bs as f,vi as g,ps as h,ii as i,cs as j,hs as l,Ss as m,ds as p,rr as r,er as t,fs as u,ws as v,_s as w,ms as x,vs as y};
