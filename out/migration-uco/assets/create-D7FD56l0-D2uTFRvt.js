import{bV as y,bW as m,bX as d,bY as l,bZ as f,b_ as p,b$ as b,c0 as v,c1 as L}from"./index-Bibw8odz.js";function o(a,i){switch(a.binary){case"bytes":if("layout"in a){const{custom:r}=a;return r===void 0||typeof r.from!="function"?t(a.layout,r?r.from:i):i}case"int":case"uint":{const{custom:r}=a;return a!=null&&a.omit?void 0:v(r)?r:L(r)?r.to:i}case"array":return Array.isArray(i)?i.map(r=>t(a.layout,r)):void 0;case"switch":{const r=i[a.idTag??"id"],[n,e]=a.layouts.find(([s])=>(Array.isArray(s)?s[1]:s)==r);return{[a.idTag??"id"]:r,...t(e,i)}}}}function t(a,i){if(i=i??{},p(a))return o(a,i);const r={};for(const n of a){const e=o(n,i[n.name]??{});e!==void 0&&(r[n.name]=e)}return r}function u(a,i){return t(a,i)}function c(a){return[...l,f(a)]}function T(a,i){const[r,n]=y(a),e=u(c(a),i);return{protocolName:r,payloadName:n,payloadLiteral:a,...u(b,i),...e,hash:m(d(c(a),e))}}export{T};
