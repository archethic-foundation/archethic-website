import{s as h,z as $n,y as gu,br as yu,p as pi,aC as bu,bg as va,aJ as vu,bz as wa,aK as wu,bw as Fn,cs as ku,d as et,r as mi,ae as hi,R as Su,S as fi,T as Pu,U as Au,V as Tu,ad as Vs,aB as Ct,aA as Eu}from"./index-Bibw8odz.js";import{T as Wn,p as jt,G as xu}from"./ens-validation.es6-wfrgcl4a-DnAHJYLr.js";import{M as _u,O as ka,G as Nt,C as ts,a as Sa,P as Mu,Q as Pa,R as rs,S as Aa,T as Ta,U as Ea,V as xa,W as _a,X as Ma,Y as Ou,e as Cu,t as gi,h as yi,j as ju,n as Bu,o as Iu,s as Ru,u as Nu,w as Du,x as Uu,I as bi,L as Hu,Z as Vu,_ as qu,k as $u,b as Fu,c as Wu,d as Ju,v as Gu,p as zu,q as Lu,f as Qu,g as Ku,i as Zu,l as Xu,m as Yu,r as ed,y as td,z as rd,A as nd,B as od,D as sd,F as ad,H as id,J as cd,K as ud,N as dd,E as ld}from"./cosmwasm-DQIRZxXO-zm4kDnj4.js";import{CosmwasmWormholeCore as pd}from"./index-B1gEeodR-D_86SREc.js";import{h as md,F as hd}from"./unsignedTransaction-FNxPjbl8-mlU_xnKV.js";import{b as fd}from"./chain-DfK5JtF7-Jmo_aVnV.js";import"./index-DQlzy8aC-BLa2RM0w.js";import"./create-D7FD56l0-D2uTFRvt.js";var gd=Object.defineProperty,yd=(e,t,r)=>t in e?gd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,vt=(e,t,r)=>(yd(e,typeof t!="symbol"?t+"":t,r),r);function bd(e){return e.id!==void 0&&e.pending!==void 0&&e.data!==void 0}var vi={},zr={},Y={},Jn={},vd=h&&h.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jn,"__esModule",{value:!0});Jn.Decimal=void 0;const He=vd($n),Oa=100;class Q{static fromUserInput(t,r){Q.verifyFractionalDigits(r);const n=t.match(/[^0-9.]/);if(n)throw new Error(`Invalid character at position ${n.index+1}`);let o,s;if(t==="")o="0",s="";else if(t.search(/\./)===-1)o=t,s="";else{const c=t.split(".");switch(c.length){case 0:case 1:throw new Error("Fewer than two elements in split result. This must not happen here.");case 2:if(!c[1])throw new Error("Fractional part missing");o=c[0],s=c[1].replace(/0+$/,"");break;default:throw new Error("More than one separator found")}}if(s.length>r)throw new Error("Got more fractional digits than supported");const a=`${o}${s.padEnd(r,"0")}`;return new Q(a,r)}static fromAtomics(t,r){return Q.verifyFractionalDigits(r),new Q(t,r)}static zero(t){return Q.verifyFractionalDigits(t),new Q("0",t)}static one(t){return Q.verifyFractionalDigits(t),new Q("1"+"0".repeat(t),t)}static verifyFractionalDigits(t){if(!Number.isInteger(t))throw new Error("Fractional digits is not an integer");if(t<0)throw new Error("Fractional digits must not be negative");if(t>Oa)throw new Error(`Fractional digits must not exceed ${Oa}`)}static compare(t,r){if(t.fractionalDigits!==r.fractionalDigits)throw new Error("Fractional digits do not match");return t.data.atomics.cmp(new He.default(r.atomics))}get atomics(){return this.data.atomics.toString()}get fractionalDigits(){return this.data.fractionalDigits}constructor(t,r){if(!t.match(/^[0-9]+$/))throw new Error("Invalid string format. Only non-negative integers in decimal representation supported.");this.data={atomics:new He.default(t),fractionalDigits:r}}clone(){return new Q(this.atomics,this.fractionalDigits)}floor(){const t=new He.default(10).pow(new He.default(this.data.fractionalDigits)),r=this.data.atomics.div(t);return this.data.atomics.mod(t).isZero()?this.clone():Q.fromAtomics(r.mul(t).toString(),this.fractionalDigits)}ceil(){const t=new He.default(10).pow(new He.default(this.data.fractionalDigits)),r=this.data.atomics.div(t);return this.data.atomics.mod(t).isZero()?this.clone():Q.fromAtomics(r.addn(1).mul(t).toString(),this.fractionalDigits)}toString(){const t=new He.default(10).pow(new He.default(this.data.fractionalDigits)),r=this.data.atomics.div(t),n=this.data.atomics.mod(t);if(n.isZero())return r.toString();{const o=n.toString().padStart(this.data.fractionalDigits,"0").replace(/0+$/,"");return`${r.toString()}.${o}`}}toFloatApproximation(){const t=Number(this.toString());if(Number.isNaN(t))throw new Error("Conversion to number failed");return t}plus(t){if(this.fractionalDigits!==t.fractionalDigits)throw new Error("Fractional digits do not match");const r=this.data.atomics.add(new He.default(t.atomics));return new Q(r.toString(),this.fractionalDigits)}minus(t){if(this.fractionalDigits!==t.fractionalDigits)throw new Error("Fractional digits do not match");const r=this.data.atomics.sub(new He.default(t.atomics));if(r.ltn(0))throw new Error("Difference must not be negative");return new Q(r.toString(),this.fractionalDigits)}multiply(t){const r=this.data.atomics.mul(new He.default(t.toString()));return new Q(r.toString(),this.fractionalDigits)}equals(t){return Q.compare(this,t)===0}isLessThan(t){return Q.compare(this,t)<0}isLessThanOrEqual(t){return Q.compare(this,t)<=0}isGreaterThan(t){return Q.compare(this,t)>0}isGreaterThanOrEqual(t){return Q.compare(this,t)>=0}}Jn.Decimal=Q;var Je={},wd=h&&h.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Je,"__esModule",{value:!0});Je.Uint64=Je.Uint53=Je.Int53=Je.Uint32=void 0;const xn=wd($n),kd=new xn.default("18446744073709551615",10,"be");class Ur{static fromBigEndianBytes(t){return Ur.fromBytes(t)}static fromBytes(t,r="be"){if(t.length!==4)throw new Error("Invalid input length. Expected 4 bytes.");for(let o=0;o<t.length;++o)if(!Number.isInteger(t[o])||t[o]>255||t[o]<0)throw new Error("Invalid value in byte. Found: "+t[o]);const n=r==="be"?t:Array.from(t).reverse();return new Ur(n[0]*2**24+n[1]*2**16+n[2]*2**8+n[3])}static fromString(t){if(!t.match(/^[0-9]+$/))throw new Error("Invalid string format");return new Ur(Number.parseInt(t,10))}constructor(t){if(Number.isNaN(t))throw new Error("Input is not a number");if(!Number.isInteger(t))throw new Error("Input is not an integer");if(t<0||t>4294967295)throw new Error("Input not in uint32 range: "+t.toString());this.data=t}toBytesBigEndian(){return new Uint8Array([Math.floor(this.data/2**24)&255,Math.floor(this.data/2**16)&255,Math.floor(this.data/2**8)&255,Math.floor(this.data/2**0)&255])}toBytesLittleEndian(){return new Uint8Array([Math.floor(this.data/2**0)&255,Math.floor(this.data/2**8)&255,Math.floor(this.data/2**16)&255,Math.floor(this.data/2**24)&255])}toNumber(){return this.data}toBigInt(){return BigInt(this.toNumber())}toString(){return this.data.toString()}}Je.Uint32=Ur;class qr{static fromString(t){if(!t.match(/^-?[0-9]+$/))throw new Error("Invalid string format");return new qr(Number.parseInt(t,10))}constructor(t){if(Number.isNaN(t))throw new Error("Input is not a number");if(!Number.isInteger(t))throw new Error("Input is not an integer");if(t<Number.MIN_SAFE_INTEGER||t>Number.MAX_SAFE_INTEGER)throw new Error("Input not in int53 range: "+t.toString());this.data=t}toNumber(){return this.data}toBigInt(){return BigInt(this.toNumber())}toString(){return this.data.toString()}}Je.Int53=qr;class qs{static fromString(t){const r=qr.fromString(t);return new qs(r.toNumber())}constructor(t){const r=new qr(t);if(r.toNumber()<0)throw new Error("Input is negative");this.data=r}toNumber(){return this.data.toNumber()}toBigInt(){return BigInt(this.toNumber())}toString(){return this.data.toString()}}Je.Uint53=qs;class Vt{static fromBytesBigEndian(t){return Vt.fromBytes(t)}static fromBytes(t,r="be"){if(t.length!==8)throw new Error("Invalid input length. Expected 8 bytes.");for(let o=0;o<t.length;++o)if(!Number.isInteger(t[o])||t[o]>255||t[o]<0)throw new Error("Invalid value in byte. Found: "+t[o]);const n=r==="be"?Array.from(t):Array.from(t).reverse();return new Vt(new xn.default(n))}static fromString(t){if(!t.match(/^[0-9]+$/))throw new Error("Invalid string format");return new Vt(new xn.default(t,10,"be"))}static fromNumber(t){if(Number.isNaN(t))throw new Error("Input is not a number");if(!Number.isInteger(t))throw new Error("Input is not an integer");let r;try{r=new xn.default(t)}catch{throw new Error("Input is not a safe integer")}return new Vt(r)}constructor(t){if(t.isNeg())throw new Error("Input is negative");if(t.gt(kd))throw new Error("Input exceeds uint64 range");this.data=t}toBytesBigEndian(){return Uint8Array.from(this.data.toArray("be",8))}toBytesLittleEndian(){return Uint8Array.from(this.data.toArray("le",8))}toString(){return this.data.toString(10)}toBigInt(){return BigInt(this.toString())}toNumber(){return this.data.toNumber()}}Je.Uint64=Vt;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Uint64=e.Uint53=e.Uint32=e.Int53=e.Decimal=void 0;var t=Jn;Object.defineProperty(e,"Decimal",{enumerable:!0,get:function(){return t.Decimal}});var r=Je;Object.defineProperty(e,"Int53",{enumerable:!0,get:function(){return r.Int53}}),Object.defineProperty(e,"Uint32",{enumerable:!0,get:function(){return r.Uint32}}),Object.defineProperty(e,"Uint53",{enumerable:!0,get:function(){return r.Uint53}}),Object.defineProperty(e,"Uint64",{enumerable:!0,get:function(){return r.Uint64}})})(Y);var bt={},Gn={};Object.defineProperty(Gn,"__esModule",{value:!0});Gn.decodeTxRaw=void 0;const ns=jt;function Sd(e){const t=ns.TxRaw.decode(e);return{authInfo:ns.AuthInfo.decode(t.authInfoBytes),body:ns.TxBody.decode(t.bodyBytes),signatures:t.signatures}}Gn.decodeTxRaw=Sd;var Jt={},ot={},Ae={},ke={},Ge={},N={},Gt={};Object.defineProperty(Gt,"__esModule",{value:!0});Gt.fromAscii=Gt.toAscii=void 0;function Pd(e){const t=r=>r.split("").map(n=>{const o=n.charCodeAt(0);if(o<32||o>126)throw new Error("Cannot encode character that is out of printable ASCII range: "+o);return o});return Uint8Array.from(t(e))}Gt.toAscii=Pd;function Ad(e){return(t=>t.map(r=>{if(r<32||r>126)throw new Error("Cannot decode character that is out of printable ASCII range: "+r);return String.fromCharCode(r)}))(Array.from(e)).join("")}Gt.fromAscii=Ad;var zt={},Td=h&&h.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ed=h&&h.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),xd=h&&h.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Td(t,e,r);return Ed(t,e),t};Object.defineProperty(zt,"__esModule",{value:!0});zt.fromBase64=zt.toBase64=void 0;const wi=xd(gu);function _d(e){return wi.fromByteArray(e)}zt.toBase64=_d;function Md(e){if(!e.match(/^[a-zA-Z0-9+/]*={0,2}$/))throw new Error("Invalid base64 string format");return wi.toByteArray(e)}zt.fromBase64=Md;var ut={},On="qpzry9x8gf2tvdw0s3jn54khce6mua7l",bs={};for(var cn=0;cn<On.length;cn++){var os=On.charAt(cn);if(bs[os]!==void 0)throw new TypeError(os+" is ambiguous");bs[os]=cn}function Wt(e){var t=e>>25;return(e&33554431)<<5^-(t>>0&1)&996825010^-(t>>1&1)&642813549^-(t>>2&1)&513874426^-(t>>3&1)&1027748829^-(t>>4&1)&705979059}function ki(e){for(var t=1,r=0;r<e.length;++r){var n=e.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+e+")";t=Wt(t)^n>>5}for(t=Wt(t),r=0;r<e.length;++r){var o=e.charCodeAt(r);t=Wt(t)^o&31}return t}function Od(e,t,r){if(r=r||90,e.length+7+t.length>r)throw new TypeError("Exceeds length limit");e=e.toLowerCase();var n=ki(e);if(typeof n=="string")throw new Error(n);for(var o=e+"1",s=0;s<t.length;++s){var a=t[s];if(a>>5)throw new Error("Non 5-bit word");n=Wt(n)^a,o+=On.charAt(a)}for(s=0;s<6;++s)n=Wt(n);for(n^=1,s=0;s<6;++s){var c=n>>(5-s)*5&31;o+=On.charAt(c)}return o}function Si(e,t){if(t=t||90,e.length<8)return e+" too short";if(e.length>t)return"Exceeds length limit";var r=e.toLowerCase(),n=e.toUpperCase();if(e!==r&&e!==n)return"Mixed-case string "+e;e=r;var o=e.lastIndexOf("1");if(o===-1)return"No separator character for "+e;if(o===0)return"Missing prefix for "+e;var s=e.slice(0,o),a=e.slice(o+1);if(a.length<6)return"Data too short";var c=ki(s);if(typeof c=="string")return c;for(var i=[],u=0;u<a.length;++u){var d=a.charAt(u),f=bs[d];if(f===void 0)return"Unknown character "+d;c=Wt(c)^f,!(u+6>=a.length)&&i.push(f)}return c!==1?"Invalid checksum for "+e:{prefix:s,words:i}}function Cd(){var e=Si.apply(null,arguments);if(typeof e=="object")return e}function jd(e){var t=Si.apply(null,arguments);if(typeof t=="object")return t;throw new Error(t)}function zn(e,t,r,n){for(var o=0,s=0,a=(1<<r)-1,c=[],i=0;i<e.length;++i)for(o=o<<t|e[i],s+=t;s>=r;)s-=r,c.push(o>>s&a);if(n)s>0&&c.push(o<<r-s&a);else{if(s>=t)return"Excess padding";if(o<<r-s&a)return"Non-zero padding"}return c}function Bd(e){var t=zn(e,8,5,!0);if(Array.isArray(t))return t}function Id(e){var t=zn(e,8,5,!0);if(Array.isArray(t))return t;throw new Error(t)}function Rd(e){var t=zn(e,5,8,!1);if(Array.isArray(t))return t}function Nd(e){var t=zn(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}var Dd={decodeUnsafe:Cd,decode:jd,encode:Od,toWordsUnsafe:Bd,toWords:Id,fromWordsUnsafe:Rd,fromWords:Nd},Ud=h&&h.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Hd=h&&h.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Vd=h&&h.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Ud(t,e,r);return Hd(t,e),t};Object.defineProperty(ut,"__esModule",{value:!0});ut.normalizeBech32=ut.fromBech32=ut.toBech32=void 0;const Cn=Vd(Dd);function Pi(e,t,r){return Cn.encode(e,Cn.toWords(t),r)}ut.toBech32=Pi;function Ai(e,t=1/0){const r=Cn.decode(e,t);return{prefix:r.prefix,data:new Uint8Array(Cn.fromWords(r.words))}}ut.fromBech32=Ai;function qd(e){const{prefix:t,data:r}=Ai(e);return Pi(t,r)}ut.normalizeBech32=qd;var Lt={};Object.defineProperty(Lt,"__esModule",{value:!0});Lt.fromHex=Lt.toHex=void 0;function $d(e){let t="";for(const r of e)t+=("0"+r.toString(16)).slice(-2);return t}Lt.toHex=$d;function Fd(e){if(e.length%2!==0)throw new Error("hex string length must be a multiple of 2");const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=2*r,o=e.slice(n,n+2);if(!o.match(/[0-9a-f]{2}/i))throw new Error("hex string contains invalid characters");t[r]=parseInt(o,16)}return t}Lt.fromHex=Fd;var Qt={};Object.defineProperty(Qt,"__esModule",{value:!0});Qt.toRfc3339=Qt.fromRfc3339=void 0;const Wd=/^(\d{4})-(\d{2})-(\d{2})[T ](\d{2}):(\d{2}):(\d{2})(\.\d{1,9})?((?:[+-]\d{2}:\d{2})|Z)$/;function Dt(e,t=2){return e.toString().padStart(t,"0")}function Jd(e){const t=Wd.exec(e);if(!t)throw new Error("Date string is not in RFC3339 format");const r=+t[1],n=+t[2],o=+t[3],s=+t[4],a=+t[5],c=+t[6],i=t[7]?Math.floor(+t[7]*1e3):0;let u,d,f;t[8]==="Z"?(u=1,d=0,f=0):(u=t[8].substring(0,1)==="-"?-1:1,d=+t[8].substring(1,3),f=+t[8].substring(4,6));const E=u*(d*60+f)*60,M=new Date;return M.setUTCFullYear(r,n-1,o),M.setUTCHours(s,a,c,i),new Date(M.getTime()-E*1e3)}Qt.fromRfc3339=Jd;function Gd(e){const t=e.getUTCFullYear(),r=Dt(e.getUTCMonth()+1),n=Dt(e.getUTCDate()),o=Dt(e.getUTCHours()),s=Dt(e.getUTCMinutes()),a=Dt(e.getUTCSeconds()),c=Dt(e.getUTCMilliseconds(),3);return`${t}-${r}-${n}T${o}:${s}:${a}.${c}Z`}Qt.toRfc3339=Gd;var Kt={};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.fromUtf8=Kt.toUtf8=void 0;function zd(e){return new TextEncoder().encode(e)}Kt.toUtf8=zd;function Ld(e,t=!1){const r=!t;return new TextDecoder("utf-8",{fatal:r}).decode(e)}Kt.fromUtf8=Ld;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.toUtf8=e.fromUtf8=e.toRfc3339=e.fromRfc3339=e.toHex=e.fromHex=e.toBech32=e.normalizeBech32=e.fromBech32=e.toBase64=e.fromBase64=e.toAscii=e.fromAscii=void 0;var t=Gt;Object.defineProperty(e,"fromAscii",{enumerable:!0,get:function(){return t.fromAscii}}),Object.defineProperty(e,"toAscii",{enumerable:!0,get:function(){return t.toAscii}});var r=zt;Object.defineProperty(e,"fromBase64",{enumerable:!0,get:function(){return r.fromBase64}}),Object.defineProperty(e,"toBase64",{enumerable:!0,get:function(){return r.toBase64}});var n=ut;Object.defineProperty(e,"fromBech32",{enumerable:!0,get:function(){return n.fromBech32}}),Object.defineProperty(e,"normalizeBech32",{enumerable:!0,get:function(){return n.normalizeBech32}}),Object.defineProperty(e,"toBech32",{enumerable:!0,get:function(){return n.toBech32}});var o=Lt;Object.defineProperty(e,"fromHex",{enumerable:!0,get:function(){return o.fromHex}}),Object.defineProperty(e,"toHex",{enumerable:!0,get:function(){return o.toHex}});var s=Qt;Object.defineProperty(e,"fromRfc3339",{enumerable:!0,get:function(){return s.fromRfc3339}}),Object.defineProperty(e,"toRfc3339",{enumerable:!0,get:function(){return s.toRfc3339}});var a=Kt;Object.defineProperty(e,"fromUtf8",{enumerable:!0,get:function(){return a.fromUtf8}}),Object.defineProperty(e,"toUtf8",{enumerable:!0,get:function(){return a.toUtf8}})})(N);var me={},Z={},Zt={};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.arrayContentStartsWith=Zt.arrayContentEquals=void 0;function Qd(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}Zt.arrayContentEquals=Qd;function Kd(e,t){if(e.length<t.length)return!1;for(let r=0;r<t.length;++r)if(e[r]!==t[r])return!1;return!0}Zt.arrayContentStartsWith=Kd;var dt={};Object.defineProperty(dt,"__esModule",{value:!0});dt.assertDefinedAndNotNull=dt.assertDefined=dt.assert=void 0;function Zd(e,t){if(!e)throw new Error(t||"condition is not truthy")}dt.assert=Zd;function Xd(e,t){if(e===void 0)throw new Error(t??"value is undefined")}dt.assertDefined=Xd;function Yd(e,t){if(e==null)throw new Error(t??"value is undefined or null")}dt.assertDefinedAndNotNull=Yd;var Ln={};Object.defineProperty(Ln,"__esModule",{value:!0});Ln.sleep=void 0;async function el(e){return new Promise(t=>setTimeout(t,e))}Ln.sleep=el;var lt={};Object.defineProperty(lt,"__esModule",{value:!0});lt.isDefined=lt.isUint8Array=lt.isNonNullObject=void 0;function Ti(e){return typeof e=="object"&&e!==null}lt.isNonNullObject=Ti;function tl(e){return!(!Ti(e)||Object.prototype.toString.call(e)!=="[object Uint8Array]"||typeof et.Buffer<"u"&&typeof et.Buffer.isBuffer<"u"&&et.Buffer.isBuffer(e))}lt.isUint8Array=tl;function rl(e){return e!==void 0}lt.isDefined=rl;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isUint8Array=e.isNonNullObject=e.isDefined=e.sleep=e.assertDefinedAndNotNull=e.assertDefined=e.assert=e.arrayContentStartsWith=e.arrayContentEquals=void 0;var t=Zt;Object.defineProperty(e,"arrayContentEquals",{enumerable:!0,get:function(){return t.arrayContentEquals}}),Object.defineProperty(e,"arrayContentStartsWith",{enumerable:!0,get:function(){return t.arrayContentStartsWith}});var r=dt;Object.defineProperty(e,"assert",{enumerable:!0,get:function(){return r.assert}}),Object.defineProperty(e,"assertDefined",{enumerable:!0,get:function(){return r.assertDefined}}),Object.defineProperty(e,"assertDefinedAndNotNull",{enumerable:!0,get:function(){return r.assertDefinedAndNotNull}});var n=Ln;Object.defineProperty(e,"sleep",{enumerable:!0,get:function(){return n.sleep}});var o=lt;Object.defineProperty(e,"isDefined",{enumerable:!0,get:function(){return o.isDefined}}),Object.defineProperty(e,"isNonNullObject",{enumerable:!0,get:function(){return o.isNonNullObject}}),Object.defineProperty(e,"isUint8Array",{enumerable:!0,get:function(){return o.isUint8Array}})})(Z);var nl=h&&h.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ol=h&&h.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),sl=h&&h.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&nl(t,e,r);return ol(t,e),t};Object.defineProperty(me,"__esModule",{value:!0});me.pbkdf2Sha512=me.pbkdf2Sha512Noble=me.pbkdf2Sha512NodeCrypto=me.pbkdf2Sha512Subtle=me.getSubtle=me.getNodeCrypto=void 0;const xt=Z,al=Su,il=fi;async function Ei(){try{const e=await Promise.resolve().then(()=>sl(mi()));return typeof e=="object"&&Object.keys(e).length<=1?void 0:e}catch{return}}me.getNodeCrypto=Ei;async function xi(){var e,t,r;let n=(e=globalThis==null?void 0:globalThis.crypto)==null?void 0:e.subtle;return n||(n=(r=(t=globalThis==null?void 0:globalThis.crypto)==null?void 0:t.webcrypto)==null?void 0:r.subtle),n}me.getSubtle=xi;async function _i(e,t,r,n,o){return(0,xt.assert)(e,"Argument subtle is falsy"),(0,xt.assert)(typeof e=="object","Argument subtle is not of type object"),(0,xt.assert)(typeof e.importKey=="function","subtle.importKey is not a function"),(0,xt.assert)(typeof e.deriveBits=="function","subtle.deriveBits is not a function"),e.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then(s=>e.deriveBits({name:"PBKDF2",salt:r,iterations:n,hash:{name:"SHA-512"}},s,o*8).then(a=>new Uint8Array(a)))}me.pbkdf2Sha512Subtle=_i;async function Mi(e,t,r,n,o){return(0,xt.assert)(e,"Argument nodeCrypto is falsy"),(0,xt.assert)(typeof e=="object","Argument nodeCrypto is not of type object"),(0,xt.assert)(typeof e.pbkdf2=="function","nodeCrypto.pbkdf2 is not a function"),new Promise((s,a)=>{e.pbkdf2(t,r,n,o,"sha512",(c,i)=>{c?a(c):s(Uint8Array.from(i))})})}me.pbkdf2Sha512NodeCrypto=Mi;async function Oi(e,t,r,n){return(0,al.pbkdf2Async)(il.sha512,e,t,{c:r,dkLen:n})}me.pbkdf2Sha512Noble=Oi;async function cl(e,t,r,n){const o=await xi();if(o)return _i(o,e,t,r,n);{const s=await Ei();return s?Mi(s,e,t,r,n):Oi(e,t,r,n)}}me.pbkdf2Sha512=cl;var De={},wr={};Object.defineProperty(wr,"__esModule",{value:!0});wr.toRealUint8Array=void 0;function ul(e){return e instanceof Uint8Array?e:Uint8Array.from(e)}wr.toRealUint8Array=ul;Object.defineProperty(De,"__esModule",{value:!0});De.sha512=De.Sha512=De.sha256=De.Sha256=void 0;const dl=Pu,ll=fi,Ci=wr;class ji{constructor(t){this.blockSize=512/8,this.impl=dl.sha256.create(),t&&this.update(t)}update(t){return this.impl.update((0,Ci.toRealUint8Array)(t)),this}digest(){return this.impl.digest()}}De.Sha256=ji;function pl(e){return new ji(e).digest()}De.sha256=pl;class Bi{constructor(t){this.blockSize=1024/8,this.impl=ll.sha512.create(),t&&this.update(t)}update(t){return this.impl.update((0,Ci.toRealUint8Array)(t)),this}digest(){return this.impl.digest()}}De.Sha512=Bi;function ml(e){return new Bi(e).digest()}De.sha512=ml;Object.defineProperty(Ge,"__esModule",{value:!0});Ge.Bip39=Ge.EnglishMnemonic=Ge.mnemonicToEntropy=Ge.entropyToMnemonic=void 0;const Ca=N,hl=me,fl=De,$s=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"];function Ii(e){return Array.from(e).map(t=>t.toString(2).padStart(8,"0")).join("")}function Ri(e){const t=e.length*8/32,r=(0,fl.sha256)(e);return Ii(r).slice(0,t)}function Ni(e){return parseInt(e,2)}const gl=[16,20,24,28,32],yl=[12,15,18,21,24];function Di(e){if(gl.indexOf(e.length)===-1)throw new Error("invalid input length");const t=Ii(e),r=Ri(e);return(t+r).match(/(.{11})/g).map(n=>{const o=Ni(n);return $s[o]}).join(" ")}Ge.entropyToMnemonic=Di;const bl="Invalid number of words",vl="Found word that is not in the wordlist",wl="Invalid entropy",kl="Invalid mnemonic checksum";function vs(e){return e.normalize("NFKD")}function Fs(e){const t=vs(e).split(" ");if(!yl.includes(t.length))throw new Error(bl);const r=t.map(i=>{const u=$s.indexOf(i);if(u===-1)throw new Error(vl);return u.toString(2).padStart(11,"0")}).join(""),n=Math.floor(r.length/33)*32,o=r.slice(0,n),s=r.slice(n),a=o.match(/(.{1,8})/g).map(Ni);if(a.length<16||a.length>32||a.length%4!==0)throw new Error(wl);const c=Uint8Array.from(a);if(Ri(c)!==s)throw new Error(kl);return c}Ge.mnemonicToEntropy=Fs;class _t{constructor(t){if(!_t.mnemonicMatcher.test(t))throw new Error("Invalid mnemonic format");const r=t.split(" "),n=[12,15,18,21,24];if(n.indexOf(r.length)===-1)throw new Error(`Invalid word count in mnemonic (allowed: ${n} got: ${r.length})`);for(const o of r)if(_t.wordlist.indexOf(o)===-1)throw new Error("Mnemonic contains invalid word");Fs(t),this.data=t}toString(){return this.data}}Ge.EnglishMnemonic=_t;_t.wordlist=$s;_t.mnemonicMatcher=/^[a-z]+( [a-z]+)*$/;class Sl{static encode(t){return new _t(Di(t))}static decode(t){return Fs(t.toString())}static async mnemonicToSeed(t,r){const n=(0,Ca.toUtf8)(vs(t.toString())),o="mnemonic"+(r?vs(r):""),s=(0,Ca.toUtf8)(o);return(0,hl.pbkdf2Sha512)(n,s,2048,64)}}Ge.Bip39=Sl;var Lr={};Object.defineProperty(Lr,"__esModule",{value:!0});Lr.Hmac=void 0;class Pl{constructor(t,r){const n=new t().blockSize;this.hash=s=>new t().update(s).digest();let o=r;if(o.length>n&&(o=this.hash(o)),o.length<n){const s=new Uint8Array(n-o.length);o=new Uint8Array([...o,...s])}this.oKeyPad=o.map(s=>s^92),this.iKeyPad=o.map(s=>s^54),this.messageHasher=new t,this.blockSize=n,this.update(this.iKeyPad)}update(t){return this.messageHasher.update(t),this}digest(){const t=this.messageHasher.digest();return this.hash(new Uint8Array([...this.oKeyPad,...t]))}}Lr.Hmac=Pl;var Xt={};Object.defineProperty(Xt,"__esModule",{value:!0});Xt.keccak256=Xt.Keccak256=void 0;const Al=Au,Tl=wr;class Ui{constructor(t){this.blockSize=512/8,this.impl=Al.keccak_256.create(),t&&this.update(t)}update(t){return this.impl.update((0,Tl.toRealUint8Array)(t)),this}digest(){return this.impl.digest()}}Xt.Keccak256=Ui;function El(e){return new Ui(e).digest()}Xt.keccak256=El;var he={},xl=h&&h.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(he,"__esModule",{value:!0});he.Xchacha20poly1305Ietf=he.xchacha20NonceLength=he.Ed25519=he.Ed25519Keypair=he.Argon2id=he.isArgon2idOptions=void 0;const _l=Z,Pe=xl(yu);function Ml(e){return!(!(0,_l.isNonNullObject)(e)||typeof e.outputLength!="number"||typeof e.opsLimit!="number"||typeof e.memLimitKib!="number")}he.isArgon2idOptions=Ml;class Ol{static async execute(t,r,n){return await Pe.default.ready,Pe.default.crypto_pwhash(n.outputLength,t,r,n.opsLimit,n.memLimitKib*1024,Pe.default.crypto_pwhash_ALG_ARGON2ID13)}}he.Argon2id=Ol;class Qn{static fromLibsodiumPrivkey(t){if(t.length!==64)throw new Error(`Unexpected key length ${t.length}. Must be 64.`);return new Qn(t.slice(0,32),t.slice(32,64))}constructor(t,r){this.privkey=t,this.pubkey=r}toLibsodiumPrivkey(){return new Uint8Array([...this.privkey,...this.pubkey])}}he.Ed25519Keypair=Qn;class Cl{static async makeKeypair(t){await Pe.default.ready;const r=Pe.default.crypto_sign_seed_keypair(t);return Qn.fromLibsodiumPrivkey(r.privateKey)}static async createSignature(t,r){return await Pe.default.ready,Pe.default.crypto_sign_detached(t,r.toLibsodiumPrivkey())}static async verifySignature(t,r,n){return await Pe.default.ready,Pe.default.crypto_sign_verify_detached(t,r,n)}}he.Ed25519=Cl;he.xchacha20NonceLength=24;class jl{static async encrypt(t,r,n){return await Pe.default.ready,Pe.default.crypto_aead_xchacha20poly1305_ietf_encrypt(t,null,null,n,r)}static async decrypt(t,r,n){return await Pe.default.ready,Pe.default.crypto_aead_xchacha20poly1305_ietf_decrypt(null,t,null,n,r)}}he.Xchacha20poly1305Ietf=jl;var Kn={};Object.defineProperty(Kn,"__esModule",{value:!0});Kn.Random=void 0;class Bl{static getBytes(t){try{const r=typeof window=="object"?window:self,n=typeof r.crypto<"u"?r.crypto:r.msCrypto,o=new Uint8Array(t);return n.getRandomValues(o),o}catch{try{const r=mi();return new Uint8Array([...r.randomBytes(t)])}catch{throw new Error("No secure random number generator found")}}}}Kn.Random=Bl;var Yt={};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.ripemd160=Yt.Ripemd160=void 0;const Il=Tu,Rl=wr;class Hi{constructor(t){this.blockSize=512/8,this.impl=Il.ripemd160.create(),t&&this.update(t)}update(t){return this.impl.update((0,Rl.toRealUint8Array)(t)),this}digest(){return this.impl.digest()}}Yt.Ripemd160=Hi;function Nl(e){return new Hi(e).digest()}Yt.ripemd160=Nl;var Zn={},Mt={};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.ExtendedSecp256k1Signature=Mt.Secp256k1Signature=void 0;function qt(e){let t=0;for(const r of e)if(r===0)t++;else break;return e.slice(t)}const un=2;class $r{static fromFixedLength(t){if(t.length!==64)throw new Error(`Got invalid data length: ${t.length}. Expected 2x 32 bytes for the pair (r, s)`);return new $r(qt(t.slice(0,32)),qt(t.slice(32,64)))}static fromDer(t){let r=0;if(t[r++]!==48)throw new Error("Prefix 0x30 expected");const n=t[r++];if(t.length-r!==n)throw new Error("Data length mismatch detected");if(t[r++]!==un)throw new Error("INTEGER tag expected");const o=t[r++];if(o>=128)throw new Error("Decoding length values above 127 not supported");const s=t.slice(r,r+o);if(r+=o,t[r++]!==un)throw new Error("INTEGER tag expected");const a=t[r++];if(a>=128)throw new Error("Decoding length values above 127 not supported");const c=t.slice(r,r+a);return r+=a,new $r(qt(s),qt(c))}constructor(t,r){if(t.length>32||t.length===0||t[0]===0)throw new Error("Unsigned integer r must be encoded as unpadded big endian.");if(r.length>32||r.length===0||r[0]===0)throw new Error("Unsigned integer s must be encoded as unpadded big endian.");this.data={r:t,s:r}}r(t){if(t===void 0)return this.data.r;{const r=t-this.data.r.length;if(r<0)throw new Error("Length too small to hold parameter r");const n=new Uint8Array(r);return new Uint8Array([...n,...this.data.r])}}s(t){if(t===void 0)return this.data.s;{const r=t-this.data.s.length;if(r<0)throw new Error("Length too small to hold parameter s");const n=new Uint8Array(r);return new Uint8Array([...n,...this.data.s])}}toFixedLength(){return new Uint8Array([...this.r(32),...this.s(32)])}toDer(){const t=this.data.r[0]>=128?new Uint8Array([0,...this.data.r]):this.data.r,r=this.data.s[0]>=128?new Uint8Array([0,...this.data.s]):this.data.s,n=t.length,o=r.length,s=new Uint8Array([un,n,...t,un,o,...r]);return new Uint8Array([48,s.length,...s])}}Mt.Secp256k1Signature=$r;class Ws extends $r{static fromFixedLength(t){if(t.length!==65)throw new Error(`Got invalid data length ${t.length}. Expected 32 + 32 + 1`);return new Ws(qt(t.slice(0,32)),qt(t.slice(32,64)),t[64])}constructor(t,r,n){if(super(t,r),!Number.isInteger(n))throw new Error("The recovery parameter must be an integer.");if(n<0||n>4)throw new Error("The recovery parameter must be one of 0, 1, 2, 3.");this.recovery=n}toFixedLength(){return new Uint8Array([...this.r(32),...this.s(32),this.recovery])}}Mt.ExtendedSecp256k1Signature=Ws;var Vi=h&&h.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zn,"__esModule",{value:!0});Zn.Secp256k1=void 0;const dn=N,qi=Vi($n),Dl=Vi(pi()),Ul=Mt,wt=new Dl.default.ec("secp256k1"),Hl=new qi.default("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","hex");class Vl{static async makeKeypair(t){if(t.length!==32)throw new Error("input data is not a valid secp256k1 private key");const r=wt.keyFromPrivate(t);if(r.validate().result!==!0)throw new Error("input data is not a valid secp256k1 private key");if(new qi.default(t).gte(Hl))throw new Error("input data is not a valid secp256k1 private key");return{privkey:(0,dn.fromHex)(r.getPrivate("hex")),pubkey:Uint8Array.from(r.getPublic("array"))}}static async createSignature(t,r){if(t.length===0)throw new Error("Message hash must not be empty");if(t.length>32)throw new Error("Message hash length must not exceed 32 bytes");const n=wt.keyFromPrivate(r),{r:o,s,recoveryParam:a}=n.sign(t,{canonical:!0});if(typeof a!="number")throw new Error("Recovery param missing");return new Ul.ExtendedSecp256k1Signature(Uint8Array.from(o.toArray()),Uint8Array.from(s.toArray()),a)}static async verifySignature(t,r,n){if(r.length===0)throw new Error("Message hash must not be empty");if(r.length>32)throw new Error("Message hash length must not exceed 32 bytes");const o=wt.keyFromPublic(n);try{return o.verify(r,t.toDer())}catch{return!1}}static recoverPubkey(t,r){const n={r:(0,dn.toHex)(t.r()),s:(0,dn.toHex)(t.s())},o=wt.recoverPubKey(r,n,t.recovery),s=wt.keyFromPublic(o);return(0,dn.fromHex)(s.getPublic(!1,"hex"))}static compressPubkey(t){switch(t.length){case 33:return t;case 65:return Uint8Array.from(wt.keyFromPublic(t).getPublic(!0,"array"));default:throw new Error("Invalid pubkey length")}}static uncompressPubkey(t){switch(t.length){case 33:return Uint8Array.from(wt.keyFromPublic(t).getPublic(!1,"array"));case 65:return t;default:throw new Error("Invalid pubkey length")}}static trimRecoveryByte(t){switch(t.length){case 64:return t;case 65:return t.slice(0,64);default:throw new Error("Invalid signature length")}}}Zn.Secp256k1=Vl;var $i={};(function(e){var t=h&&h.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(e,"__esModule",{value:!0}),e.stringToPath=e.pathToString=e.Slip10=e.Slip10RawIndex=e.slip10CurveFromString=e.Slip10Curve=void 0;const r=N,n=Y,o=t($n),s=t(pi()),a=Lr,c=De;var i;(function(y){y.Secp256k1="Bitcoin seed",y.Ed25519="ed25519 seed"})(i=e.Slip10Curve||(e.Slip10Curve={}));function u(y){switch(y){case i.Ed25519:return i.Ed25519;case i.Secp256k1:return i.Secp256k1;default:throw new Error(`Unknown curve string: '${y}'`)}}e.slip10CurveFromString=u;class d extends n.Uint32{static hardened(g){return new d(g+2**31)}static normal(g){return new d(g)}isHardened(){return this.data>=2**31}}e.Slip10RawIndex=d;const f=new s.default.ec("secp256k1");class E{static derivePath(g,v,H){let D=this.master(g,v);for(const ie of H)D=this.child(g,D.privkey,D.chainCode,ie);return D}static master(g,v){const H=new a.Hmac(c.Sha512,(0,r.toAscii)(g)).update(v).digest(),D=H.slice(0,32),ie=H.slice(32,64);return g!==i.Ed25519&&(this.isZero(D)||this.isGteN(g,D))?this.master(g,H):{chainCode:ie,privkey:D}}static child(g,v,H,D){let ie;if(D.isHardened()){const b=new Uint8Array([0,...v,...D.toBytesBigEndian()]);ie=new a.Hmac(c.Sha512,H).update(b).digest()}else{if(g===i.Ed25519)throw new Error("Normal keys are not allowed with ed25519");{const b=new Uint8Array([...E.serializedPoint(g,new o.default(v)),...D.toBytesBigEndian()]);ie=new a.Hmac(c.Sha512,H).update(b).digest()}}return this.childImpl(g,v,H,D,ie)}static serializedPoint(g,v){switch(g){case i.Secp256k1:return(0,r.fromHex)(f.g.mul(v).encodeCompressed("hex"));default:throw new Error("curve not supported")}}static childImpl(g,v,H,D,ie){const b=ie.slice(0,32),k=ie.slice(32,64),w=k;if(g===i.Ed25519)return{chainCode:w,privkey:b};const U=this.n(g),V=new o.default(b).add(new o.default(v)).mod(U),q=Uint8Array.from(V.toArray("be",32));if(this.isGteN(g,b)||this.isZero(q)){const F=new a.Hmac(c.Sha512,H).update(new Uint8Array([1,...k,...D.toBytesBigEndian()])).digest();return this.childImpl(g,v,H,D,F)}return{chainCode:w,privkey:q}}static isZero(g){return g.every(v=>v===0)}static isGteN(g,v){return new o.default(v).gte(this.n(g))}static n(g){switch(g){case i.Secp256k1:return new o.default("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141",16);default:throw new Error("curve not supported")}}}e.Slip10=E;function M(y){return y.reduce((g,v)=>{const H=v.isHardened()?`${v.toNumber()-2147483648}'`:v.toString();return g+"/"+H},"m")}e.pathToString=M;function $(y){if(!y.startsWith("m"))throw new Error("Path string must start with 'm'");let g=y.slice(1);const v=new Array;for(;g;){const H=g.match(/^\/([0-9]+)('?)/);if(!H)throw new Error("Syntax error while reading path component");const[D,ie,b]=H,k=n.Uint53.fromString(ie).toNumber();if(k>=2**31)throw new Error("Component value too high. Must not exceed 2**31-1.");b?v.push(d.hardened(k)):v.push(d.normal(k)),g=g.slice(D.length)}return v}e.stringToPath=$})($i);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.stringToPath=e.Slip10RawIndex=e.slip10CurveFromString=e.Slip10Curve=e.Slip10=e.pathToString=e.sha512=e.Sha512=e.sha256=e.Sha256=e.Secp256k1Signature=e.ExtendedSecp256k1Signature=e.Secp256k1=e.ripemd160=e.Ripemd160=e.Random=e.Xchacha20poly1305Ietf=e.xchacha20NonceLength=e.isArgon2idOptions=e.Ed25519Keypair=e.Ed25519=e.Argon2id=e.keccak256=e.Keccak256=e.Hmac=e.EnglishMnemonic=e.Bip39=void 0;var t=Ge;Object.defineProperty(e,"Bip39",{enumerable:!0,get:function(){return t.Bip39}}),Object.defineProperty(e,"EnglishMnemonic",{enumerable:!0,get:function(){return t.EnglishMnemonic}});var r=Lr;Object.defineProperty(e,"Hmac",{enumerable:!0,get:function(){return r.Hmac}});var n=Xt;Object.defineProperty(e,"Keccak256",{enumerable:!0,get:function(){return n.Keccak256}}),Object.defineProperty(e,"keccak256",{enumerable:!0,get:function(){return n.keccak256}});var o=he;Object.defineProperty(e,"Argon2id",{enumerable:!0,get:function(){return o.Argon2id}}),Object.defineProperty(e,"Ed25519",{enumerable:!0,get:function(){return o.Ed25519}}),Object.defineProperty(e,"Ed25519Keypair",{enumerable:!0,get:function(){return o.Ed25519Keypair}}),Object.defineProperty(e,"isArgon2idOptions",{enumerable:!0,get:function(){return o.isArgon2idOptions}}),Object.defineProperty(e,"xchacha20NonceLength",{enumerable:!0,get:function(){return o.xchacha20NonceLength}}),Object.defineProperty(e,"Xchacha20poly1305Ietf",{enumerable:!0,get:function(){return o.Xchacha20poly1305Ietf}});var s=Kn;Object.defineProperty(e,"Random",{enumerable:!0,get:function(){return s.Random}});var a=Yt;Object.defineProperty(e,"Ripemd160",{enumerable:!0,get:function(){return a.Ripemd160}}),Object.defineProperty(e,"ripemd160",{enumerable:!0,get:function(){return a.ripemd160}});var c=Zn;Object.defineProperty(e,"Secp256k1",{enumerable:!0,get:function(){return c.Secp256k1}});var i=Mt;Object.defineProperty(e,"ExtendedSecp256k1Signature",{enumerable:!0,get:function(){return i.ExtendedSecp256k1Signature}}),Object.defineProperty(e,"Secp256k1Signature",{enumerable:!0,get:function(){return i.Secp256k1Signature}});var u=De;Object.defineProperty(e,"Sha256",{enumerable:!0,get:function(){return u.Sha256}}),Object.defineProperty(e,"sha256",{enumerable:!0,get:function(){return u.sha256}}),Object.defineProperty(e,"Sha512",{enumerable:!0,get:function(){return u.Sha512}}),Object.defineProperty(e,"sha512",{enumerable:!0,get:function(){return u.sha512}});var d=$i;Object.defineProperty(e,"pathToString",{enumerable:!0,get:function(){return d.pathToString}}),Object.defineProperty(e,"Slip10",{enumerable:!0,get:function(){return d.Slip10}}),Object.defineProperty(e,"Slip10Curve",{enumerable:!0,get:function(){return d.Slip10Curve}}),Object.defineProperty(e,"slip10CurveFromString",{enumerable:!0,get:function(){return d.slip10CurveFromString}}),Object.defineProperty(e,"Slip10RawIndex",{enumerable:!0,get:function(){return d.Slip10RawIndex}}),Object.defineProperty(e,"stringToPath",{enumerable:!0,get:function(){return d.stringToPath}})})(ke);var oe={},Qr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isMultisigThresholdPubkey=e.isSinglePubkey=e.pubkeyType=e.isSecp256k1Pubkey=e.isEd25519Pubkey=void 0;function t(s){return s.type==="tendermint/PubKeyEd25519"}e.isEd25519Pubkey=t;function r(s){return s.type==="tendermint/PubKeySecp256k1"}e.isSecp256k1Pubkey=r,e.pubkeyType={secp256k1:"tendermint/PubKeySecp256k1",ed25519:"tendermint/PubKeyEd25519",sr25519:"tendermint/PubKeySr25519",multisigThreshold:"tendermint/PubKeyMultisigThreshold"};function n(s){return[e.pubkeyType.ed25519,e.pubkeyType.secp256k1,e.pubkeyType.sr25519].includes(s.type)}e.isSinglePubkey=n;function o(s){return s.type==="tendermint/PubKeyMultisigThreshold"}e.isMultisigThresholdPubkey=o})(Qr);Object.defineProperty(oe,"__esModule",{value:!0});oe.encodeBech32Pubkey=oe.encodeAminoPubkey=oe.decodeBech32Pubkey=oe.decodeAminoPubkey=oe.encodeEd25519Pubkey=oe.encodeSecp256k1Pubkey=void 0;const ye=N,ql=Y,Nr=Z,tt=Qr;function $l(e){if(e.length!==33||e[0]!==2&&e[0]!==3)throw new Error("Public key must be compressed secp256k1, i.e. 33 bytes starting with 0x02 or 0x03");return{type:tt.pubkeyType.secp256k1,value:(0,ye.toBase64)(e)}}oe.encodeSecp256k1Pubkey=$l;function Fl(e){if(e.length!==32)throw new Error("Ed25519 public key must be 32 bytes long");return{type:tt.pubkeyType.ed25519,value:(0,ye.toBase64)(e)}}oe.encodeEd25519Pubkey=Fl;const ws=(0,ye.fromHex)("eb5ae98721"),ks=(0,ye.fromHex)("1624de6420"),ja=(0,ye.fromHex)("0dfb100520"),jn=(0,ye.fromHex)("22c1f7e2");function Js(e){if((0,Nr.arrayContentStartsWith)(e,ws)){const t=e.slice(ws.length);if(t.length!==33)throw new Error("Invalid rest data length. Expected 33 bytes (compressed secp256k1 pubkey).");return{type:tt.pubkeyType.secp256k1,value:(0,ye.toBase64)(t)}}else if((0,Nr.arrayContentStartsWith)(e,ks)){const t=e.slice(ks.length);if(t.length!==32)throw new Error("Invalid rest data length. Expected 32 bytes (Ed25519 pubkey).");return{type:tt.pubkeyType.ed25519,value:(0,ye.toBase64)(t)}}else if((0,Nr.arrayContentStartsWith)(e,ja)){const t=e.slice(ja.length);if(t.length!==32)throw new Error("Invalid rest data length. Expected 32 bytes (Sr25519 pubkey).");return{type:tt.pubkeyType.sr25519,value:(0,ye.toBase64)(t)}}else{if((0,Nr.arrayContentStartsWith)(e,jn))return Jl(e);throw new Error("Unsupported public key type. Amino data starts with: "+(0,ye.toHex)(e.slice(0,5)))}}oe.decodeAminoPubkey=Js;function Wl(e){const{data:t}=(0,ye.fromBech32)(e);return Js(t)}oe.decodeBech32Pubkey=Wl;function Ba(e){if(e.length<1)throw new Error("Can't decode varint. EOF");if(e[0]>127)throw new Error("Decoding numbers > 127 is not supported here. Please tell those lazy CosmJS maintainers to port the binary.Varint implementation from the Go standard library and write some tests.");return[e[0],1]}function Jl(e){const t=Array.from(e),r=t.splice(0,jn.length);if(!(0,Nr.arrayContentStartsWith)(r,jn))throw new Error("Invalid multisig prefix.");if(t.shift()!=8)throw new Error("Invalid multisig data. Expecting 0x08 prefix before threshold.");const[n,o]=Ba(t);t.splice(0,o);const s=[];for(;t.length>0;){if(t.shift()!=18)throw new Error("Invalid multisig data. Expecting 0x12 prefix before participant pubkey length.");const[a,c]=Ba(t);if(t.splice(0,c),t.length<a)throw new Error("Invalid multisig data length.");const i=t.splice(0,a),u=Js(Uint8Array.from(i));s.push(u)}return{type:tt.pubkeyType.multisigThreshold,value:{threshold:n.toString(),pubkeys:s}}}function Ia(e){const t=ql.Uint53.fromString(e.toString()).toNumber();if(t>127)throw new Error("Encoding numbers > 127 is not supported here. Please tell those lazy CosmJS maintainers to port the binary.PutUvarint implementation from the Go standard library and write some tests.");return[t]}function Gs(e){if((0,tt.isMultisigThresholdPubkey)(e)){const t=Array.from(jn);t.push(8),t.push(...Ia(e.value.threshold));for(const r of e.value.pubkeys.map(n=>Gs(n)))t.push(18),t.push(...Ia(r.length)),t.push(...r);return new Uint8Array(t)}else{if((0,tt.isEd25519Pubkey)(e))return new Uint8Array([...ks,...(0,ye.fromBase64)(e.value)]);if((0,tt.isSecp256k1Pubkey)(e))return new Uint8Array([...ws,...(0,ye.fromBase64)(e.value)]);throw new Error("Unsupported pubkey type")}}oe.encodeAminoPubkey=Gs;function Gl(e,t){return(0,ye.toBech32)(t,Gs(e))}oe.encodeBech32Pubkey=Gl;Object.defineProperty(Ae,"__esModule",{value:!0});Ae.pubkeyToAddress=Ae.pubkeyToRawAddress=Ae.rawSecp256k1PubkeyToRawAddress=Ae.rawEd25519PubkeyToRawAddress=void 0;const Bn=ke,Ss=N,zl=oe,ss=Qr;function Fi(e){if(e.length!==32)throw new Error(`Invalid Ed25519 pubkey length: ${e.length}`);return(0,Bn.sha256)(e).slice(0,20)}Ae.rawEd25519PubkeyToRawAddress=Fi;function Wi(e){if(e.length!==33)throw new Error(`Invalid Secp256k1 pubkey length (compressed): ${e.length}`);return(0,Bn.ripemd160)((0,Bn.sha256)(e))}Ae.rawSecp256k1PubkeyToRawAddress=Wi;function Ji(e){if((0,ss.isSecp256k1Pubkey)(e)){const t=(0,Ss.fromBase64)(e.value);return Wi(t)}else if((0,ss.isEd25519Pubkey)(e)){const t=(0,Ss.fromBase64)(e.value);return Fi(t)}else if((0,ss.isMultisigThresholdPubkey)(e)){const t=(0,zl.encodeAminoPubkey)(e);return(0,Bn.sha256)(t).slice(0,20)}else throw new Error("Unsupported public key type")}Ae.pubkeyToRawAddress=Ji;function Ll(e,t){return(0,Ss.toBech32)(t,Ji(e))}Ae.pubkeyToAddress=Ll;var ze={};Object.defineProperty(ze,"__esModule",{value:!0});ze.addCoins=ze.parseCoins=ze.coins=ze.coin=void 0;const Ps=Y;function Gi(e,t){let r;if(typeof e=="number")try{r=new Ps.Uint53(e).toString()}catch{throw new Error("Given amount is not a safe integer. Consider using a string instead to overcome the limitations of JS numbers.")}else{if(!e.match(/^[0-9]+$/))throw new Error("Invalid unsigned integer string format");r=e.replace(/^0*/,"")||"0"}return{amount:r,denom:t}}ze.coin=Gi;function Ql(e,t){return[Gi(e,t)]}ze.coins=Ql;function Kl(e){return e.replace(/\s/g,"").split(",").filter(Boolean).map(t=>{const r=t.match(/^([0-9]+)([a-zA-Z][a-zA-Z0-9/]{2,127})$/);if(!r)throw new Error("Got an invalid coin string");return{amount:r[1].replace(/^0+/,"")||"0",denom:r[2]}})}ze.parseCoins=Kl;function Zl(e,t){if(e.denom!==t.denom)throw new Error("Trying to add two coins with different denoms");return{amount:Ps.Decimal.fromAtomics(e.amount,0).plus(Ps.Decimal.fromAtomics(t.amount,0)).atomics,denom:e.denom}}ze.addCoins=Zl;var er={};Object.defineProperty(er,"__esModule",{value:!0});er.createMultisigThresholdPubkey=er.compareArrays=void 0;const Ra=N,Xl=Y,Na=Ae;function zi(e,t){const r=(0,Ra.toHex)(e),n=(0,Ra.toHex)(t);return r===n?0:r<n?-1:1}er.compareArrays=zi;function Yl(e,t,r=!1){const n=new Xl.Uint53(t);if(n.toNumber()>e.length)throw new Error(`Threshold k = ${n.toNumber()} exceeds number of keys n = ${e.length}`);const o=r?e:Array.from(e).sort((s,a)=>{const c=(0,Na.pubkeyToRawAddress)(s),i=(0,Na.pubkeyToRawAddress)(a);return zi(c,i)});return{type:"tendermint/PubKeyMultisigThreshold",value:{threshold:n.toString(),pubkeys:o}}}er.createMultisigThresholdPubkey=Yl;var Xn={};Object.defineProperty(Xn,"__esModule",{value:!0});Xn.omitDefault=void 0;function ep(e){switch(typeof e){case"string":return e===""?void 0:e;case"number":return e===0?void 0:e;case"bigint":return e===BigInt(0)?void 0:e;case"boolean":return e||void 0;default:throw new Error(`Got unsupported type '${typeof e}'`)}}Xn.omitDefault=ep;var Kr={};Object.defineProperty(Kr,"__esModule",{value:!0});Kr.makeCosmoshubPath=void 0;const Pr=ke;function tp(e){return[Pr.Slip10RawIndex.hardened(44),Pr.Slip10RawIndex.hardened(118),Pr.Slip10RawIndex.hardened(0),Pr.Slip10RawIndex.normal(0),Pr.Slip10RawIndex.normal(e)]}Kr.makeCosmoshubPath=tp;var tr={},yt={};Object.defineProperty(yt,"__esModule",{value:!0});yt.decodeSignature=yt.encodeSecp256k1Signature=void 0;const As=N,rp=oe,np=Qr;function op(e,t){if(t.length!==64)throw new Error("Signature must be 64 bytes long. Cosmos SDK uses a 2x32 byte fixed length encoding for the secp256k1 signature integers r and s.");return{pub_key:(0,rp.encodeSecp256k1Pubkey)(e),signature:(0,As.toBase64)(t)}}yt.encodeSecp256k1Signature=op;function sp(e){switch(e.pub_key.type){case np.pubkeyType.secp256k1:return{pubkey:(0,As.fromBase64)(e.pub_key.value),signature:(0,As.fromBase64)(e.signature)};default:throw new Error("Unsupported pubkey type")}}yt.decodeSignature=sp;var Ue={};Object.defineProperty(Ue,"__esModule",{value:!0});Ue.serializeSignDoc=Ue.escapeCharacters=Ue.makeSignDoc=Ue.sortedJsonStringify=void 0;const ap=N,Da=Y;function Ts(e){if(typeof e!="object"||e===null)return e;if(Array.isArray(e))return e.map(Ts);const t=Object.keys(e).sort(),r={};return t.forEach(n=>{r[n]=Ts(e[n])}),r}function Li(e){return JSON.stringify(Ts(e))}Ue.sortedJsonStringify=Li;function ip(e,t,r,n,o,s,a){return{chain_id:r,account_number:Da.Uint53.fromString(o.toString()).toString(),sequence:Da.Uint53.fromString(s.toString()).toString(),fee:t,msgs:e,memo:n||"",...a&&{timeout_height:a.toString()}}}Ue.makeSignDoc=ip;function Qi(e){const t=/&/g,r=/</g,n=/>/g;return e.replace(t,"\\u0026").replace(r,"\\u003c").replace(n,"\\u003e")}Ue.escapeCharacters=Qi;function cp(e){const t=Qi(Li(e));return(0,ap.toUtf8)(t)}Ue.serializeSignDoc=cp;var zs={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decrypt=e.encrypt=e.supportedAlgorithms=e.executeKdf=e.cosmjsSalt=void 0;const t=ke,r=N;e.cosmjsSalt=(0,r.toAscii)("The CosmJS salt.");async function n(a,c){switch(c.algorithm){case"argon2id":{const i=c.params;if(!(0,t.isArgon2idOptions)(i))throw new Error("Invalid format of argon2id params");return t.Argon2id.execute(a,e.cosmjsSalt,i)}default:throw new Error("Unsupported KDF algorithm")}}e.executeKdf=n,e.supportedAlgorithms={xchacha20poly1305Ietf:"xchacha20poly1305-ietf"};async function o(a,c,i){switch(i.algorithm){case e.supportedAlgorithms.xchacha20poly1305Ietf:{const u=t.Random.getBytes(t.xchacha20NonceLength);return new Uint8Array([...u,...await t.Xchacha20poly1305Ietf.encrypt(a,c,u)])}default:throw new Error(`Unsupported encryption algorithm: '${i.algorithm}'`)}}e.encrypt=o;async function s(a,c,i){switch(i.algorithm){case e.supportedAlgorithms.xchacha20poly1305Ietf:{const u=a.slice(0,t.xchacha20NonceLength);return t.Xchacha20poly1305Ietf.decrypt(a.slice(t.xchacha20NonceLength),c,u)}default:throw new Error(`Unsupported encryption algorithm: '${i.algorithm}'`)}}e.decrypt=s})(zs);Object.defineProperty(tr,"__esModule",{value:!0});tr.Secp256k1HdWallet=tr.extractKdfConfiguration=void 0;const Ee=ke,Ar=N,$t=Z,up=Ae,dp=Kr,lp=yt,pp=Ue,Tr=zs,_n="secp256k1wallet-v1",mp={algorithm:"argon2id",params:{outputLength:32,opsLimit:24,memLimitKib:12*1024}};function hp(e){return!(!(0,$t.isNonNullObject)(e)||typeof e.hdPath!="string"||typeof e.prefix!="string")}function fp(e){return e.kdf}function gp(e){const t=JSON.parse(e);if(!(0,$t.isNonNullObject)(t))throw new Error("Root document is not an object.");switch(t.type){case _n:return fp(t);default:throw new Error("Unsupported serialization type")}}tr.extractKdfConfiguration=gp;const Ua={bip39Password:"",hdPaths:[(0,dp.makeCosmoshubPath)(0)],prefix:"cosmos"};class At{static async fromMnemonic(t,r={}){const n=new Ee.EnglishMnemonic(t),o=await Ee.Bip39.mnemonicToSeed(n,r.bip39Password);return new At(n,{...r,seed:o})}static async generate(t=12,r={}){const n=4*Math.floor(11*t/33),o=Ee.Random.getBytes(n),s=Ee.Bip39.encode(o);return At.fromMnemonic(s.toString(),r)}static async deserialize(t,r){const n=JSON.parse(t);if(!(0,$t.isNonNullObject)(n))throw new Error("Root document is not an object.");switch(n.type){case _n:return At.deserializeTypeV1(t,r);default:throw new Error("Unsupported serialization type")}}static async deserializeWithEncryptionKey(t,r){const n=JSON.parse(t);if(!(0,$t.isNonNullObject)(n))throw new Error("Root document is not an object.");const o=n;switch(o.type){case _n:{const s=await(0,Tr.decrypt)((0,Ar.fromBase64)(o.data),r,o.encryption),a=JSON.parse((0,Ar.fromUtf8)(s)),{mnemonic:c,accounts:i}=a;if((0,$t.assert)(typeof c=="string"),!Array.isArray(i))throw new Error("Property 'accounts' is not an array");if(!i.every(f=>hp(f)))throw new Error("Account is not in the correct format.");const u=i[0].prefix;if(!i.every(({prefix:f})=>f===u))throw new Error("Accounts do not all have the same prefix");const d=i.map(({hdPath:f})=>(0,Ee.stringToPath)(f));return At.fromMnemonic(c,{hdPaths:d,prefix:u})}default:throw new Error("Unsupported serialization type")}}static async deserializeTypeV1(t,r){const n=JSON.parse(t);if(!(0,$t.isNonNullObject)(n))throw new Error("Root document is not an object.");const o=await(0,Tr.executeKdf)(r,n.kdf);return At.deserializeWithEncryptionKey(t,o)}constructor(t,r){const n=r.hdPaths??Ua.hdPaths,o=r.prefix??Ua.prefix;this.secret=t,this.seed=r.seed,this.accounts=n.map(s=>({hdPath:s,prefix:o}))}get mnemonic(){return this.secret.toString()}async getAccounts(){return(await this.getAccountsWithPrivkeys()).map(({algo:t,pubkey:r,address:n})=>({algo:t,pubkey:r,address:n}))}async signAmino(t,r){const n=(await this.getAccountsWithPrivkeys()).find(({address:u})=>u===t);if(n===void 0)throw new Error(`Address ${t} not found in wallet`);const{privkey:o,pubkey:s}=n,a=(0,Ee.sha256)((0,pp.serializeSignDoc)(r)),c=await Ee.Secp256k1.createSignature(a,o),i=new Uint8Array([...c.r(32),...c.s(32)]);return{signed:r,signature:(0,lp.encodeSecp256k1Signature)(s,i)}}async serialize(t){const r=mp,n=await(0,Tr.executeKdf)(t,r);return this.serializeWithEncryptionKey(n,r)}async serializeWithEncryptionKey(t,r){const n={mnemonic:this.mnemonic,accounts:this.accounts.map(({hdPath:i,prefix:u})=>({hdPath:(0,Ee.pathToString)(i),prefix:u}))},o=(0,Ar.toUtf8)(JSON.stringify(n)),s={algorithm:Tr.supportedAlgorithms.xchacha20poly1305Ietf},a=await(0,Tr.encrypt)(o,t,s),c={type:_n,kdf:r,encryption:s,data:(0,Ar.toBase64)(a)};return JSON.stringify(c)}async getKeyPair(t){const{privkey:r}=Ee.Slip10.derivePath(Ee.Slip10Curve.Secp256k1,this.seed,t),{pubkey:n}=await Ee.Secp256k1.makeKeypair(r);return{privkey:r,pubkey:Ee.Secp256k1.compressPubkey(n)}}async getAccountsWithPrivkeys(){return Promise.all(this.accounts.map(async({hdPath:t,prefix:r})=>{const{privkey:n,pubkey:o}=await this.getKeyPair(t),s=(0,Ar.toBech32)(r,(0,up.rawSecp256k1PubkeyToRawAddress)(o));return{algo:"secp256k1",privkey:n,pubkey:o,address:s}}))}}tr.Secp256k1HdWallet=At;var Yn={};Object.defineProperty(Yn,"__esModule",{value:!0});Yn.Secp256k1Wallet=void 0;const ln=ke,yp=N,bp=Ae,vp=yt,wp=Ue;class Ls{static async fromKey(t,r="cosmos"){const n=(await ln.Secp256k1.makeKeypair(t)).pubkey;return new Ls(t,ln.Secp256k1.compressPubkey(n),r)}constructor(t,r,n){this.privkey=t,this.pubkey=r,this.prefix=n}get address(){return(0,yp.toBech32)(this.prefix,(0,bp.rawSecp256k1PubkeyToRawAddress)(this.pubkey))}async getAccounts(){return[{algo:"secp256k1",address:this.address,pubkey:this.pubkey}]}async signAmino(t,r){if(t!==this.address)throw new Error(`Address ${t} not found in wallet`);const n=new ln.Sha256((0,wp.serializeSignDoc)(r)).digest(),o=await ln.Secp256k1.createSignature(n,this.privkey),s=new Uint8Array([...o.r(32),...o.s(32)]);return{signed:r,signature:(0,vp.encodeSecp256k1Signature)(this.pubkey,s)}}}Yn.Secp256k1Wallet=Ls;var rr={};Object.defineProperty(rr,"__esModule",{value:!0});rr.makeStdTx=rr.isStdTx=void 0;function kp(e){const{memo:t,msg:r,fee:n,signatures:o}=e;return typeof t=="string"&&Array.isArray(r)&&typeof n=="object"&&Array.isArray(o)}rr.isStdTx=kp;function Sp(e,t){return{msg:e.msgs,fee:e.fee,memo:e.memo,signatures:Array.isArray(t)?t:[t]}}rr.makeStdTx=Sp;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.executeKdf=e.makeStdTx=e.isStdTx=e.serializeSignDoc=e.makeSignDoc=e.encodeSecp256k1Signature=e.decodeSignature=e.Secp256k1Wallet=e.Secp256k1HdWallet=e.extractKdfConfiguration=e.pubkeyType=e.isSinglePubkey=e.isSecp256k1Pubkey=e.isMultisigThresholdPubkey=e.isEd25519Pubkey=e.makeCosmoshubPath=e.omitDefault=e.createMultisigThresholdPubkey=e.encodeSecp256k1Pubkey=e.encodeEd25519Pubkey=e.encodeBech32Pubkey=e.encodeAminoPubkey=e.decodeBech32Pubkey=e.decodeAminoPubkey=e.parseCoins=e.coins=e.coin=e.addCoins=e.rawSecp256k1PubkeyToRawAddress=e.rawEd25519PubkeyToRawAddress=e.pubkeyToRawAddress=e.pubkeyToAddress=void 0;var t=Ae;Object.defineProperty(e,"pubkeyToAddress",{enumerable:!0,get:function(){return t.pubkeyToAddress}}),Object.defineProperty(e,"pubkeyToRawAddress",{enumerable:!0,get:function(){return t.pubkeyToRawAddress}}),Object.defineProperty(e,"rawEd25519PubkeyToRawAddress",{enumerable:!0,get:function(){return t.rawEd25519PubkeyToRawAddress}}),Object.defineProperty(e,"rawSecp256k1PubkeyToRawAddress",{enumerable:!0,get:function(){return t.rawSecp256k1PubkeyToRawAddress}});var r=ze;Object.defineProperty(e,"addCoins",{enumerable:!0,get:function(){return r.addCoins}}),Object.defineProperty(e,"coin",{enumerable:!0,get:function(){return r.coin}}),Object.defineProperty(e,"coins",{enumerable:!0,get:function(){return r.coins}}),Object.defineProperty(e,"parseCoins",{enumerable:!0,get:function(){return r.parseCoins}});var n=oe;Object.defineProperty(e,"decodeAminoPubkey",{enumerable:!0,get:function(){return n.decodeAminoPubkey}}),Object.defineProperty(e,"decodeBech32Pubkey",{enumerable:!0,get:function(){return n.decodeBech32Pubkey}}),Object.defineProperty(e,"encodeAminoPubkey",{enumerable:!0,get:function(){return n.encodeAminoPubkey}}),Object.defineProperty(e,"encodeBech32Pubkey",{enumerable:!0,get:function(){return n.encodeBech32Pubkey}}),Object.defineProperty(e,"encodeEd25519Pubkey",{enumerable:!0,get:function(){return n.encodeEd25519Pubkey}}),Object.defineProperty(e,"encodeSecp256k1Pubkey",{enumerable:!0,get:function(){return n.encodeSecp256k1Pubkey}});var o=er;Object.defineProperty(e,"createMultisigThresholdPubkey",{enumerable:!0,get:function(){return o.createMultisigThresholdPubkey}});var s=Xn;Object.defineProperty(e,"omitDefault",{enumerable:!0,get:function(){return s.omitDefault}});var a=Kr;Object.defineProperty(e,"makeCosmoshubPath",{enumerable:!0,get:function(){return a.makeCosmoshubPath}});var c=Qr;Object.defineProperty(e,"isEd25519Pubkey",{enumerable:!0,get:function(){return c.isEd25519Pubkey}}),Object.defineProperty(e,"isMultisigThresholdPubkey",{enumerable:!0,get:function(){return c.isMultisigThresholdPubkey}}),Object.defineProperty(e,"isSecp256k1Pubkey",{enumerable:!0,get:function(){return c.isSecp256k1Pubkey}}),Object.defineProperty(e,"isSinglePubkey",{enumerable:!0,get:function(){return c.isSinglePubkey}}),Object.defineProperty(e,"pubkeyType",{enumerable:!0,get:function(){return c.pubkeyType}});var i=tr;Object.defineProperty(e,"extractKdfConfiguration",{enumerable:!0,get:function(){return i.extractKdfConfiguration}}),Object.defineProperty(e,"Secp256k1HdWallet",{enumerable:!0,get:function(){return i.Secp256k1HdWallet}});var u=Yn;Object.defineProperty(e,"Secp256k1Wallet",{enumerable:!0,get:function(){return u.Secp256k1Wallet}});var d=yt;Object.defineProperty(e,"decodeSignature",{enumerable:!0,get:function(){return d.decodeSignature}}),Object.defineProperty(e,"encodeSecp256k1Signature",{enumerable:!0,get:function(){return d.encodeSecp256k1Signature}});var f=Ue;Object.defineProperty(e,"makeSignDoc",{enumerable:!0,get:function(){return f.makeSignDoc}}),Object.defineProperty(e,"serializeSignDoc",{enumerable:!0,get:function(){return f.serializeSignDoc}});var E=rr;Object.defineProperty(e,"isStdTx",{enumerable:!0,get:function(){return E.isStdTx}}),Object.defineProperty(e,"makeStdTx",{enumerable:!0,get:function(){return E.makeStdTx}});var M=zs;Object.defineProperty(e,"executeKdf",{enumerable:!0,get:function(){return M.executeKdf}})})(ot);var Xe={};Object.defineProperty(Xe,"__esModule",{value:!0});Xe.makeSignBytes=Xe.makeSignDoc=Xe.makeAuthInfoBytes=void 0;const Ha=Z,Pp=Wn,In=jt;function Ap(e,t){return e.map(({pubkey:r,sequence:n})=>({publicKey:r,modeInfo:{single:{mode:t}},sequence:BigInt(n)}))}function Tp(e,t,r,n,o,s=Pp.SignMode.SIGN_MODE_DIRECT){(0,Ha.assert)(n===void 0||typeof n=="string","feeGranter must be undefined or string"),(0,Ha.assert)(o===void 0||typeof o=="string","feePayer must be undefined or string");const a=In.AuthInfo.fromPartial({signerInfos:Ap(e,s),fee:{amount:[...t],gasLimit:BigInt(r),granter:n,payer:o}});return In.AuthInfo.encode(a).finish()}Xe.makeAuthInfoBytes=Tp;function Ep(e,t,r,n){return{bodyBytes:e,authInfoBytes:t,chainId:r,accountNumber:BigInt(n)}}Xe.makeSignDoc=Ep;function xp({accountNumber:e,authInfoBytes:t,bodyBytes:r,chainId:n}){const o=In.SignDoc.fromPartial({accountNumber:e,authInfoBytes:t,bodyBytes:r,chainId:n});return In.SignDoc.encode(o).finish()}Xe.makeSignBytes=xp;var Qs={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decrypt=e.encrypt=e.supportedAlgorithms=e.executeKdf=e.cosmjsSalt=void 0;const t=ke,r=N;e.cosmjsSalt=(0,r.toAscii)("The CosmJS salt.");async function n(a,c){switch(c.algorithm){case"argon2id":{const i=c.params;if(!(0,t.isArgon2idOptions)(i))throw new Error("Invalid format of argon2id params");return t.Argon2id.execute(a,e.cosmjsSalt,i)}default:throw new Error("Unsupported KDF algorithm")}}e.executeKdf=n,e.supportedAlgorithms={xchacha20poly1305Ietf:"xchacha20poly1305-ietf"};async function o(a,c,i){switch(i.algorithm){case e.supportedAlgorithms.xchacha20poly1305Ietf:{const u=t.Random.getBytes(t.xchacha20NonceLength);return new Uint8Array([...u,...await t.Xchacha20poly1305Ietf.encrypt(a,c,u)])}default:throw new Error(`Unsupported encryption algorithm: '${i.algorithm}'`)}}e.encrypt=o;async function s(a,c,i){switch(i.algorithm){case e.supportedAlgorithms.xchacha20poly1305Ietf:{const u=a.slice(0,t.xchacha20NonceLength);return t.Xchacha20poly1305Ietf.decrypt(a.slice(t.xchacha20NonceLength),c,u)}default:throw new Error(`Unsupported encryption algorithm: '${i.algorithm}'`)}}e.decrypt=s})(Qs);Object.defineProperty(Jt,"__esModule",{value:!0});Jt.DirectSecp256k1HdWallet=Jt.extractKdfConfiguration=void 0;const Es=ot,xe=ke,Er=N,Ft=Z,_p=Xe,xr=Qs,Mn="directsecp256k1hdwallet-v1",Mp={algorithm:"argon2id",params:{outputLength:32,opsLimit:24,memLimitKib:12*1024}};function Op(e){return!(!(0,Ft.isNonNullObject)(e)||typeof e.hdPath!="string"||typeof e.prefix!="string")}function Cp(e){return e.kdf}function jp(e){const t=JSON.parse(e);if(!(0,Ft.isNonNullObject)(t))throw new Error("Root document is not an object.");switch(t.type){case Mn:return Cp(t);default:throw new Error("Unsupported serialization type")}}Jt.extractKdfConfiguration=jp;const Va={bip39Password:"",hdPaths:[(0,Es.makeCosmoshubPath)(0)],prefix:"cosmos"};class Tt{static async fromMnemonic(t,r={}){const n=new xe.EnglishMnemonic(t),o=await xe.Bip39.mnemonicToSeed(n,r.bip39Password);return new Tt(n,{...r,seed:o})}static async generate(t=12,r={}){const n=4*Math.floor(11*t/33),o=xe.Random.getBytes(n),s=xe.Bip39.encode(o);return Tt.fromMnemonic(s.toString(),r)}static async deserialize(t,r){const n=JSON.parse(t);if(!(0,Ft.isNonNullObject)(n))throw new Error("Root document is not an object.");switch(n.type){case Mn:return Tt.deserializeTypeV1(t,r);default:throw new Error("Unsupported serialization type")}}static async deserializeWithEncryptionKey(t,r){const n=JSON.parse(t);if(!(0,Ft.isNonNullObject)(n))throw new Error("Root document is not an object.");const o=n;switch(o.type){case Mn:{const s=await(0,xr.decrypt)((0,Er.fromBase64)(o.data),r,o.encryption),a=JSON.parse((0,Er.fromUtf8)(s)),{mnemonic:c,accounts:i}=a;if((0,Ft.assert)(typeof c=="string"),!Array.isArray(i))throw new Error("Property 'accounts' is not an array");if(!i.every(f=>Op(f)))throw new Error("Account is not in the correct format.");const u=i[0].prefix;if(!i.every(({prefix:f})=>f===u))throw new Error("Accounts do not all have the same prefix");const d=i.map(({hdPath:f})=>(0,xe.stringToPath)(f));return Tt.fromMnemonic(c,{hdPaths:d,prefix:u})}default:throw new Error("Unsupported serialization type")}}static async deserializeTypeV1(t,r){const n=JSON.parse(t);if(!(0,Ft.isNonNullObject)(n))throw new Error("Root document is not an object.");const o=await(0,xr.executeKdf)(r,n.kdf);return Tt.deserializeWithEncryptionKey(t,o)}constructor(t,r){const n=r.prefix??Va.prefix,o=r.hdPaths??Va.hdPaths;this.secret=t,this.seed=r.seed,this.accounts=o.map(s=>({hdPath:s,prefix:n}))}get mnemonic(){return this.secret.toString()}async getAccounts(){return(await this.getAccountsWithPrivkeys()).map(({algo:t,pubkey:r,address:n})=>({algo:t,pubkey:r,address:n}))}async signDirect(t,r){const n=(await this.getAccountsWithPrivkeys()).find(({address:f})=>f===t);if(n===void 0)throw new Error(`Address ${t} not found in wallet`);const{privkey:o,pubkey:s}=n,a=(0,_p.makeSignBytes)(r),c=(0,xe.sha256)(a),i=await xe.Secp256k1.createSignature(c,o),u=new Uint8Array([...i.r(32),...i.s(32)]),d=(0,Es.encodeSecp256k1Signature)(s,u);return{signed:r,signature:d}}async serialize(t){const r=Mp,n=await(0,xr.executeKdf)(t,r);return this.serializeWithEncryptionKey(n,r)}async serializeWithEncryptionKey(t,r){const n={mnemonic:this.mnemonic,accounts:this.accounts.map(({hdPath:i,prefix:u})=>({hdPath:(0,xe.pathToString)(i),prefix:u}))},o=(0,Er.toUtf8)(JSON.stringify(n)),s={algorithm:xr.supportedAlgorithms.xchacha20poly1305Ietf},a=await(0,xr.encrypt)(o,t,s),c={type:Mn,kdf:r,encryption:s,data:(0,Er.toBase64)(a)};return JSON.stringify(c)}async getKeyPair(t){const{privkey:r}=xe.Slip10.derivePath(xe.Slip10Curve.Secp256k1,this.seed,t),{pubkey:n}=await xe.Secp256k1.makeKeypair(r);return{privkey:r,pubkey:xe.Secp256k1.compressPubkey(n)}}async getAccountsWithPrivkeys(){return Promise.all(this.accounts.map(async({hdPath:t,prefix:r})=>{const{privkey:n,pubkey:o}=await this.getKeyPair(t),s=(0,Er.toBech32)(r,(0,Es.rawSecp256k1PubkeyToRawAddress)(o));return{algo:"secp256k1",privkey:n,pubkey:o,address:s}}))}}Jt.DirectSecp256k1HdWallet=Tt;var eo={};Object.defineProperty(eo,"__esModule",{value:!0});eo.DirectSecp256k1Wallet=void 0;const qa=ot,pn=ke,Bp=N,Ip=Xe;class Ks{static async fromKey(t,r="cosmos"){const n=(await pn.Secp256k1.makeKeypair(t)).pubkey;return new Ks(t,pn.Secp256k1.compressPubkey(n),r)}constructor(t,r,n){this.privkey=t,this.pubkey=r,this.prefix=n}get address(){return(0,Bp.toBech32)(this.prefix,(0,qa.rawSecp256k1PubkeyToRawAddress)(this.pubkey))}async getAccounts(){return[{algo:"secp256k1",address:this.address,pubkey:this.pubkey}]}async signDirect(t,r){const n=(0,Ip.makeSignBytes)(r);if(t!==this.address)throw new Error(`Address ${t} not found in wallet`);const o=(0,pn.sha256)(n),s=await pn.Secp256k1.createSignature(o,this.privkey),a=new Uint8Array([...s.r(32),...s.s(32)]),c=(0,qa.encodeSecp256k1Signature)(this.pubkey,a);return{signed:r,signature:c}}}eo.DirectSecp256k1Wallet=Ks;var to={};Object.defineProperty(to,"__esModule",{value:!0});to.makeCosmoshubPath=void 0;const _r=ke;function Rp(e){return[_r.Slip10RawIndex.hardened(44),_r.Slip10RawIndex.hardened(118),_r.Slip10RawIndex.hardened(0),_r.Slip10RawIndex.normal(0),_r.Slip10RawIndex.normal(e)]}to.makeCosmoshubPath=Rp;var Le={};Object.defineProperty(Le,"__esModule",{value:!0});Le.decodeOptionalPubkey=Le.decodePubkey=Le.anyToSinglePubkey=Le.encodePubkey=void 0;const Hr=ot,$a=N,Np=Y,xs=$u,_s=Fu,Ms=Wu,as=Vs;function Ki(e){if((0,Hr.isSecp256k1Pubkey)(e)){const t=Ms.PubKey.fromPartial({key:(0,$a.fromBase64)(e.value)});return as.Any.fromPartial({typeUrl:"/cosmos.crypto.secp256k1.PubKey",value:Uint8Array.from(Ms.PubKey.encode(t).finish())})}else if((0,Hr.isEd25519Pubkey)(e)){const t=xs.PubKey.fromPartial({key:(0,$a.fromBase64)(e.value)});return as.Any.fromPartial({typeUrl:"/cosmos.crypto.ed25519.PubKey",value:Uint8Array.from(xs.PubKey.encode(t).finish())})}else if((0,Hr.isMultisigThresholdPubkey)(e)){const t=_s.LegacyAminoPubKey.fromPartial({threshold:Np.Uint53.fromString(e.value.threshold).toNumber(),publicKeys:e.value.pubkeys.map(Ki)});return as.Any.fromPartial({typeUrl:"/cosmos.crypto.multisig.LegacyAminoPubKey",value:Uint8Array.from(_s.LegacyAminoPubKey.encode(t).finish())})}else throw new Error(`Pubkey type ${e.type} not recognized`)}Le.encodePubkey=Ki;function Os(e){switch(e.typeUrl){case"/cosmos.crypto.secp256k1.PubKey":{const{key:t}=Ms.PubKey.decode(e.value);return(0,Hr.encodeSecp256k1Pubkey)(t)}case"/cosmos.crypto.ed25519.PubKey":{const{key:t}=xs.PubKey.decode(e.value);return(0,Hr.encodeEd25519Pubkey)(t)}default:throw new Error(`Pubkey type_url ${e.typeUrl} not recognized as single public key type`)}}Le.anyToSinglePubkey=Os;function Zi(e){switch(e.typeUrl){case"/cosmos.crypto.secp256k1.PubKey":case"/cosmos.crypto.ed25519.PubKey":return Os(e);case"/cosmos.crypto.multisig.LegacyAminoPubKey":{const{threshold:t,publicKeys:r}=_s.LegacyAminoPubKey.decode(e.value);return{type:"tendermint/PubKeyMultisigThreshold",value:{threshold:t.toString(),pubkeys:r.map(Os)}}}default:throw new Error(`Pubkey type URL '${e.typeUrl}' not recognized`)}}Le.decodePubkey=Zi;function Dp(e){if(!e)return null;if(e.typeUrl){if(e.value.length)return Zi(e);throw new Error(`Pubkey is an Any with type URL '${e.typeUrl}' but an empty value`)}else{if(e.value.length)throw new Error("Pubkey is an Any with an empty type URL but a value set");return null}}Le.decodeOptionalPubkey=Dp;var _e={};Object.defineProperty(_e,"__esModule",{value:!0});_e.Registry=_e.isTxBodyEncodeObject=_e.isPbjsGeneratedType=_e.isTsProtoGeneratedType=_e.isTelescopeGeneratedType=void 0;const Up=gi,Hp=hi,is=jt,Vp=Vs;function Xi(e){const t=e;return typeof t.fromPartial=="function"&&typeof t.typeUrl=="string"}_e.isTelescopeGeneratedType=Xi;function Zs(e){return typeof e.fromPartial=="function"}_e.isTsProtoGeneratedType=Zs;function qp(e){return!Zs(e)}_e.isPbjsGeneratedType=qp;const Fa={cosmosCoin:"/cosmos.base.v1beta1.Coin",cosmosMsgSend:"/cosmos.bank.v1beta1.MsgSend",cosmosTxBody:"/cosmos.tx.v1beta1.TxBody",googleAny:"/google.protobuf.Any"};function Yi(e){return e.typeUrl==="/cosmos.tx.v1beta1.TxBody"}_e.isTxBodyEncodeObject=Yi;class $p{constructor(t){const{cosmosCoin:r,cosmosMsgSend:n}=Fa;this.types=t?new Map([...t]):new Map([[r,Hp.Coin],[n,Up.MsgSend]])}register(t,r){this.types.set(t,r)}lookupType(t){return this.types.get(t)}lookupTypeWithError(t){const r=this.lookupType(t);if(!r)throw new Error(`Unregistered type url: ${t}`);return r}encode(t){const{value:r,typeUrl:n}=t;if(Yi(t))return this.encodeTxBody(r);const o=this.lookupTypeWithError(n),s=Xi(o)||Zs(o)?o.fromPartial(r):o.create(r);return o.encode(s).finish()}encodeAsAny(t){const r=this.encode(t);return Vp.Any.fromPartial({typeUrl:t.typeUrl,value:r})}encodeTxBody(t){var r;const n=t.messages.map(s=>this.encodeAsAny(s)),o=is.TxBody.fromPartial({...t,timeoutHeight:BigInt(((r=t.timeoutHeight)==null?void 0:r.toString())??"0"),messages:n});return is.TxBody.encode(o).finish()}decode({typeUrl:t,value:r}){if(t===Fa.cosmosTxBody)return this.decodeTxBody(r);const n=this.lookupTypeWithError(t).decode(r);return Object.entries(n).forEach(([o,s])=>{typeof et.Buffer<"u"&&typeof et.Buffer.isBuffer<"u"&&et.Buffer.isBuffer(s)&&(n[o]=Uint8Array.from(s))}),n}decodeTxBody(t){const r=is.TxBody.decode(t);return{...r,messages:r.messages.map(({typeUrl:n,value:o})=>{if(!n)throw new Error("Missing type_url in Any");if(!o)throw new Error("Missing value in Any");return this.decode({typeUrl:n,value:o})})}}}_e.Registry=$p;var ro={};Object.defineProperty(ro,"__esModule",{value:!0});ro.isOfflineDirectSigner=void 0;function Fp(e){return e.signDirect!==void 0}ro.isOfflineDirectSigner=Fp;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.parseCoins=e.coins=e.coin=e.executeKdf=e.makeSignDoc=e.makeSignBytes=e.makeAuthInfoBytes=e.isOfflineDirectSigner=e.Registry=e.isTxBodyEncodeObject=e.isTsProtoGeneratedType=e.isPbjsGeneratedType=e.encodePubkey=e.decodePubkey=e.decodeOptionalPubkey=e.anyToSinglePubkey=e.makeCosmoshubPath=e.DirectSecp256k1Wallet=e.extractKdfConfiguration=e.DirectSecp256k1HdWallet=e.decodeTxRaw=void 0;var t=Gn;Object.defineProperty(e,"decodeTxRaw",{enumerable:!0,get:function(){return t.decodeTxRaw}});var r=Jt;Object.defineProperty(e,"DirectSecp256k1HdWallet",{enumerable:!0,get:function(){return r.DirectSecp256k1HdWallet}}),Object.defineProperty(e,"extractKdfConfiguration",{enumerable:!0,get:function(){return r.extractKdfConfiguration}});var n=eo;Object.defineProperty(e,"DirectSecp256k1Wallet",{enumerable:!0,get:function(){return n.DirectSecp256k1Wallet}});var o=to;Object.defineProperty(e,"makeCosmoshubPath",{enumerable:!0,get:function(){return o.makeCosmoshubPath}});var s=Le;Object.defineProperty(e,"anyToSinglePubkey",{enumerable:!0,get:function(){return s.anyToSinglePubkey}}),Object.defineProperty(e,"decodeOptionalPubkey",{enumerable:!0,get:function(){return s.decodeOptionalPubkey}}),Object.defineProperty(e,"decodePubkey",{enumerable:!0,get:function(){return s.decodePubkey}}),Object.defineProperty(e,"encodePubkey",{enumerable:!0,get:function(){return s.encodePubkey}});var a=_e;Object.defineProperty(e,"isPbjsGeneratedType",{enumerable:!0,get:function(){return a.isPbjsGeneratedType}}),Object.defineProperty(e,"isTsProtoGeneratedType",{enumerable:!0,get:function(){return a.isTsProtoGeneratedType}}),Object.defineProperty(e,"isTxBodyEncodeObject",{enumerable:!0,get:function(){return a.isTxBodyEncodeObject}}),Object.defineProperty(e,"Registry",{enumerable:!0,get:function(){return a.Registry}});var c=ro;Object.defineProperty(e,"isOfflineDirectSigner",{enumerable:!0,get:function(){return c.isOfflineDirectSigner}});var i=Xe;Object.defineProperty(e,"makeAuthInfoBytes",{enumerable:!0,get:function(){return i.makeAuthInfoBytes}}),Object.defineProperty(e,"makeSignBytes",{enumerable:!0,get:function(){return i.makeSignBytes}}),Object.defineProperty(e,"makeSignDoc",{enumerable:!0,get:function(){return i.makeSignDoc}});var u=Qs;Object.defineProperty(e,"executeKdf",{enumerable:!0,get:function(){return u.executeKdf}});var d=ot;Object.defineProperty(e,"coin",{enumerable:!0,get:function(){return d.coin}}),Object.defineProperty(e,"coins",{enumerable:!0,get:function(){return d.coins}}),Object.defineProperty(e,"parseCoins",{enumerable:!0,get:function(){return d.parseCoins}})})(bt);Object.defineProperty(zr,"__esModule",{value:!0});zr.accountFromAny=void 0;const Wp=Y,Jp=bt,Mr=Z,Wa=Ju,mn=Gu;function Ja(e){return Wp.Uint64.fromString(e.toString())}function Ut(e){const{address:t,pubKey:r,accountNumber:n,sequence:o}=e,s=(0,Jp.decodeOptionalPubkey)(r);return{address:t,pubkey:s,accountNumber:Ja(n).toNumber(),sequence:Ja(o).toNumber()}}function Gp(e){var t,r,n,o,s,a,c;const{typeUrl:i,value:u}=e;switch(i){case"/cosmos.auth.v1beta1.BaseAccount":return Ut(Wa.BaseAccount.decode(u));case"/cosmos.auth.v1beta1.ModuleAccount":{const d=Wa.ModuleAccount.decode(u).baseAccount;return(0,Mr.assert)(d),Ut(d)}case"/cosmos.vesting.v1beta1.BaseVestingAccount":{const d=(t=mn.BaseVestingAccount.decode(u))==null?void 0:t.baseAccount;return(0,Mr.assert)(d),Ut(d)}case"/cosmos.vesting.v1beta1.ContinuousVestingAccount":{const d=(n=(r=mn.ContinuousVestingAccount.decode(u))==null?void 0:r.baseVestingAccount)==null?void 0:n.baseAccount;return(0,Mr.assert)(d),Ut(d)}case"/cosmos.vesting.v1beta1.DelayedVestingAccount":{const d=(s=(o=mn.DelayedVestingAccount.decode(u))==null?void 0:o.baseVestingAccount)==null?void 0:s.baseAccount;return(0,Mr.assert)(d),Ut(d)}case"/cosmos.vesting.v1beta1.PeriodicVestingAccount":{const d=(c=(a=mn.PeriodicVestingAccount.decode(u))==null?void 0:a.baseVestingAccount)==null?void 0:c.baseAccount;return(0,Mr.assert)(d),Ut(d)}default:throw new Error(`Unsupported type: '${i}'`)}}zr.accountFromAny=Gp;var Zr={};Object.defineProperty(Zr,"__esModule",{value:!0});Zr.AminoTypes=void 0;class zp{constructor(t){this.register=t}toAmino({typeUrl:t,value:r}){const n=this.register[t];if(!n)throw new Error(`Type URL '${t}' does not exist in the Amino message type register. If you need support for this message type, you can pass in additional entries to the AminoTypes constructor. If you think this message type should be included by default, please open an issue at https://github.com/cosmos/cosmjs/issues.`);return{type:n.aminoType,value:n.toAmino(r)}}fromAmino({type:t,value:r}){const n=Object.entries(this.register).filter(([o,{aminoType:s}])=>s===t);switch(n.length){case 0:throw new Error(`Amino type identifier '${t}' does not exist in the Amino message type register. If you need support for this message type, you can pass in additional entries to the AminoTypes constructor. If you think this message type should be included by default, please open an issue at https://github.com/cosmos/cosmjs/issues.`);case 1:{const[o,s]=n[0];return{typeUrl:o,value:s.fromAmino(r)}}default:throw new Error(`Multiple types are registered with Amino type identifier '${t}': '`+n.map(([o,s])=>o).sort().join("', '")+"'. Thus fromAmino cannot be performed.")}}}Zr.AminoTypes=zp;var Xr={};Object.defineProperty(Xr,"__esModule",{value:!0});Xr.fromTendermintEvent=void 0;const Ga=N;function Lp(e){return{type:e.type,attributes:e.attributes.map(t=>({key:typeof t.key=="string"?t.key:(0,Ga.fromUtf8)(t.key,!0),value:typeof t.value=="string"?t.value:(0,Ga.fromUtf8)(t.value,!0)}))}}Xr.fromTendermintEvent=Lp;var Ot={};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.calculateFee=Ot.GasPrice=void 0;const ec=Y,Qp=bt;function Kp(e){if(e.length<3||e.length>128)throw new Error("Denom must be between 3 and 128 characters")}class no{constructor(t,r){this.amount=t,this.denom=r}static fromString(t){const r=t.match(/^([0-9.]+)([a-zA-Z][a-zA-Z0-9/:._-]*)$/);if(!r)throw new Error("Invalid gas price string");const[n,o,s]=r;Kp(s);const a=ec.Decimal.fromUserInput(o,18);return new no(a,s)}toString(){return this.amount.toString()+this.denom}}Ot.GasPrice=no;function Zp(e,t){const r=typeof t=="string"?no.fromString(t):t,{denom:n,amount:o}=r,s=o.multiply(new ec.Uint53(e)).ceil().toString();return{amount:(0,Qp.coins)(s,n),gas:e.toString()}}Ot.calculateFee=Zp;var fe={};Object.defineProperty(fe,"__esModule",{value:!0});fe.findAttribute=fe.parseRawLog=fe.parseLogs=fe.parseLog=fe.parseEvent=fe.parseAttribute=void 0;const Xs=Z;function tc(e){if(!(0,Xs.isNonNullObject)(e))throw new Error("Attribute must be a non-null object");const{key:t,value:r}=e;if(typeof t!="string"||!t)throw new Error("Attribute's key must be a non-empty string");if(typeof r!="string"&&typeof r<"u")throw new Error("Attribute's value must be a string or unset");return{key:t,value:r||""}}fe.parseAttribute=tc;function rc(e){if(!(0,Xs.isNonNullObject)(e))throw new Error("Event must be a non-null object");const{type:t,attributes:r}=e;if(typeof t!="string"||t==="")throw new Error("Event type must be a non-empty string");if(!Array.isArray(r))throw new Error("Event's attributes must be an array");return{type:t,attributes:r.map(tc)}}fe.parseEvent=rc;function nc(e){if(!(0,Xs.isNonNullObject)(e))throw new Error("Log must be a non-null object");const{msg_index:t,log:r,events:n}=e;if(typeof t!="number")throw new Error("Log's msg_index must be a number");if(typeof r!="string")throw new Error("Log's log must be a string");if(!Array.isArray(n))throw new Error("Log's events must be an array");return{msg_index:t,log:r,events:n.map(rc)}}fe.parseLog=nc;function oc(e){if(!Array.isArray(e))throw new Error("Logs must be an array");return e.map(nc)}fe.parseLogs=oc;function Xp(e){if(!e)return[];const t=JSON.parse(e).map(({events:r},n)=>({msg_index:n,events:r,log:""}));return oc(t)}fe.parseRawLog=Xp;function Yp(e,t,r){var n;const o=e.find(()=>!0),s=(n=o==null?void 0:o.events.find(a=>a.type===t))==null?void 0:n.attributes.find(a=>a.key===r);if(!s)throw new Error(`Could not find attribute '${r}' in first event of type '${t}' in first log.`);return s}fe.findAttribute=Yp;var Fr={},oo={},ae={},so={},Yr={},ao={};Object.defineProperty(ao,"__esModule",{value:!0});ao.concat=void 0;const em=Ct;function tm(...e){const t=new Array,r=new Array,n=new Set;let o=0;function s(){for(;t.length>0;)t.shift().unsubscribe();r.length=0,n.clear(),o=0}const a={start:c=>{e.forEach(d=>r.push([]));function i(d){for(;;){const f=r[d].shift();if(f===void 0)return;c.next(f)}}function u(){return o>=e.length}if(u()){c.complete();return}e.forEach((d,f)=>{t.push(d.subscribe({next:E=>{f===o?c.next(E):r[f].push(E)},complete:()=>{for(n.add(f);n.has(o);)i(o),o++;u()?c.complete():i(o)},error:E=>{c.error(E),s()}}))})},stop:()=>{s()}};return em.Stream.create(a)}ao.concat=tm;var io={};Object.defineProperty(io,"__esModule",{value:!0});io.DefaultValueProducer=void 0;class rm{get value(){return this.internalValue}constructor(t,r){this.callbacks=r,this.internalValue=t}update(t){this.internalValue=t,this.listener&&this.listener.next(t)}error(t){this.listener&&this.listener.error(t)}start(t){this.listener=t,t.next(this.internalValue),this.callbacks&&this.callbacks.onStarted()}stop(){this.callbacks&&this.callbacks.onStop(),this.listener=void 0}}io.DefaultValueProducer=rm;var co={};Object.defineProperty(co,"__esModule",{value:!0});co.dropDuplicates=void 0;function nm(e){return t=>{const r=new Set;return t.filter(n=>!r.has(e(n))).debug(n=>r.add(e(n)))}}co.dropDuplicates=nm;var pt={};Object.defineProperty(pt,"__esModule",{value:!0});pt.firstEvent=pt.toListPromise=pt.fromListPromise=void 0;const om=Ct;function sm(e){const t={start:r=>{e.then(n=>{for(const o of n)r.next(o);r.complete()}).catch(n=>r.error(n))},stop:()=>{}};return om.Stream.create(t)}pt.fromListPromise=sm;async function sc(e,t){return new Promise((r,n)=>{if(t===0){r([]);return}const o=new Array;e.take(t).subscribe({next:s=>{o.push(s),o.length===t&&r(o)},complete:()=>{n(`Stream completed before all events could be collected. Collected ${o.length}, expected ${t}`)},error:s=>n(s)})})}pt.toListPromise=sc;async function am(e){return(await sc(e,1))[0]}pt.firstEvent=am;var Qe={};Object.defineProperty(Qe,"__esModule",{value:!0});Qe.lastValue=Qe.asArray=Qe.countStream=Qe.Reducer=void 0;class uo{constructor(t,r,n){this.stream=t,this.reducer=r,this.state=n,this.completed=new Promise((o,s)=>{const a=this.stream.subscribe({next:c=>{this.state=this.reducer(this.state,c)},complete:()=>{o(),a.unsubscribe()},error:c=>{s(c),a.unsubscribe()}})})}value(){return this.state}async finished(){return this.completed}}Qe.Reducer=uo;function im(e,t){return e+1}function cm(e){return new uo(e,im,0)}Qe.countStream=cm;function um(e,t){return[...e,t]}function dm(e){return new uo(e,um,[])}Qe.asArray=dm;function lm(e,t){return t}function pm(e){return new uo(e,lm,void 0)}Qe.lastValue=pm;var lo={};Object.defineProperty(lo,"__esModule",{value:!0});lo.ValueAndUpdates=void 0;const mm=Ct;class hm{get value(){return this.producer.value}constructor(t){this.producer=t,this.updates=mm.MemoryStream.createWithMemory(this.producer)}async waitFor(t){const r=typeof t=="function"?t:n=>n===t;return new Promise((n,o)=>{const s=this.updates.subscribe({next:a=>{r(a)&&(n(a),setTimeout(()=>s.unsubscribe(),0))},complete:()=>{s.unsubscribe(),o("Update stream completed without expected value")},error:a=>{o(a)}})})}}lo.ValueAndUpdates=hm;(function(e){var t=h&&h.__createBinding||(Object.create?function(i,u,d,f){f===void 0&&(f=d);var E=Object.getOwnPropertyDescriptor(u,d);(!E||("get"in E?!u.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return u[d]}}),Object.defineProperty(i,f,E)}:function(i,u,d,f){f===void 0&&(f=d),i[f]=u[d]}),r=h&&h.__exportStar||function(i,u){for(var d in i)d!=="default"&&!Object.prototype.hasOwnProperty.call(u,d)&&t(u,i,d)};Object.defineProperty(e,"__esModule",{value:!0}),e.ValueAndUpdates=e.toListPromise=e.fromListPromise=e.firstEvent=e.dropDuplicates=e.DefaultValueProducer=e.concat=void 0;var n=ao;Object.defineProperty(e,"concat",{enumerable:!0,get:function(){return n.concat}});var o=io;Object.defineProperty(e,"DefaultValueProducer",{enumerable:!0,get:function(){return o.DefaultValueProducer}});var s=co;Object.defineProperty(e,"dropDuplicates",{enumerable:!0,get:function(){return s.dropDuplicates}});var a=pt;Object.defineProperty(e,"firstEvent",{enumerable:!0,get:function(){return a.firstEvent}}),Object.defineProperty(e,"fromListPromise",{enumerable:!0,get:function(){return a.fromListPromise}}),Object.defineProperty(e,"toListPromise",{enumerable:!0,get:function(){return a.toListPromise}}),r(Qe,e);var c=lo;Object.defineProperty(e,"ValueAndUpdates",{enumerable:!0,get:function(){return c.ValueAndUpdates}})})(Yr);Object.defineProperty(so,"__esModule",{value:!0});so.QueryClient=void 0;const Pt=Eu,Et=N,fm=Yr,pe=Z;function hn(e,t,r){if(e.type!==t)throw new Error(`Op expected to be ${t}, got "${e.type}`);if(!(0,pe.arrayContentEquals)(r,e.key))throw new Error(`Proven key different than queried key.
Query: ${(0,Et.toHex)(r)}
Proven: ${(0,Et.toHex)(e.key)}`);return Pt.ics23.CommitmentProof.decode(e.data)}class Ys{static withExtensions(t,...r){const n=new Ys(t),o=r.map(s=>s(n));for(const s of o){(0,pe.assert)((0,pe.isNonNullObject)(s),"Extension must be a non-null object");for(const[a,c]of Object.entries(s)){(0,pe.assert)((0,pe.isNonNullObject)(c),`Module must be a non-null object. Found type ${typeof c} for module "${a}".`);const i=n[a]||{};n[a]={...i,...c}}}return n}constructor(t){this.cometClient=t}async queryStoreVerified(t,r,n){const{height:o,proof:s,key:a,value:c}=await this.queryRawProof(t,r,n),i=hn(s.ops[0],"ics23:iavl",r),u=hn(s.ops[1],"ics23:simple",(0,Et.toAscii)(t));(0,pe.assert)(u.exist),(0,pe.assert)(u.exist.value),!c||c.length===0?((0,pe.assert)(i.nonexist),(0,Pt.verifyNonExistence)(i.nonexist,Pt.iavlSpec,u.exist.value,r)):((0,pe.assert)(i.exist),(0,pe.assert)(i.exist.value),(0,Pt.verifyExistence)(i.exist,Pt.iavlSpec,u.exist.value,r,c));const d=await this.getNextHeader(o);return(0,Pt.verifyExistence)(u.exist,Pt.tendermintSpec,d.appHash,(0,Et.toAscii)(t),u.exist.value),{key:a,value:c,height:o}}async queryRawProof(t,r,n){const{key:o,value:s,height:a,proof:c,code:i,log:u}=await this.cometClient.abciQuery({path:`/store/${t}/key`,data:r,prove:!0,height:n});if(i)throw new Error(`Query failed with (${i}): ${u}`);if(!(0,pe.arrayContentEquals)(r,o))throw new Error(`Response key ${(0,Et.toHex)(o)} doesn't match query key ${(0,Et.toHex)(r)}`);if(!a)throw new Error("No query height returned");if(!c||c.ops.length!==2)throw new Error(`Expected 2 proof ops, got ${(c==null?void 0:c.ops.length)??0}. Are you using stargate?`);return hn(c.ops[0],"ics23:iavl",o),hn(c.ops[1],"ics23:simple",(0,Et.toAscii)(t)),{key:o,value:s,height:a,proof:{ops:[...c.ops]}}}async queryAbci(t,r,n){const o=await this.cometClient.abciQuery({path:t,data:r,prove:!1,height:n});if(o.code)throw new Error(`Query failed with (${o.code}): ${o.log}`);if(!o.height)throw new Error("No query height returned");return{value:o.value,height:o.height}}async getNextHeader(t){if((0,pe.assertDefined)(t),t===0)throw new Error("Query returned height 0, cannot prove it");const r=t+1;let n,o;try{o=this.cometClient.subscribeNewBlockHeader()}catch{}if(o){const s=await(0,fm.firstEvent)(o);s.height===r&&(n=s)}for(;!n;){const s=(await this.cometClient.blockchain(t,r)).blockMetas.map(a=>a.header).find(a=>a.height===r);s?n=s:await(0,pe.sleep)(1e3)}return(0,pe.assert)(n.height===r,"Got wrong header. This is a bug in the logic above."),n}}so.QueryClient=Ys;var Me={};Object.defineProperty(Me,"__esModule",{value:!0});Me.decodeCosmosSdkDecFromProto=Me.longify=Me.createProtobufRpcClient=Me.createPagination=Me.toAccAddress=void 0;const ac=N,ic=Y,za=zu;function gm(e){return(0,ac.fromBech32)(e).data}Me.toAccAddress=gm;function ym(e){return e?za.PageRequest.fromPartial({key:e}):za.PageRequest.fromPartial({})}Me.createPagination=ym;function bm(e){return{request:async(t,r,n)=>{const o=`/${t}/${r}`;return(await e.queryAbci(o,n,void 0)).value}}}Me.createProtobufRpcClient=bm;function vm(e){const t=ic.Uint64.fromString(e.toString());return BigInt(t.toString())}Me.longify=vm;function wm(e){const t=typeof e=="string"?e:(0,ac.fromAscii)(e);return ic.Decimal.fromAtomics(t,18)}Me.decodeCosmosSdkDecFromProto=wm;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.longify=e.decodeCosmosSdkDecFromProto=e.createProtobufRpcClient=e.createPagination=e.QueryClient=void 0;var t=so;Object.defineProperty(e,"QueryClient",{enumerable:!0,get:function(){return t.QueryClient}});var r=Me;Object.defineProperty(e,"createPagination",{enumerable:!0,get:function(){return r.createPagination}}),Object.defineProperty(e,"createProtobufRpcClient",{enumerable:!0,get:function(){return r.createProtobufRpcClient}}),Object.defineProperty(e,"decodeCosmosSdkDecFromProto",{enumerable:!0,get:function(){return r.decodeCosmosSdkDecFromProto}}),Object.defineProperty(e,"longify",{enumerable:!0,get:function(){return r.longify}})})(ae);Object.defineProperty(oo,"__esModule",{value:!0});oo.setupAuthExtension=void 0;const km=Lu,Sm=ae;function Pm(e){const t=(0,Sm.createProtobufRpcClient)(e),r=new km.QueryClientImpl(t);return{auth:{account:async n=>{const{account:o}=await r.Account({address:n});return o??null}}}}oo.setupAuthExtension=Pm;var po={};Object.defineProperty(po,"__esModule",{value:!0});po.createAuthzAminoConverters=void 0;function Am(){return{}}po.createAuthzAminoConverters=Am;var mo={};Object.defineProperty(mo,"__esModule",{value:!0});mo.authzTypes=void 0;const cs=Cu;mo.authzTypes=[["/cosmos.authz.v1beta1.MsgExec",cs.MsgExec],["/cosmos.authz.v1beta1.MsgGrant",cs.MsgGrant],["/cosmos.authz.v1beta1.MsgRevoke",cs.MsgRevoke]];var ho={};Object.defineProperty(ho,"__esModule",{value:!0});ho.setupAuthzExtension=void 0;const Tm=Qu,fn=ae;function Em(e){const t=(0,fn.createProtobufRpcClient)(e),r=new Tm.QueryClientImpl(t);return{authz:{grants:async(n,o,s,a)=>await r.Grants({granter:n,grantee:o,msgTypeUrl:s,pagination:(0,fn.createPagination)(a)}),granteeGrants:async(n,o)=>await r.GranteeGrants({grantee:n,pagination:(0,fn.createPagination)(o)}),granterGrants:async(n,o)=>await r.GranterGrants({granter:n,pagination:(0,fn.createPagination)(o)})}}}ho.setupAuthzExtension=Em;var mt={};Object.defineProperty(mt,"__esModule",{value:!0});mt.createBankAminoConverters=mt.isAminoMsgMultiSend=mt.isAminoMsgSend=void 0;function xm(e){return e.type==="cosmos-sdk/MsgSend"}mt.isAminoMsgSend=xm;function _m(e){return e.type==="cosmos-sdk/MsgMultiSend"}mt.isAminoMsgMultiSend=_m;function Mm(){return{"/cosmos.bank.v1beta1.MsgSend":{aminoType:"cosmos-sdk/MsgSend",toAmino:({fromAddress:e,toAddress:t,amount:r})=>({from_address:e,to_address:t,amount:[...r]}),fromAmino:({from_address:e,to_address:t,amount:r})=>({fromAddress:e,toAddress:t,amount:[...r]})},"/cosmos.bank.v1beta1.MsgMultiSend":{aminoType:"cosmos-sdk/MsgMultiSend",toAmino:({inputs:e,outputs:t})=>({inputs:e.map(r=>({address:r.address,coins:[...r.coins]})),outputs:t.map(r=>({address:r.address,coins:[...r.coins]}))}),fromAmino:({inputs:e,outputs:t})=>({inputs:e.map(r=>({address:r.address,coins:[...r.coins]})),outputs:t.map(r=>({address:r.address,coins:[...r.coins]}))})}}}mt.createBankAminoConverters=Mm;var nr={};Object.defineProperty(nr,"__esModule",{value:!0});nr.isMsgSendEncodeObject=nr.bankTypes=void 0;const La=gi;nr.bankTypes=[["/cosmos.bank.v1beta1.MsgMultiSend",La.MsgMultiSend],["/cosmos.bank.v1beta1.MsgSend",La.MsgSend]];function Om(e){return e.typeUrl==="/cosmos.bank.v1beta1.MsgSend"}nr.isMsgSendEncodeObject=Om;var fo={};Object.defineProperty(fo,"__esModule",{value:!0});fo.setupBankExtension=void 0;const us=Z,ds=Ku,Qa=ae;function Cm(e){const t=(0,Qa.createProtobufRpcClient)(e),r=new ds.QueryClientImpl(t);return{bank:{balance:async(n,o)=>{const{balance:s}=await r.Balance({address:n,denom:o});return(0,us.assert)(s),s},allBalances:async n=>{const{balances:o}=await r.AllBalances(ds.QueryAllBalancesRequest.fromPartial({address:n}));return o},totalSupply:async n=>await r.TotalSupply({pagination:(0,Qa.createPagination)(n)}),supplyOf:async n=>{const{amount:o}=await r.SupplyOf({denom:n});return(0,us.assert)(o),o},denomMetadata:async n=>{const{metadata:o}=await r.DenomMetadata({denom:n});return(0,us.assert)(o),o},denomsMetadata:async()=>{const{metadatas:n}=await r.DenomsMetadata(ds.QueryDenomsMetadataRequest.fromPartial({pagination:void 0}));return n}}}}fo.setupBankExtension=Cm;var or={};Object.defineProperty(or,"__esModule",{value:!0});or.createCrysisAminoConverters=or.isAminoMsgVerifyInvariant=void 0;function jm(e){return e.type==="cosmos-sdk/MsgVerifyInvariant"}or.isAminoMsgVerifyInvariant=jm;function Bm(){throw new Error("Not implemented")}or.createCrysisAminoConverters=Bm;var Oe={};Object.defineProperty(Oe,"__esModule",{value:!0});Oe.createDistributionAminoConverters=Oe.isAminoMsgFundCommunityPool=Oe.isAminoMsgWithdrawValidatorCommission=Oe.isAminoMsgWithdrawDelegatorReward=Oe.isAminoMsgSetWithdrawAddress=void 0;function Im(e){return e.type==="cosmos-sdk/MsgModifyWithdrawAddress"}Oe.isAminoMsgSetWithdrawAddress=Im;function Rm(e){return e.type==="cosmos-sdk/MsgWithdrawDelegationReward"}Oe.isAminoMsgWithdrawDelegatorReward=Rm;function Nm(e){return e.type==="cosmos-sdk/MsgWithdrawValidatorCommission"}Oe.isAminoMsgWithdrawValidatorCommission=Nm;function Dm(e){return e.type==="cosmos-sdk/MsgFundCommunityPool"}Oe.isAminoMsgFundCommunityPool=Dm;function Um(){return{"/cosmos.distribution.v1beta1.MsgFundCommunityPool":{aminoType:"cosmos-sdk/MsgFundCommunityPool",toAmino:({amount:e,depositor:t})=>({amount:[...e],depositor:t}),fromAmino:({amount:e,depositor:t})=>({amount:[...e],depositor:t})},"/cosmos.distribution.v1beta1.MsgSetWithdrawAddress":{aminoType:"cosmos-sdk/MsgModifyWithdrawAddress",toAmino:({delegatorAddress:e,withdrawAddress:t})=>({delegator_address:e,withdraw_address:t}),fromAmino:({delegator_address:e,withdraw_address:t})=>({delegatorAddress:e,withdrawAddress:t})},"/cosmos.distribution.v1beta1.MsgWithdrawDelegatorReward":{aminoType:"cosmos-sdk/MsgWithdrawDelegationReward",toAmino:({delegatorAddress:e,validatorAddress:t})=>({delegator_address:e,validator_address:t}),fromAmino:({delegator_address:e,validator_address:t})=>({delegatorAddress:e,validatorAddress:t})},"/cosmos.distribution.v1beta1.MsgWithdrawValidatorCommission":{aminoType:"cosmos-sdk/MsgWithdrawValidatorCommission",toAmino:({validatorAddress:e})=>({validator_address:e}),fromAmino:({validator_address:e})=>({validatorAddress:e})}}}Oe.createDistributionAminoConverters=Um;var sr={};Object.defineProperty(sr,"__esModule",{value:!0});sr.isMsgWithdrawDelegatorRewardEncodeObject=sr.distributionTypes=void 0;const gn=yi;sr.distributionTypes=[["/cosmos.distribution.v1beta1.MsgFundCommunityPool",gn.MsgFundCommunityPool],["/cosmos.distribution.v1beta1.MsgSetWithdrawAddress",gn.MsgSetWithdrawAddress],["/cosmos.distribution.v1beta1.MsgWithdrawDelegatorReward",gn.MsgWithdrawDelegatorReward],["/cosmos.distribution.v1beta1.MsgWithdrawValidatorCommission",gn.MsgWithdrawValidatorCommission]];function Hm(e){return e.typeUrl==="/cosmos.distribution.v1beta1.MsgWithdrawDelegatorReward"}sr.isMsgWithdrawDelegatorRewardEncodeObject=Hm;var go={};Object.defineProperty(go,"__esModule",{value:!0});go.setupDistributionExtension=void 0;const Vm=Zu,Ka=ae;function qm(e){const t=(0,Ka.createProtobufRpcClient)(e),r=new Vm.QueryClientImpl(t);return{distribution:{communityPool:async()=>await r.CommunityPool({}),delegationRewards:async(n,o)=>await r.DelegationRewards({delegatorAddress:n,validatorAddress:o}),delegationTotalRewards:async n=>await r.DelegationTotalRewards({delegatorAddress:n}),delegatorValidators:async n=>await r.DelegatorValidators({delegatorAddress:n}),delegatorWithdrawAddress:async n=>await r.DelegatorWithdrawAddress({delegatorAddress:n}),params:async()=>await r.Params({}),validatorCommission:async n=>await r.ValidatorCommission({validatorAddress:n}),validatorOutstandingRewards:async n=>await r.ValidatorOutstandingRewards({validatorAddress:n}),validatorSlashes:async(n,o,s,a)=>await r.ValidatorSlashes({validatorAddress:n,startingHeight:BigInt(o),endingHeight:BigInt(s),pagination:(0,Ka.createPagination)(a)})}}}go.setupDistributionExtension=qm;var ar={};Object.defineProperty(ar,"__esModule",{value:!0});ar.createEvidenceAminoConverters=ar.isAminoMsgSubmitEvidence=void 0;function $m(e){return e.type==="cosmos-sdk/MsgSubmitEvidence"}ar.isAminoMsgSubmitEvidence=$m;function Fm(){throw new Error("Not implemented")}ar.createEvidenceAminoConverters=Fm;var yo={};Object.defineProperty(yo,"__esModule",{value:!0});yo.createFeegrantAminoConverters=void 0;function Wm(){return{}}yo.createFeegrantAminoConverters=Wm;var bo={};Object.defineProperty(bo,"__esModule",{value:!0});bo.feegrantTypes=void 0;const Za=ju;bo.feegrantTypes=[["/cosmos.feegrant.v1beta1.MsgGrantAllowance",Za.MsgGrantAllowance],["/cosmos.feegrant.v1beta1.MsgRevokeAllowance",Za.MsgRevokeAllowance]];var vo={};Object.defineProperty(vo,"__esModule",{value:!0});vo.setupFeegrantExtension=void 0;const Jm=Xu,Xa=ae;function Gm(e){const t=(0,Xa.createProtobufRpcClient)(e),r=new Jm.QueryClientImpl(t);return{feegrant:{allowance:async(n,o)=>await r.Allowance({granter:n,grantee:o}),allowances:async(n,o)=>await r.Allowances({grantee:n,pagination:(0,Xa.createPagination)(o)})}}}vo.setupFeegrantExtension=Gm;var Ce={};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.createGovAminoConverters=Ce.isAminoMsgDeposit=Ce.isAminoMsgVoteWeighted=Ce.isAminoMsgVote=Ce.isAminoMsgSubmitProposal=void 0;const zm=Y,Or=Z,Cr=Yu,Lm=Vs,Qm=ae;function Km(e){return e.type==="cosmos-sdk/MsgSubmitProposal"}Ce.isAminoMsgSubmitProposal=Km;function Zm(e){return e.type==="cosmos-sdk/MsgVote"}Ce.isAminoMsgVote=Zm;function Xm(e){return e.type==="cosmos-sdk/MsgVoteWeighted"}Ce.isAminoMsgVoteWeighted=Xm;function Ym(e){return e.type==="cosmos-sdk/MsgDeposit"}Ce.isAminoMsgDeposit=Ym;function eh(){return{"/cosmos.gov.v1beta1.MsgDeposit":{aminoType:"cosmos-sdk/MsgDeposit",toAmino:({amount:e,depositor:t,proposalId:r})=>({amount:e,depositor:t,proposal_id:r.toString()}),fromAmino:({amount:e,depositor:t,proposal_id:r})=>({amount:Array.from(e),depositor:t,proposalId:BigInt(r)})},"/cosmos.gov.v1beta1.MsgVote":{aminoType:"cosmos-sdk/MsgVote",toAmino:({option:e,proposalId:t,voter:r})=>({option:e,proposal_id:t.toString(),voter:r}),fromAmino:({option:e,proposal_id:t,voter:r})=>({option:(0,Cr.voteOptionFromJSON)(e),proposalId:BigInt(t),voter:r})},"/cosmos.gov.v1beta1.MsgVoteWeighted":{aminoType:"cosmos-sdk/MsgVoteWeighted",toAmino:({options:e,proposalId:t,voter:r})=>({options:e.map(n=>({option:n.option,weight:(0,Qm.decodeCosmosSdkDecFromProto)(n.weight).toString().padEnd(20,"0")})),proposal_id:t.toString(),voter:r}),fromAmino:({options:e,proposal_id:t,voter:r})=>({proposalId:BigInt(t),voter:r,options:e.map(n=>({option:(0,Cr.voteOptionFromJSON)(n.option),weight:zm.Decimal.fromUserInput(n.weight,18).atomics}))})},"/cosmos.gov.v1beta1.MsgSubmitProposal":{aminoType:"cosmos-sdk/MsgSubmitProposal",toAmino:({initialDeposit:e,proposer:t,content:r})=>{(0,Or.assertDefinedAndNotNull)(r);let n;switch(r.typeUrl){case"/cosmos.gov.v1beta1.TextProposal":{const o=Cr.TextProposal.decode(r.value);n={type:"cosmos-sdk/TextProposal",value:{description:o.description,title:o.title}};break}default:throw new Error(`Unsupported proposal type: '${r.typeUrl}'`)}return{initial_deposit:e,proposer:t,content:n}},fromAmino:({initial_deposit:e,proposer:t,content:r})=>{let n;switch(r.type){case"cosmos-sdk/TextProposal":{const{value:o}=r;(0,Or.assert)((0,Or.isNonNullObject)(o));const{title:s,description:a}=o;(0,Or.assert)(typeof s=="string"),(0,Or.assert)(typeof a=="string"),n=Lm.Any.fromPartial({typeUrl:"/cosmos.gov.v1beta1.TextProposal",value:Cr.TextProposal.encode(Cr.TextProposal.fromPartial({title:s,description:a})).finish()});break}default:throw new Error(`Unsupported proposal type: '${r.type}'`)}return{initialDeposit:Array.from(e),proposer:t,content:n}}}}}Ce.createGovAminoConverters=eh;var je={};Object.defineProperty(je,"__esModule",{value:!0});je.isMsgVoteWeightedEncodeObject=je.isMsgVoteEncodeObject=je.isMsgSubmitProposalEncodeObject=je.isMsgDepositEncodeObject=je.govTypes=void 0;const jr=Bu,yn=Iu;je.govTypes=[["/cosmos.gov.v1.MsgDeposit",jr.MsgDeposit],["/cosmos.gov.v1.MsgSubmitProposal",jr.MsgSubmitProposal],["/cosmos.gov.v1.MsgUpdateParams",jr.MsgUpdateParams],["/cosmos.gov.v1.MsgVote",jr.MsgVote],["/cosmos.gov.v1.MsgVoteWeighted",jr.MsgVoteWeighted],["/cosmos.gov.v1beta1.MsgDeposit",yn.MsgDeposit],["/cosmos.gov.v1beta1.MsgSubmitProposal",yn.MsgSubmitProposal],["/cosmos.gov.v1beta1.MsgVote",yn.MsgVote],["/cosmos.gov.v1beta1.MsgVoteWeighted",yn.MsgVoteWeighted]];function th(e){return e.typeUrl==="/cosmos.gov.v1beta1.MsgDeposit"}je.isMsgDepositEncodeObject=th;function rh(e){return e.typeUrl==="/cosmos.gov.v1beta1.MsgSubmitProposal"}je.isMsgSubmitProposalEncodeObject=rh;function nh(e){return e.typeUrl==="/cosmos.gov.v1beta1.MsgVote"}je.isMsgVoteEncodeObject=nh;function oh(e){return e.typeUrl==="/cosmos.gov.v1beta1.MsgVoteWeighted"}je.isMsgVoteWeightedEncodeObject=oh;var wo={};Object.defineProperty(wo,"__esModule",{value:!0});wo.setupGovExtension=void 0;const sh=ed,Fe=ae;function ah(e){const t=(0,Fe.createProtobufRpcClient)(e),r=new sh.QueryClientImpl(t);return{gov:{params:async n=>await r.Params({paramsType:n}),proposals:async(n,o,s,a)=>await r.Proposals({proposalStatus:n,depositor:o,voter:s,pagination:(0,Fe.createPagination)(a)}),proposal:async n=>await r.Proposal({proposalId:(0,Fe.longify)(n)}),deposits:async(n,o)=>await r.Deposits({proposalId:(0,Fe.longify)(n),pagination:(0,Fe.createPagination)(o)}),deposit:async(n,o)=>await r.Deposit({proposalId:(0,Fe.longify)(n),depositor:o}),tally:async n=>await r.TallyResult({proposalId:(0,Fe.longify)(n)}),votes:async(n,o)=>await r.Votes({proposalId:(0,Fe.longify)(n),pagination:(0,Fe.createPagination)(o)}),vote:async(n,o)=>await r.Vote({proposalId:(0,Fe.longify)(n),voter:o})}}}wo.setupGovExtension=ah;var ko={};Object.defineProperty(ko,"__esModule",{value:!0});ko.createGroupAminoConverters=void 0;function ih(){return{}}ko.createGroupAminoConverters=ih;var So={};Object.defineProperty(So,"__esModule",{value:!0});So.groupTypes=void 0;const ce=Ru;So.groupTypes=[["/cosmos.group.v1.MsgCreateGroup",ce.MsgCreateGroup],["/cosmos.group.v1.MsgCreateGroupPolicy",ce.MsgCreateGroupPolicy],["/cosmos.group.v1.MsgCreateGroupWithPolicy",ce.MsgCreateGroupWithPolicy],["/cosmos.group.v1.MsgExec",ce.MsgExec],["/cosmos.group.v1.MsgLeaveGroup",ce.MsgLeaveGroup],["/cosmos.group.v1.MsgSubmitProposal",ce.MsgSubmitProposal],["/cosmos.group.v1.MsgUpdateGroupAdmin",ce.MsgUpdateGroupAdmin],["/cosmos.group.v1.MsgUpdateGroupMembers",ce.MsgUpdateGroupMembers],["/cosmos.group.v1.MsgUpdateGroupMetadata",ce.MsgUpdateGroupMetadata],["/cosmos.group.v1.MsgUpdateGroupPolicyAdmin",ce.MsgUpdateGroupPolicyAdmin],["/cosmos.group.v1.MsgUpdateGroupPolicyDecisionPolicy",ce.MsgUpdateGroupPolicyDecisionPolicy],["/cosmos.group.v1.MsgUpdateGroupPolicyMetadata",ce.MsgUpdateGroupPolicyMetadata],["/cosmos.group.v1.MsgVote",ce.MsgVote],["/cosmos.group.v1.MsgWithdrawProposal",ce.MsgWithdrawProposal]];var ir={};Object.defineProperty(ir,"__esModule",{value:!0});ir.createIbcAminoConverters=ir.isAminoMsgTransfer=void 0;const bn=ot,ch=Fn;function uh(e){return e.type==="cosmos-sdk/MsgTransfer"}ir.isAminoMsgTransfer=uh;function dh(){return{"/ibc.applications.transfer.v1.MsgTransfer":{aminoType:"cosmos-sdk/MsgTransfer",toAmino:({sourcePort:e,sourceChannel:t,token:r,sender:n,receiver:o,timeoutHeight:s,timeoutTimestamp:a,memo:c})=>{var i,u,d;return{source_port:e,source_channel:t,token:r,sender:n,receiver:o,timeout_height:s?{revision_height:(i=(0,bn.omitDefault)(s.revisionHeight))==null?void 0:i.toString(),revision_number:(u=(0,bn.omitDefault)(s.revisionNumber))==null?void 0:u.toString()}:{},timeout_timestamp:(d=(0,bn.omitDefault)(a))==null?void 0:d.toString(),memo:(0,bn.omitDefault)(c)}},fromAmino:({source_port:e,source_channel:t,token:r,sender:n,receiver:o,timeout_height:s,timeout_timestamp:a,memo:c})=>ch.MsgTransfer.fromPartial({sourcePort:e,sourceChannel:t,token:r,sender:n,receiver:o,timeoutHeight:s?{revisionHeight:BigInt(s.revision_height||"0"),revisionNumber:BigInt(s.revision_number||"0")}:void 0,timeoutTimestamp:BigInt(a||"0"),memo:c??""})}}}ir.createIbcAminoConverters=dh;var cr={};Object.defineProperty(cr,"__esModule",{value:!0});cr.isMsgTransferEncodeObject=cr.ibcTypes=void 0;const lh=Fn,We=Nu,vn=Du,wn=Uu;cr.ibcTypes=[["/ibc.applications.transfer.v1.MsgTransfer",lh.MsgTransfer],["/ibc.core.channel.v1.MsgAcknowledgement",We.MsgAcknowledgement],["/ibc.core.channel.v1.MsgChannelCloseConfirm",We.MsgChannelCloseConfirm],["/ibc.core.channel.v1.MsgChannelCloseInit",We.MsgChannelCloseInit],["/ibc.core.channel.v1.MsgChannelOpenAck",We.MsgChannelOpenAck],["/ibc.core.channel.v1.MsgChannelOpenConfirm",We.MsgChannelOpenConfirm],["/ibc.core.channel.v1.MsgChannelOpenInit",We.MsgChannelOpenInit],["/ibc.core.channel.v1.MsgChannelOpenTry",We.MsgChannelOpenTry],["/ibc.core.channel.v1.MsgRecvPacket",We.MsgRecvPacket],["/ibc.core.channel.v1.MsgTimeout",We.MsgTimeout],["/ibc.core.channel.v1.MsgTimeoutOnClose",We.MsgTimeoutOnClose],["/ibc.core.client.v1.MsgCreateClient",vn.MsgCreateClient],["/ibc.core.client.v1.MsgSubmitMisbehaviour",vn.MsgSubmitMisbehaviour],["/ibc.core.client.v1.MsgUpdateClient",vn.MsgUpdateClient],["/ibc.core.client.v1.MsgUpgradeClient",vn.MsgUpgradeClient],["/ibc.core.connection.v1.MsgConnectionOpenAck",wn.MsgConnectionOpenAck],["/ibc.core.connection.v1.MsgConnectionOpenConfirm",wn.MsgConnectionOpenConfirm],["/ibc.core.connection.v1.MsgConnectionOpenInit",wn.MsgConnectionOpenInit],["/ibc.core.connection.v1.MsgConnectionOpenTry",wn.MsgConnectionOpenTry]];function ph(e){return e.typeUrl==="/ibc.applications.transfer.v1.MsgTransfer"}cr.isMsgTransferEncodeObject=ph;var Po={};Object.defineProperty(Po,"__esModule",{value:!0});Po.setupIbcExtension=void 0;const kn=N,mh=Y,Ya=td,hh=rd,kt=nd,Br=od,ls=sd,cc=ld,L=ae;function ps(e){if((e==null?void 0:e.typeUrl)!=="/ibc.lightclients.tendermint.v1.ClientState")throw new Error(`Unexpected client state type: ${e==null?void 0:e.typeUrl}`);return cc.ClientState.decode(e.value)}function fh(e){if((e==null?void 0:e.typeUrl)!=="/ibc.lightclients.tendermint.v1.ConsensusState")throw new Error(`Unexpected client state type: ${e==null?void 0:e.typeUrl}`);return cc.ConsensusState.decode(e.value)}function gh(e){const t=(0,L.createProtobufRpcClient)(e),r=new kt.QueryClientImpl(t),n=new Br.QueryClientImpl(t),o=new ls.QueryClientImpl(t),s=new Ya.QueryClientImpl(t);return{ibc:{channel:{channel:async(a,c)=>r.Channel({portId:a,channelId:c}),channels:async a=>r.Channels({pagination:(0,L.createPagination)(a)}),allChannels:async()=>{var a;const c=[];let i,u;do i=await r.Channels({pagination:(0,L.createPagination)(u)}),c.push(...i.channels),u=(a=i.pagination)==null?void 0:a.nextKey;while(u&&u.length);return kt.QueryChannelsResponse.fromPartial({channels:c,height:i.height})},connectionChannels:async(a,c)=>r.ConnectionChannels({connection:a,pagination:(0,L.createPagination)(c)}),allConnectionChannels:async a=>{var c;const i=[];let u,d;do u=await r.ConnectionChannels({connection:a,pagination:(0,L.createPagination)(d)}),i.push(...u.channels),d=(c=u.pagination)==null?void 0:c.nextKey;while(d&&d.length);return kt.QueryConnectionChannelsResponse.fromPartial({channels:i,height:u.height})},clientState:async(a,c)=>r.ChannelClientState({portId:a,channelId:c}),consensusState:async(a,c,i,u)=>r.ChannelConsensusState({portId:a,channelId:c,revisionNumber:BigInt(i),revisionHeight:BigInt(u)}),packetCommitment:async(a,c,i)=>r.PacketCommitment({portId:a,channelId:c,sequence:(0,L.longify)(i)}),packetCommitments:async(a,c,i)=>r.PacketCommitments({channelId:c,portId:a,pagination:(0,L.createPagination)(i)}),allPacketCommitments:async(a,c)=>{var i;const u=[];let d,f;do d=await r.PacketCommitments({channelId:c,portId:a,pagination:(0,L.createPagination)(f)}),u.push(...d.commitments),f=(i=d.pagination)==null?void 0:i.nextKey;while(f&&f.length);return kt.QueryPacketCommitmentsResponse.fromPartial({commitments:u,height:d.height})},packetReceipt:async(a,c,i)=>r.PacketReceipt({portId:a,channelId:c,sequence:(0,L.longify)(i)}),packetAcknowledgement:async(a,c,i)=>r.PacketAcknowledgement({portId:a,channelId:c,sequence:(0,L.longify)(i)}),packetAcknowledgements:async(a,c,i)=>{const u=kt.QueryPacketAcknowledgementsRequest.fromPartial({portId:a,channelId:c,pagination:(0,L.createPagination)(i)});return r.PacketAcknowledgements(u)},allPacketAcknowledgements:async(a,c)=>{var i;const u=[];let d,f;do{const E=kt.QueryPacketAcknowledgementsRequest.fromPartial({channelId:c,portId:a,pagination:(0,L.createPagination)(f)});d=await r.PacketAcknowledgements(E),u.push(...d.acknowledgements),f=(i=d.pagination)==null?void 0:i.nextKey}while(f&&f.length);return kt.QueryPacketAcknowledgementsResponse.fromPartial({acknowledgements:u,height:d.height})},unreceivedPackets:async(a,c,i)=>r.UnreceivedPackets({portId:a,channelId:c,packetCommitmentSequences:i.map(u=>BigInt(u))}),unreceivedAcks:async(a,c,i)=>r.UnreceivedAcks({portId:a,channelId:c,packetAckSequences:i.map(u=>BigInt(u))}),nextSequenceReceive:async(a,c)=>r.NextSequenceReceive({portId:a,channelId:c})},client:{state:async a=>n.ClientState({clientId:a}),states:async a=>n.ClientStates({pagination:(0,L.createPagination)(a)}),allStates:async()=>{var a;const c=[];let i,u;do i=await n.ClientStates({pagination:(0,L.createPagination)(u)}),c.push(...i.clientStates),u=(a=i.pagination)==null?void 0:a.nextKey;while(u&&u.length);return Br.QueryClientStatesResponse.fromPartial({clientStates:c})},consensusState:async(a,c)=>n.ConsensusState(Br.QueryConsensusStateRequest.fromPartial({clientId:a,revisionHeight:c!==void 0?BigInt(c):void 0,latestHeight:c===void 0})),consensusStates:async(a,c)=>n.ConsensusStates({clientId:a,pagination:(0,L.createPagination)(c)}),allConsensusStates:async a=>{var c;const i=[];let u,d;do u=await n.ConsensusStates({clientId:a,pagination:(0,L.createPagination)(d)}),i.push(...u.consensusStates),d=(c=u.pagination)==null?void 0:c.nextKey;while(d&&d.length);return Br.QueryConsensusStatesResponse.fromPartial({consensusStates:i})},params:async()=>n.ClientParams({}),stateTm:async a=>{const c=await n.ClientState({clientId:a});return ps(c.clientState)},statesTm:async a=>{const{clientStates:c}=await n.ClientStates({pagination:(0,L.createPagination)(a)});return c.map(({clientState:i})=>ps(i))},allStatesTm:async()=>{var a;const c=[];let i,u;do i=await n.ClientStates({pagination:(0,L.createPagination)(u)}),c.push(...i.clientStates),u=(a=i.pagination)==null?void 0:a.nextKey;while(u&&u.length);return c.map(({clientState:d})=>ps(d))},consensusStateTm:async(a,c)=>{const i=await n.ConsensusState(Br.QueryConsensusStateRequest.fromPartial({clientId:a,revisionHeight:c==null?void 0:c.revisionHeight,revisionNumber:c==null?void 0:c.revisionNumber,latestHeight:c===void 0}));return fh(i.consensusState)}},connection:{connection:async a=>o.Connection({connectionId:a}),connections:async a=>o.Connections({pagination:(0,L.createPagination)(a)}),allConnections:async()=>{var a;const c=[];let i,u;do i=await o.Connections({pagination:(0,L.createPagination)(u)}),c.push(...i.connections),u=(a=i.pagination)==null?void 0:a.nextKey;while(u&&u.length);return ls.QueryConnectionsResponse.fromPartial({connections:c,height:i.height})},clientConnections:async a=>o.ClientConnections({clientId:a}),clientState:async a=>o.ConnectionClientState({connectionId:a}),consensusState:async(a,c)=>o.ConnectionConsensusState(ls.QueryConnectionConsensusStateRequest.fromPartial({connectionId:a,revisionHeight:BigInt(c)}))},transfer:{denomTrace:async a=>s.DenomTrace({hash:a}),denomTraces:async a=>s.DenomTraces({pagination:(0,L.createPagination)(a)}),allDenomTraces:async()=>{var a;const c=[];let i,u;do i=await s.DenomTraces({pagination:(0,L.createPagination)(u)}),c.push(...i.denomTraces),u=(a=i.pagination)==null?void 0:a.nextKey;while(u&&u.length);return Ya.QueryDenomTracesResponse.fromPartial({denomTraces:c})},params:async()=>s.Params({})},verified:{channel:{channel:async(a,c)=>{const i=(0,kn.toAscii)(`channelEnds/ports/${a}/channels/${c}`),{value:u}=await e.queryStoreVerified("ibc",i);return u.length?hh.Channel.decode(u):null},packetCommitment:async(a,c,i)=>{const u=(0,kn.toAscii)(`commitments/ports/${a}/channels/${c}/packets/${i}`),{value:d}=await e.queryStoreVerified("ibc",u);return d},packetAcknowledgement:async(a,c,i)=>{const u=(0,kn.toAscii)(`acks/ports/${a}/channels/${c}/acknowledgements/${i}`),{value:d}=await e.queryStoreVerified("ibc",u);return d},nextSequenceReceive:async(a,c)=>{const i=(0,kn.toAscii)(`seqAcks/ports/${a}/channels/${c}/nextSequenceAck`),{value:u}=await e.queryStoreVerified("ibc",i);return u.length?mh.Uint64.fromBytes(u).toNumber():null}}}}}}Po.setupIbcExtension=gh;var Ao={};Object.defineProperty(Ao,"__esModule",{value:!0});Ao.setupMintExtension=void 0;const yh=Z,bh=ad,St=ae;function vh(e){const t=(0,St.createProtobufRpcClient)(e),r=new bh.QueryClientImpl(t);return{mint:{params:async()=>{const{params:n}=await r.Params({});return(0,yh.assert)(n),{blocksPerYear:n.blocksPerYear,goalBonded:(0,St.decodeCosmosSdkDecFromProto)(n.goalBonded),inflationMin:(0,St.decodeCosmosSdkDecFromProto)(n.inflationMin),inflationMax:(0,St.decodeCosmosSdkDecFromProto)(n.inflationMax),inflationRateChange:(0,St.decodeCosmosSdkDecFromProto)(n.inflationRateChange),mintDenom:n.mintDenom}},inflation:async()=>{const{inflation:n}=await r.Inflation({});return(0,St.decodeCosmosSdkDecFromProto)(n)},annualProvisions:async()=>{const{annualProvisions:n}=await r.AnnualProvisions({});return(0,St.decodeCosmosSdkDecFromProto)(n)}}}}Ao.setupMintExtension=vh;var ur={};Object.defineProperty(ur,"__esModule",{value:!0});ur.createSlashingAminoConverters=ur.isAminoMsgUnjail=void 0;function wh(e){return e.type==="cosmos-sdk/MsgUnjail"}ur.isAminoMsgUnjail=wh;function kh(){throw new Error("Not implemented")}ur.createSlashingAminoConverters=kh;var To={};Object.defineProperty(To,"__esModule",{value:!0});To.setupSlashingExtension=void 0;const Sh=id,ei=ae;function Ph(e){const t=(0,ei.createProtobufRpcClient)(e),r=new Sh.QueryClientImpl(t);return{slashing:{signingInfo:async n=>await r.SigningInfo({consAddress:n}),signingInfos:async n=>await r.SigningInfos({pagination:(0,ei.createPagination)(n)}),params:async()=>await r.Params({})}}}To.setupSlashingExtension=Ph;var ne={};Object.defineProperty(ne,"__esModule",{value:!0});ne.createStakingAminoConverters=ne.isAminoMsgUndelegate=ne.isAminoMsgBeginRedelegate=ne.isAminoMsgDelegate=ne.isAminoMsgEditValidator=ne.isAminoMsgCreateValidator=ne.protoDecimalToJson=void 0;const uc=Y,ti=bt,it=Z;function Dr(e){const t=uc.Decimal.fromAtomics(e,18),[r,n]=t.toString().split(".");return`${r}.${(n??"").padEnd(18,"0")}`}ne.protoDecimalToJson=Dr;function Sn(e){return uc.Decimal.fromUserInput(e,18).atomics}function Ah(e){return e.type==="cosmos-sdk/MsgCreateValidator"}ne.isAminoMsgCreateValidator=Ah;function Th(e){return e.type==="cosmos-sdk/MsgEditValidator"}ne.isAminoMsgEditValidator=Th;function Eh(e){return e.type==="cosmos-sdk/MsgDelegate"}ne.isAminoMsgDelegate=Eh;function xh(e){return e.type==="cosmos-sdk/MsgBeginRedelegate"}ne.isAminoMsgBeginRedelegate=xh;function _h(e){return e.type==="cosmos-sdk/MsgUndelegate"}ne.isAminoMsgUndelegate=_h;function Mh(){return{"/cosmos.staking.v1beta1.MsgBeginRedelegate":{aminoType:"cosmos-sdk/MsgBeginRedelegate",toAmino:({delegatorAddress:e,validatorSrcAddress:t,validatorDstAddress:r,amount:n})=>((0,it.assertDefinedAndNotNull)(n,"missing amount"),{delegator_address:e,validator_src_address:t,validator_dst_address:r,amount:n}),fromAmino:({delegator_address:e,validator_src_address:t,validator_dst_address:r,amount:n})=>({delegatorAddress:e,validatorSrcAddress:t,validatorDstAddress:r,amount:n})},"/cosmos.staking.v1beta1.MsgCreateValidator":{aminoType:"cosmos-sdk/MsgCreateValidator",toAmino:({description:e,commission:t,minSelfDelegation:r,delegatorAddress:n,validatorAddress:o,pubkey:s,value:a})=>((0,it.assertDefinedAndNotNull)(e,"missing description"),(0,it.assertDefinedAndNotNull)(t,"missing commission"),(0,it.assertDefinedAndNotNull)(s,"missing pubkey"),(0,it.assertDefinedAndNotNull)(a,"missing value"),{description:{moniker:e.moniker,identity:e.identity,website:e.website,security_contact:e.securityContact,details:e.details},commission:{rate:Dr(t.rate),max_rate:Dr(t.maxRate),max_change_rate:Dr(t.maxChangeRate)},min_self_delegation:r,delegator_address:n,validator_address:o,pubkey:(0,ti.decodePubkey)(s),value:a}),fromAmino:({description:e,commission:t,min_self_delegation:r,delegator_address:n,validator_address:o,pubkey:s,value:a})=>({description:{moniker:e.moniker,identity:e.identity,website:e.website,securityContact:e.security_contact,details:e.details},commission:{rate:Sn(t.rate),maxRate:Sn(t.max_rate),maxChangeRate:Sn(t.max_change_rate)},minSelfDelegation:r,delegatorAddress:n,validatorAddress:o,pubkey:(0,ti.encodePubkey)(s),value:a})},"/cosmos.staking.v1beta1.MsgDelegate":{aminoType:"cosmos-sdk/MsgDelegate",toAmino:({delegatorAddress:e,validatorAddress:t,amount:r})=>((0,it.assertDefinedAndNotNull)(r,"missing amount"),{delegator_address:e,validator_address:t,amount:r}),fromAmino:({delegator_address:e,validator_address:t,amount:r})=>({delegatorAddress:e,validatorAddress:t,amount:r})},"/cosmos.staking.v1beta1.MsgEditValidator":{aminoType:"cosmos-sdk/MsgEditValidator",toAmino:({description:e,commissionRate:t,minSelfDelegation:r,validatorAddress:n})=>((0,it.assertDefinedAndNotNull)(e,"missing description"),{description:{moniker:e.moniker,identity:e.identity,website:e.website,security_contact:e.securityContact,details:e.details},commission_rate:t?Dr(t):void 0,min_self_delegation:r||void 0,validator_address:n}),fromAmino:({description:e,commission_rate:t,min_self_delegation:r,validator_address:n})=>({description:{moniker:e.moniker,identity:e.identity,website:e.website,securityContact:e.security_contact,details:e.details},commissionRate:t?Sn(t):"",minSelfDelegation:r??"",validatorAddress:n})},"/cosmos.staking.v1beta1.MsgUndelegate":{aminoType:"cosmos-sdk/MsgUndelegate",toAmino:({delegatorAddress:e,validatorAddress:t,amount:r})=>((0,it.assertDefinedAndNotNull)(r,"missing amount"),{delegator_address:e,validator_address:t,amount:r}),fromAmino:({delegator_address:e,validator_address:t,amount:r})=>({delegatorAddress:e,validatorAddress:t,amount:r})}}}ne.createStakingAminoConverters=Mh;var ge={};Object.defineProperty(ge,"__esModule",{value:!0});ge.isMsgUndelegateEncodeObject=ge.isMsgEditValidatorEncodeObject=ge.isMsgDelegateEncodeObject=ge.isMsgCreateValidatorEncodeObject=ge.isMsgBeginRedelegateEncodeObject=ge.stakingTypes=void 0;const Ir=bi;ge.stakingTypes=[["/cosmos.staking.v1beta1.MsgBeginRedelegate",Ir.MsgBeginRedelegate],["/cosmos.staking.v1beta1.MsgCreateValidator",Ir.MsgCreateValidator],["/cosmos.staking.v1beta1.MsgDelegate",Ir.MsgDelegate],["/cosmos.staking.v1beta1.MsgEditValidator",Ir.MsgEditValidator],["/cosmos.staking.v1beta1.MsgUndelegate",Ir.MsgUndelegate]];function Oh(e){return e.typeUrl==="/cosmos.staking.v1beta1.MsgBeginRedelegate"}ge.isMsgBeginRedelegateEncodeObject=Oh;function Ch(e){return e.typeUrl==="/cosmos.staking.v1beta1.MsgCreateValidator"}ge.isMsgCreateValidatorEncodeObject=Ch;function jh(e){return e.typeUrl==="/cosmos.staking.v1beta1.MsgDelegate"}ge.isMsgDelegateEncodeObject=jh;function Bh(e){return e.typeUrl==="/cosmos.staking.v1beta1.MsgEditValidator"}ge.isMsgEditValidatorEncodeObject=Bh;function Ih(e){return e.typeUrl==="/cosmos.staking.v1beta1.MsgUndelegate"}ge.isMsgUndelegateEncodeObject=Ih;var Eo={};Object.defineProperty(Eo,"__esModule",{value:!0});Eo.setupStakingExtension=void 0;const Rh=cd,ct=ae;function Nh(e){const t=(0,ct.createProtobufRpcClient)(e),r=new Rh.QueryClientImpl(t);return{staking:{delegation:async(n,o)=>await r.Delegation({delegatorAddr:n,validatorAddr:o}),delegatorDelegations:async(n,o)=>await r.DelegatorDelegations({delegatorAddr:n,pagination:(0,ct.createPagination)(o)}),delegatorUnbondingDelegations:async(n,o)=>await r.DelegatorUnbondingDelegations({delegatorAddr:n,pagination:(0,ct.createPagination)(o)}),delegatorValidator:async(n,o)=>await r.DelegatorValidator({delegatorAddr:n,validatorAddr:o}),delegatorValidators:async(n,o)=>await r.DelegatorValidators({delegatorAddr:n,pagination:(0,ct.createPagination)(o)}),historicalInfo:async n=>await r.HistoricalInfo({height:BigInt(n)}),params:async()=>await r.Params({}),pool:async()=>await r.Pool({}),redelegations:async(n,o,s,a)=>await r.Redelegations({delegatorAddr:n,srcValidatorAddr:o,dstValidatorAddr:s,pagination:(0,ct.createPagination)(a)}),unbondingDelegation:async(n,o)=>await r.UnbondingDelegation({delegatorAddr:n,validatorAddr:o}),validator:async n=>await r.Validator({validatorAddr:n}),validatorDelegations:async(n,o)=>await r.ValidatorDelegations({validatorAddr:n,pagination:(0,ct.createPagination)(o)}),validators:async(n,o)=>await r.Validators({status:n,pagination:(0,ct.createPagination)(o)}),validatorUnbondingDelegations:async(n,o)=>await r.ValidatorUnbondingDelegations({validatorAddr:n,pagination:(0,ct.createPagination)(o)})}}}Eo.setupStakingExtension=Nh;var xo={};Object.defineProperty(xo,"__esModule",{value:!0});xo.setupTxExtension=void 0;const Dh=bt,Uh=Wn,ri=ud,Rr=jt,Hh=ae;function Vh(e){const t=(0,Hh.createProtobufRpcClient)(e),r=new ri.ServiceClientImpl(t);return{tx:{getTx:async n=>{const o={hash:n};return await r.GetTx(o)},simulate:async(n,o,s,a)=>{const c=Rr.Tx.fromPartial({authInfo:Rr.AuthInfo.fromPartial({fee:Rr.Fee.fromPartial({}),signerInfos:[{publicKey:(0,Dh.encodePubkey)(s),sequence:BigInt(a),modeInfo:{single:{mode:Uh.SignMode.SIGN_MODE_UNSPECIFIED}}}]}),body:Rr.TxBody.fromPartial({messages:Array.from(n),memo:o}),signatures:[new Uint8Array]}),i=ri.SimulateRequest.fromPartial({txBytes:Rr.Tx.encode(c).finish()});return await r.Simulate(i)}}}}xo.setupTxExtension=Vh;var dr={};Object.defineProperty(dr,"__esModule",{value:!0});dr.createVestingAminoConverters=dr.isAminoMsgCreateVestingAccount=void 0;function qh(e){return e.type==="cosmos-sdk/MsgCreateVestingAccount"}dr.isAminoMsgCreateVestingAccount=qh;function $h(){return{"/cosmos.vesting.v1beta1.MsgCreateVestingAccount":{aminoType:"cosmos-sdk/MsgCreateVestingAccount",toAmino:({fromAddress:e,toAddress:t,amount:r,endTime:n,delayed:o})=>({from_address:e,to_address:t,amount:[...r],end_time:n.toString(),delayed:o}),fromAmino:({from_address:e,to_address:t,amount:r,end_time:n,delayed:o})=>({fromAddress:e,toAddress:t,amount:[...r],endTime:BigInt(n),delayed:o})}}}dr.createVestingAminoConverters=$h;var _o={};Object.defineProperty(_o,"__esModule",{value:!0});_o.vestingTypes=void 0;const Fh=Hu;_o.vestingTypes=[["/cosmos.vesting.v1beta1.MsgCreateVestingAccount",Fh.MsgCreateVestingAccount]];(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isAminoMsgCreateValidator=e.isAminoMsgBeginRedelegate=e.createStakingAminoConverters=e.setupSlashingExtension=e.isAminoMsgUnjail=e.createSlashingAminoConverters=e.setupMintExtension=e.setupIbcExtension=e.isMsgTransferEncodeObject=e.ibcTypes=e.isAminoMsgTransfer=e.createIbcAminoConverters=e.groupTypes=e.createGroupAminoConverters=e.setupGovExtension=e.isMsgVoteWeightedEncodeObject=e.isMsgVoteEncodeObject=e.isMsgSubmitProposalEncodeObject=e.isMsgDepositEncodeObject=e.govTypes=e.isAminoMsgVoteWeighted=e.isAminoMsgVote=e.isAminoMsgSubmitProposal=e.isAminoMsgDeposit=e.createGovAminoConverters=e.setupFeegrantExtension=e.feegrantTypes=e.createFeegrantAminoConverters=e.isAminoMsgSubmitEvidence=e.createEvidenceAminoConverters=e.setupDistributionExtension=e.isMsgWithdrawDelegatorRewardEncodeObject=e.distributionTypes=e.isAminoMsgWithdrawValidatorCommission=e.isAminoMsgWithdrawDelegatorReward=e.isAminoMsgSetWithdrawAddress=e.isAminoMsgFundCommunityPool=e.createDistributionAminoConverters=e.isAminoMsgVerifyInvariant=e.createCrysisAminoConverters=e.setupBankExtension=e.isMsgSendEncodeObject=e.bankTypes=e.isAminoMsgSend=e.isAminoMsgMultiSend=e.createBankAminoConverters=e.setupAuthzExtension=e.authzTypes=e.createAuthzAminoConverters=e.setupAuthExtension=void 0,e.vestingTypes=e.isAminoMsgCreateVestingAccount=e.createVestingAminoConverters=e.setupTxExtension=e.setupStakingExtension=e.stakingTypes=e.isMsgUndelegateEncodeObject=e.isMsgEditValidatorEncodeObject=e.isMsgDelegateEncodeObject=e.isMsgCreateValidatorEncodeObject=e.isMsgBeginRedelegateEncodeObject=e.isAminoMsgUndelegate=e.isAminoMsgEditValidator=e.isAminoMsgDelegate=void 0;var t=oo;Object.defineProperty(e,"setupAuthExtension",{enumerable:!0,get:function(){return t.setupAuthExtension}});var r=po;Object.defineProperty(e,"createAuthzAminoConverters",{enumerable:!0,get:function(){return r.createAuthzAminoConverters}});var n=mo;Object.defineProperty(e,"authzTypes",{enumerable:!0,get:function(){return n.authzTypes}});var o=ho;Object.defineProperty(e,"setupAuthzExtension",{enumerable:!0,get:function(){return o.setupAuthzExtension}});var s=mt;Object.defineProperty(e,"createBankAminoConverters",{enumerable:!0,get:function(){return s.createBankAminoConverters}}),Object.defineProperty(e,"isAminoMsgMultiSend",{enumerable:!0,get:function(){return s.isAminoMsgMultiSend}}),Object.defineProperty(e,"isAminoMsgSend",{enumerable:!0,get:function(){return s.isAminoMsgSend}});var a=nr;Object.defineProperty(e,"bankTypes",{enumerable:!0,get:function(){return a.bankTypes}}),Object.defineProperty(e,"isMsgSendEncodeObject",{enumerable:!0,get:function(){return a.isMsgSendEncodeObject}});var c=fo;Object.defineProperty(e,"setupBankExtension",{enumerable:!0,get:function(){return c.setupBankExtension}});var i=or;Object.defineProperty(e,"createCrysisAminoConverters",{enumerable:!0,get:function(){return i.createCrysisAminoConverters}}),Object.defineProperty(e,"isAminoMsgVerifyInvariant",{enumerable:!0,get:function(){return i.isAminoMsgVerifyInvariant}});var u=Oe;Object.defineProperty(e,"createDistributionAminoConverters",{enumerable:!0,get:function(){return u.createDistributionAminoConverters}}),Object.defineProperty(e,"isAminoMsgFundCommunityPool",{enumerable:!0,get:function(){return u.isAminoMsgFundCommunityPool}}),Object.defineProperty(e,"isAminoMsgSetWithdrawAddress",{enumerable:!0,get:function(){return u.isAminoMsgSetWithdrawAddress}}),Object.defineProperty(e,"isAminoMsgWithdrawDelegatorReward",{enumerable:!0,get:function(){return u.isAminoMsgWithdrawDelegatorReward}}),Object.defineProperty(e,"isAminoMsgWithdrawValidatorCommission",{enumerable:!0,get:function(){return u.isAminoMsgWithdrawValidatorCommission}});var d=sr;Object.defineProperty(e,"distributionTypes",{enumerable:!0,get:function(){return d.distributionTypes}}),Object.defineProperty(e,"isMsgWithdrawDelegatorRewardEncodeObject",{enumerable:!0,get:function(){return d.isMsgWithdrawDelegatorRewardEncodeObject}});var f=go;Object.defineProperty(e,"setupDistributionExtension",{enumerable:!0,get:function(){return f.setupDistributionExtension}});var E=ar;Object.defineProperty(e,"createEvidenceAminoConverters",{enumerable:!0,get:function(){return E.createEvidenceAminoConverters}}),Object.defineProperty(e,"isAminoMsgSubmitEvidence",{enumerable:!0,get:function(){return E.isAminoMsgSubmitEvidence}});var M=yo;Object.defineProperty(e,"createFeegrantAminoConverters",{enumerable:!0,get:function(){return M.createFeegrantAminoConverters}});var $=bo;Object.defineProperty(e,"feegrantTypes",{enumerable:!0,get:function(){return $.feegrantTypes}});var y=vo;Object.defineProperty(e,"setupFeegrantExtension",{enumerable:!0,get:function(){return y.setupFeegrantExtension}});var g=Ce;Object.defineProperty(e,"createGovAminoConverters",{enumerable:!0,get:function(){return g.createGovAminoConverters}}),Object.defineProperty(e,"isAminoMsgDeposit",{enumerable:!0,get:function(){return g.isAminoMsgDeposit}}),Object.defineProperty(e,"isAminoMsgSubmitProposal",{enumerable:!0,get:function(){return g.isAminoMsgSubmitProposal}}),Object.defineProperty(e,"isAminoMsgVote",{enumerable:!0,get:function(){return g.isAminoMsgVote}}),Object.defineProperty(e,"isAminoMsgVoteWeighted",{enumerable:!0,get:function(){return g.isAminoMsgVoteWeighted}});var v=je;Object.defineProperty(e,"govTypes",{enumerable:!0,get:function(){return v.govTypes}}),Object.defineProperty(e,"isMsgDepositEncodeObject",{enumerable:!0,get:function(){return v.isMsgDepositEncodeObject}}),Object.defineProperty(e,"isMsgSubmitProposalEncodeObject",{enumerable:!0,get:function(){return v.isMsgSubmitProposalEncodeObject}}),Object.defineProperty(e,"isMsgVoteEncodeObject",{enumerable:!0,get:function(){return v.isMsgVoteEncodeObject}}),Object.defineProperty(e,"isMsgVoteWeightedEncodeObject",{enumerable:!0,get:function(){return v.isMsgVoteWeightedEncodeObject}});var H=wo;Object.defineProperty(e,"setupGovExtension",{enumerable:!0,get:function(){return H.setupGovExtension}});var D=ko;Object.defineProperty(e,"createGroupAminoConverters",{enumerable:!0,get:function(){return D.createGroupAminoConverters}});var ie=So;Object.defineProperty(e,"groupTypes",{enumerable:!0,get:function(){return ie.groupTypes}});var b=ir;Object.defineProperty(e,"createIbcAminoConverters",{enumerable:!0,get:function(){return b.createIbcAminoConverters}}),Object.defineProperty(e,"isAminoMsgTransfer",{enumerable:!0,get:function(){return b.isAminoMsgTransfer}});var k=cr;Object.defineProperty(e,"ibcTypes",{enumerable:!0,get:function(){return k.ibcTypes}}),Object.defineProperty(e,"isMsgTransferEncodeObject",{enumerable:!0,get:function(){return k.isMsgTransferEncodeObject}});var w=Po;Object.defineProperty(e,"setupIbcExtension",{enumerable:!0,get:function(){return w.setupIbcExtension}});var U=Ao;Object.defineProperty(e,"setupMintExtension",{enumerable:!0,get:function(){return U.setupMintExtension}});var V=ur;Object.defineProperty(e,"createSlashingAminoConverters",{enumerable:!0,get:function(){return V.createSlashingAminoConverters}}),Object.defineProperty(e,"isAminoMsgUnjail",{enumerable:!0,get:function(){return V.isAminoMsgUnjail}});var q=To;Object.defineProperty(e,"setupSlashingExtension",{enumerable:!0,get:function(){return q.setupSlashingExtension}});var F=ne;Object.defineProperty(e,"createStakingAminoConverters",{enumerable:!0,get:function(){return F.createStakingAminoConverters}}),Object.defineProperty(e,"isAminoMsgBeginRedelegate",{enumerable:!0,get:function(){return F.isAminoMsgBeginRedelegate}}),Object.defineProperty(e,"isAminoMsgCreateValidator",{enumerable:!0,get:function(){return F.isAminoMsgCreateValidator}}),Object.defineProperty(e,"isAminoMsgDelegate",{enumerable:!0,get:function(){return F.isAminoMsgDelegate}}),Object.defineProperty(e,"isAminoMsgEditValidator",{enumerable:!0,get:function(){return F.isAminoMsgEditValidator}}),Object.defineProperty(e,"isAminoMsgUndelegate",{enumerable:!0,get:function(){return F.isAminoMsgUndelegate}});var z=ge;Object.defineProperty(e,"isMsgBeginRedelegateEncodeObject",{enumerable:!0,get:function(){return z.isMsgBeginRedelegateEncodeObject}}),Object.defineProperty(e,"isMsgCreateValidatorEncodeObject",{enumerable:!0,get:function(){return z.isMsgCreateValidatorEncodeObject}}),Object.defineProperty(e,"isMsgDelegateEncodeObject",{enumerable:!0,get:function(){return z.isMsgDelegateEncodeObject}}),Object.defineProperty(e,"isMsgEditValidatorEncodeObject",{enumerable:!0,get:function(){return z.isMsgEditValidatorEncodeObject}}),Object.defineProperty(e,"isMsgUndelegateEncodeObject",{enumerable:!0,get:function(){return z.isMsgUndelegateEncodeObject}}),Object.defineProperty(e,"stakingTypes",{enumerable:!0,get:function(){return z.stakingTypes}});var K=Eo;Object.defineProperty(e,"setupStakingExtension",{enumerable:!0,get:function(){return K.setupStakingExtension}});var Se=xo;Object.defineProperty(e,"setupTxExtension",{enumerable:!0,get:function(){return Se.setupTxExtension}});var at=dr;Object.defineProperty(e,"createVestingAminoConverters",{enumerable:!0,get:function(){return at.createVestingAminoConverters}}),Object.defineProperty(e,"isAminoMsgCreateVestingAccount",{enumerable:!0,get:function(){return at.isAminoMsgCreateVestingAccount}});var kr=_o;Object.defineProperty(e,"vestingTypes",{enumerable:!0,get:function(){return kr.vestingTypes}})})(Fr);var ht={};Object.defineProperty(ht,"__esModule",{value:!0});ht.makeMultisignedTxBytes=ht.makeMultisignedTx=ht.makeCompactBitArray=void 0;const Wh=ot,Jh=N,Gh=bt,Cs=xu,zh=Wn,ni=jt,dc=jt;function lc(e){const t=Math.ceil(e.length/8),r=e.length-Math.floor(e.length/8)*8,n=new Uint8Array(t);return e.forEach((o,s)=>{const a=Math.floor(s/8),c=s%8;o&&(n[a]|=1<<7-c)}),Cs.CompactBitArray.fromPartial({elems:n,extraBitsStored:r})}ht.makeCompactBitArray=lc;function pc(e,t,r,n,o){const s=Array.from(o.keys()),a=(0,Jh.fromBech32)(s[0]).prefix,c=Array(e.value.pubkeys.length).fill(!1),i=new Array;for(let E=0;E<e.value.pubkeys.length;E++){const M=(0,Wh.pubkeyToAddress)(e.value.pubkeys[E],a),$=o.get(M);$&&(c[E]=!0,i.push($))}const u={publicKey:(0,Gh.encodePubkey)(e),modeInfo:{multi:{bitarray:lc(c),modeInfos:i.map(E=>({single:{mode:zh.SignMode.SIGN_MODE_LEGACY_AMINO_JSON}}))}},sequence:BigInt(t)},d=ni.AuthInfo.fromPartial({signerInfos:[u],fee:{amount:[...r.amount],gasLimit:BigInt(r.gas)}}),f=ni.AuthInfo.encode(d).finish();return dc.TxRaw.fromPartial({bodyBytes:n,authInfoBytes:f,signatures:[Cs.MultiSignature.encode(Cs.MultiSignature.fromPartial({signatures:i})).finish()]})}ht.makeMultisignedTx=pc;function Lh(e,t,r,n,o){const s=pc(e,t,r,n,o);return Uint8Array.from(dc.TxRaw.encode(s).finish())}ht.makeMultisignedTxBytes=Lh;var en={};Object.defineProperty(en,"__esModule",{value:!0});en.isSearchTxQueryArray=void 0;function Qh(e){return Array.isArray(e)}en.isSearchTxQueryArray=Qh;var mc={},ea={},Ke={};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.pubkeyToAddress=Ke.pubkeyToRawAddress=Ke.rawSecp256k1PubkeyToRawAddress=Ke.rawEd25519PubkeyToRawAddress=void 0;const js=ke,Kh=N;function hc(e){if(e.length!==32)throw new Error(`Invalid Ed25519 pubkey length: ${e.length}`);return(0,js.sha256)(e).slice(0,20)}Ke.rawEd25519PubkeyToRawAddress=hc;function fc(e){if(e.length!==33)throw new Error(`Invalid Secp256k1 pubkey length (compressed): ${e.length}`);return(0,js.ripemd160)((0,js.sha256)(e))}Ke.rawSecp256k1PubkeyToRawAddress=fc;function gc(e,t){switch(e){case"ed25519":return hc(t);case"secp256k1":return fc(t);default:throw new Error(`Pubkey type ${e} not supported`)}}Ke.pubkeyToRawAddress=gc;function Zh(e,t){return(0,Kh.toHex)(gc(e,t)).toUpperCase()}Ke.pubkeyToAddress=Zh;var se={};Object.defineProperty(se,"__esModule",{value:!0});se.DateTime=se.toSeconds=se.fromSeconds=se.toRfc3339WithNanoseconds=se.fromRfc3339WithNanoseconds=void 0;const Xh=N,Yh=Y;function yc(e){const t=(0,Xh.fromRfc3339)(e),r=e.match(/\.(\d+)Z$/),n=r?r[1].slice(3):"";return t.nanoseconds=parseInt(n.padEnd(6,"0"),10),t}se.fromRfc3339WithNanoseconds=yc;function bc(e){var t;const r=e.toISOString(),n=((t=e.nanoseconds)==null?void 0:t.toString())??"";return`${r.slice(0,-1)}${n.padStart(6,"0")}Z`}se.toRfc3339WithNanoseconds=bc;function ef(e,t=0){const r=new Yh.Uint32(t).toNumber();if(r>999999999)throw new Error("Nano seconds must not exceed 999999999");const n=new Date(e*1e3+Math.floor(r/1e6));return n.nanoseconds=r%1e6,n}se.fromSeconds=ef;function tf(e){return{seconds:Math.floor(e.getTime()/1e3),nanos:e.getTime()%1e3*1e6+(e.nanoseconds??0)}}se.toSeconds=tf;class rf{static decode(t){return yc(t)}static encode(t){return bc(t)}}se.DateTime=rf;var Rn={},Mo={},st={};Object.defineProperty(st,"__esModule",{value:!0});st.createJsonRpcRequest=void 0;const oi="123456789";function nf(){return oi[Math.floor(Math.random()*oi.length)]}function of(){return parseInt(Array.from({length:12}).map(()=>nf()).join(""),10)}function sf(e,t){const r=t?{...t}:{};return{jsonrpc:"2.0",id:of(),method:e,params:r}}st.createJsonRpcRequest=sf;var tn={},Oo={},Co={},jo={};Object.defineProperty(jo,"__esModule",{value:!0});jo.makeJsonRpcId=void 0;let af=1e4;function cf(){return af+=1}jo.makeJsonRpcId=cf;var Bo={},rt={};Object.defineProperty(rt,"__esModule",{value:!0});rt.jsonRpcCode=rt.isJsonRpcSuccessResponse=rt.isJsonRpcErrorResponse=void 0;function vc(e){return typeof e.error=="object"}rt.isJsonRpcErrorResponse=vc;function uf(e){return!vc(e)}rt.isJsonRpcSuccessResponse=uf;rt.jsonRpcCode={parseError:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internalError:-32603,serverError:{default:-32e3}};Object.defineProperty(Bo,"__esModule",{value:!0});Bo.JsonRpcClient=void 0;const df=Yr,lf=rt;class pf{constructor(t){this.connection=t}async run(t){const r=this.connection.responseStream.filter(s=>s.id===t.id),n=(0,df.firstEvent)(r);this.connection.sendRequest(t);const o=await n;if((0,lf.isJsonRpcErrorResponse)(o)){const s=o.error;throw new Error(`JSON RPC error: code=${s.code}; message='${s.message}'`)}return o}}Bo.JsonRpcClient=pf;var Be={},ft={};Object.defineProperty(ft,"__esModule",{value:!0});ft.isJsonCompatibleDictionary=ft.isJsonCompatibleArray=ft.isJsonCompatibleValue=void 0;function ta(e){return!!(typeof e=="string"||typeof e=="number"||typeof e=="boolean"||e===null||wc(e)||kc(e))}ft.isJsonCompatibleValue=ta;function wc(e){if(!Array.isArray(e))return!1;for(const t of e)if(!ta(t))return!1;return!0}ft.isJsonCompatibleArray=wc;function kc(e){return typeof e!="object"||e===null||Object.prototype.toString.call(e)!=="[object Object]"?!1:Object.values(e).every(ta)}ft.isJsonCompatibleDictionary=kc;Object.defineProperty(Be,"__esModule",{value:!0});Be.parseJsonRpcResponse=Be.parseJsonRpcSuccessResponse=Be.parseJsonRpcErrorResponse=Be.parseJsonRpcRequest=Be.parseJsonRpcId=void 0;const gt=ft;function Sc(e){if(!(0,gt.isJsonCompatibleDictionary)(e))throw new Error("Data must be JSON compatible dictionary");const t=e.id;return typeof t!="number"&&typeof t!="string"?null:t}Be.parseJsonRpcId=Sc;function mf(e){if(!(0,gt.isJsonCompatibleDictionary)(e))throw new Error("Data must be JSON compatible dictionary");if(e.jsonrpc!=="2.0")throw new Error(`Got unexpected jsonrpc version: ${e.jsonrpc}`);const t=Sc(e);if(t===null)throw new Error("Invalid id field");const r=e.method;if(typeof r!="string")throw new Error("Invalid method field");if(!(0,gt.isJsonCompatibleArray)(e.params)&&!(0,gt.isJsonCompatibleDictionary)(e.params))throw new Error("Invalid params field");return{jsonrpc:"2.0",id:t,method:r,params:e.params}}Be.parseJsonRpcRequest=mf;function hf(e){if(typeof e.code!="number")throw new Error("Error property 'code' is not a number");if(typeof e.message!="string")throw new Error("Error property 'message' is not a string");let t;if(e.data===void 0)t=void 0;else if((0,gt.isJsonCompatibleValue)(e.data))t=e.data;else throw new Error("Error property 'data' is defined but not a JSON compatible value.");return{code:e.code,message:e.message,...t!==void 0?{data:t}:{}}}function Pc(e){if(!(0,gt.isJsonCompatibleDictionary)(e))throw new Error("Data must be JSON compatible dictionary");if(e.jsonrpc!=="2.0")throw new Error(`Got unexpected jsonrpc version: ${JSON.stringify(e)}`);const t=e.id;if(typeof t!="number"&&typeof t!="string"&&t!==null)throw new Error("Invalid id field");if(typeof e.error>"u"||!(0,gt.isJsonCompatibleDictionary)(e.error))throw new Error("Invalid error field");return{jsonrpc:"2.0",id:t,error:hf(e.error)}}Be.parseJsonRpcErrorResponse=Pc;function Ac(e){if(!(0,gt.isJsonCompatibleDictionary)(e))throw new Error("Data must be JSON compatible dictionary");if(e.jsonrpc!=="2.0")throw new Error(`Got unexpected jsonrpc version: ${JSON.stringify(e)}`);const t=e.id;if(typeof t!="number"&&typeof t!="string")throw new Error("Invalid id field");if(typeof e.result>"u")throw new Error("Invalid result field");const r=e.result;return{jsonrpc:"2.0",id:t,result:r}}Be.parseJsonRpcSuccessResponse=Ac;function ff(e){let t;try{t=Pc(e)}catch{t=Ac(e)}return t}Be.parseJsonRpcResponse=ff;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.jsonRpcCode=e.isJsonRpcSuccessResponse=e.isJsonRpcErrorResponse=e.parseJsonRpcSuccessResponse=e.parseJsonRpcResponse=e.parseJsonRpcRequest=e.parseJsonRpcId=e.parseJsonRpcErrorResponse=e.JsonRpcClient=e.makeJsonRpcId=void 0;var t=jo;Object.defineProperty(e,"makeJsonRpcId",{enumerable:!0,get:function(){return t.makeJsonRpcId}});var r=Bo;Object.defineProperty(e,"JsonRpcClient",{enumerable:!0,get:function(){return r.JsonRpcClient}});var n=Be;Object.defineProperty(e,"parseJsonRpcErrorResponse",{enumerable:!0,get:function(){return n.parseJsonRpcErrorResponse}}),Object.defineProperty(e,"parseJsonRpcId",{enumerable:!0,get:function(){return n.parseJsonRpcId}}),Object.defineProperty(e,"parseJsonRpcRequest",{enumerable:!0,get:function(){return n.parseJsonRpcRequest}}),Object.defineProperty(e,"parseJsonRpcResponse",{enumerable:!0,get:function(){return n.parseJsonRpcResponse}}),Object.defineProperty(e,"parseJsonRpcSuccessResponse",{enumerable:!0,get:function(){return n.parseJsonRpcSuccessResponse}});var o=rt;Object.defineProperty(e,"isJsonRpcErrorResponse",{enumerable:!0,get:function(){return o.isJsonRpcErrorResponse}}),Object.defineProperty(e,"isJsonRpcSuccessResponse",{enumerable:!0,get:function(){return o.isJsonRpcSuccessResponse}}),Object.defineProperty(e,"jsonRpcCode",{enumerable:!0,get:function(){return o.jsonRpcCode}})})(Co);var rn={},gf=h&&h.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rn,"__esModule",{value:!0});rn.http=void 0;const yf=gf(_u);function bf(e){if(e.status>=400)throw new Error(`Bad status on response: ${e.status}`);return e}function vf(e){return e.toString().includes("emitExperimentalWarning")}async function wf(e,t,r,n){if(typeof fetch=="function"&&!vf(fetch)){const o={method:e,body:n?JSON.stringify(n):void 0,headers:{"Content-Type":"application/json",...r}};return fetch(t,o).then(bf).then(s=>s.json())}else return yf.default.request({url:t,method:e,data:n,headers:r}).then(o=>o.data)}rn.http=wf;var nt={};Object.defineProperty(nt,"__esModule",{value:!0});nt.hasProtocol=nt.instanceOfRpcStreamingClient=void 0;function kf(e){return typeof e.listen=="function"}nt.instanceOfRpcStreamingClient=kf;function Sf(e){return e.search("://")!==-1}nt.hasProtocol=Sf;Object.defineProperty(Oo,"__esModule",{value:!0});Oo.HttpBatchClient=void 0;const si=Co,Pf=rn,Af=nt,ai={dispatchInterval:20,batchSizeLimit:20};class Tf{constructor(t,r={}){if(this.queue=[],this.options={batchSizeLimit:r.batchSizeLimit??ai.batchSizeLimit,dispatchInterval:r.dispatchInterval??ai.dispatchInterval},typeof t=="string"){if(!(0,Af.hasProtocol)(t))throw new Error("Endpoint URL is missing a protocol. Expected 'https://' or 'http://'.");this.url=t}else this.url=t.url,this.headers=t.headers;this.timer=setInterval(()=>this.tick(),r.dispatchInterval),this.validate()}disconnect(){this.timer&&clearInterval(this.timer),this.timer=void 0}async execute(t){return new Promise((r,n)=>{this.queue.push({request:t,resolve:r,reject:n}),this.queue.length>=this.options.batchSizeLimit&&this.tick()})}validate(){if(!this.options.batchSizeLimit||!Number.isSafeInteger(this.options.batchSizeLimit)||this.options.batchSizeLimit<1)throw new Error("batchSizeLimit must be a safe integer >= 1")}tick(){const t=this.queue.splice(0,this.options.batchSizeLimit);if(!t.length)return;const r=t.map(o=>o.request),n=r.map(o=>o.id);(0,Pf.http)("POST",this.url,this.headers,r).then(o=>{(Array.isArray(o)?o:[o]).forEach(s=>{const a=t.find(d=>d.request.id===s.id);if(!a)return;const{reject:c,resolve:i}=a,u=(0,si.parseJsonRpcResponse)(s);(0,si.isJsonRpcErrorResponse)(u)?c(new Error(JSON.stringify(u.error))):i(u)})},o=>{for(const s of n){const a=t.find(c=>c.request.id===s);if(!a)return;a.reject(o)}})}}Oo.HttpBatchClient=Tf;var Io={};Object.defineProperty(Io,"__esModule",{value:!0});Io.HttpClient=void 0;const ii=Co,Ef=rn,xf=nt;class _f{constructor(t){if(typeof t=="string"){if(!(0,xf.hasProtocol)(t))throw new Error("Endpoint URL is missing a protocol. Expected 'https://' or 'http://'.");this.url=t}else this.url=t.url,this.headers=t.headers}disconnect(){}async execute(t){const r=(0,ii.parseJsonRpcResponse)(await(0,Ef.http)("POST",this.url,this.headers,t));if((0,ii.isJsonRpcErrorResponse)(r))throw new Error(JSON.stringify(r.error));return r}}Io.HttpClient=_f;var Ro={},Tc={},ra={},nn={},on={},Mf=h&&h.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(on,"__esModule",{value:!0});on.SocketWrapper=void 0;const Ht=Mf(bu);function Of(){return typeof et.process<"u"&&typeof et.process.versions<"u"&&typeof et.process.versions.node<"u"}class Cf{constructor(t,r,n,o,s,a=1e4){this.closed=!1,this.connected=new Promise((c,i)=>{this.connectedResolver=c,this.connectedRejecter=i}),this.url=t,this.messageHandler=r,this.errorHandler=n,this.openHandler=o,this.closeHandler=s,this.timeout=a}connect(){const t=new Ht.default(this.url);t.onerror=n=>{this.clearTimeout(),this.errorHandler&&this.errorHandler(n)},t.onmessage=n=>{this.messageHandler({type:n.type,data:n.data})},t.onopen=n=>{this.clearTimeout(),this.connectedResolver(),this.openHandler&&this.openHandler()},t.onclose=n=>{this.closed=!0,this.closeHandler&&this.closeHandler(n)};const r=Date.now();this.timeoutId=setTimeout(()=>{t.onmessage=()=>0,t.onerror=()=>0,t.onopen=()=>0,t.onclose=()=>0,t.close(),this.socket=void 0;const n=Math.floor(Date.now()-r);this.connectedRejecter(`Connection attempt timed out after ${n} ms`)},this.timeout),this.socket=t}disconnect(){if(!this.socket)throw new Error("Socket undefined. This must be called after connecting.");switch(this.clearTimeout(),this.socket.readyState){case Ht.default.OPEN:this.socket.close(1e3);break;case Ht.default.CLOSED:break;case Ht.default.CONNECTING:this.socket.onopen=()=>0,this.socket.onclose=()=>0,this.socket.onerror=()=>0,this.socket.onmessage=()=>0,this.socket=void 0,this.closeHandler&&this.closeHandler({wasClean:!1,code:4001});break;case Ht.default.CLOSING:break;default:throw new Error(`Unknown readyState: ${this.socket.readyState}`)}}async send(t){return new Promise((r,n)=>{if(!this.socket)throw new Error("Socket undefined. This must be called after connecting.");if(this.closed)throw new Error("Socket was closed, so no data can be sent anymore.");if(this.socket.readyState!==Ht.default.OPEN)throw new Error("Websocket is not open");Of()?this.socket.send(t,o=>o?n(o):r()):(this.socket.send(t),r())})}clearTimeout(){if(!this.timeoutId)throw new Error("Timeout ID not set. This should not happen and usually means connect() was not called.");clearTimeout(this.timeoutId)}}on.SocketWrapper=Cf;Object.defineProperty(nn,"__esModule",{value:!0});nn.StreamingSocket=void 0;const jf=Ct,Bf=on;class If{constructor(t,r=1e4){this.socket=new Bf.SocketWrapper(t,o=>{this.eventProducerListener&&this.eventProducerListener.next(o)},o=>{this.eventProducerListener&&this.eventProducerListener.error(o)},()=>{},o=>{this.eventProducerListener&&(o.wasClean?this.eventProducerListener.complete():this.eventProducerListener.error("Socket was closed unclean"))},r),this.connected=this.socket.connected;const n={start:o=>this.eventProducerListener=o,stop:()=>this.eventProducerListener=void 0};this.events=jf.Stream.create(n)}connect(){this.socket.connect()}disconnect(){this.socket.disconnect()}async send(t){return this.socket.send(t)}}nn.StreamingSocket=If;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.QueueingStreamingSocket=e.ConnectionStatus=void 0;const t=Yr,r=Ct,n=nn;var o;(function(a){a[a.Unconnected=0]="Unconnected",a[a.Connecting=1]="Connecting",a[a.Connected=2]="Connected",a[a.Disconnected=3]="Disconnected"})(o=e.ConnectionStatus||(e.ConnectionStatus={}));class s{constructor(c,i=1e4,u){this.queue=[],this.isProcessingQueue=!1,this.url=c,this.timeout=i,this.reconnectedHandler=u;const d={start:f=>this.eventProducerListener=f,stop:()=>this.eventProducerListener=void 0};this.events=r.Stream.create(d),this.connectionStatusProducer=new t.DefaultValueProducer(o.Unconnected),this.connectionStatus=new t.ValueAndUpdates(this.connectionStatusProducer),this.socket=new n.StreamingSocket(this.url,this.timeout),this.socket.events.subscribe({next:f=>{if(!this.eventProducerListener)throw new Error("No event producer listener set");this.eventProducerListener.next(f)},error:()=>this.connectionStatusProducer.update(o.Disconnected)})}connect(){this.connectionStatusProducer.update(o.Connecting),this.socket.connected.then(async()=>(this.connectionStatusProducer.update(o.Connected),this.processQueue()),()=>this.connectionStatusProducer.update(o.Disconnected)),this.socket.connect()}disconnect(){this.connectionStatusProducer.update(o.Disconnected),this.socket.disconnect()}reconnect(){this.socket=new n.StreamingSocket(this.url,this.timeout),this.socket.events.subscribe({next:c=>{if(!this.eventProducerListener)throw new Error("No event producer listener set");this.eventProducerListener.next(c)},error:()=>this.connectionStatusProducer.update(o.Disconnected)}),this.socket.connected.then(()=>{this.reconnectedHandler&&this.reconnectedHandler()}),this.connect()}getQueueLength(){return this.queue.length}queueRequest(c){this.queue.push(c),this.processQueue()}async processQueue(){if(this.isProcessingQueue||this.connectionStatus.value!==o.Connected)return;this.isProcessingQueue=!0;let c;for(;c=this.queue.shift();)try{await this.socket.send(c),this.isProcessingQueue=!1}catch{this.queue.unshift(c),this.isProcessingQueue=!1;return}}}e.QueueingStreamingSocket=s})(ra);var No={};Object.defineProperty(No,"__esModule",{value:!0});No.ReconnectingSocket=void 0;const Rf=Ct,ms=ra;class na{static calculateTimeout(t){return Math.min(2**t*100,5e3)}constructor(t,r=1e4,n){this.unconnected=!0,this.disconnected=!1,this.timeoutIndex=0,this.reconnectTimeout=null;const o={start:s=>this.eventProducerListener=s,stop:()=>this.eventProducerListener=void 0};this.events=Rf.Stream.create(o),this.socket=new ms.QueueingStreamingSocket(t,r,n),this.socket.events.subscribe({next:s=>{this.eventProducerListener&&this.eventProducerListener.next(s)},error:s=>{this.eventProducerListener&&this.eventProducerListener.error(s)}}),this.connectionStatus=this.socket.connectionStatus,this.connectionStatus.updates.subscribe({next:s=>{s===ms.ConnectionStatus.Connected&&(this.timeoutIndex=0),s===ms.ConnectionStatus.Disconnected&&(this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null),this.reconnectTimeout=setTimeout(()=>this.socket.reconnect(),na.calculateTimeout(this.timeoutIndex++)))}})}connect(){if(!this.unconnected)throw new Error("Cannot connect: socket has already connected");this.socket.connect(),this.unconnected=!1}disconnect(){if(this.unconnected)throw new Error("Cannot disconnect: socket has not yet connected");this.socket.disconnect(),this.eventProducerListener&&this.eventProducerListener.complete(),this.disconnected=!0}queueRequest(t){if(this.disconnected)throw new Error("Cannot queue request: socket has disconnected");this.socket.queueRequest(t)}}No.ReconnectingSocket=na;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.StreamingSocket=e.SocketWrapper=e.ReconnectingSocket=e.QueueingStreamingSocket=e.ConnectionStatus=void 0;var t=ra;Object.defineProperty(e,"ConnectionStatus",{enumerable:!0,get:function(){return t.ConnectionStatus}}),Object.defineProperty(e,"QueueingStreamingSocket",{enumerable:!0,get:function(){return t.QueueingStreamingSocket}});var r=No;Object.defineProperty(e,"ReconnectingSocket",{enumerable:!0,get:function(){return r.ReconnectingSocket}});var n=on;Object.defineProperty(e,"SocketWrapper",{enumerable:!0,get:function(){return n.SocketWrapper}});var o=nn;Object.defineProperty(e,"StreamingSocket",{enumerable:!0,get:function(){return o.StreamingSocket}})})(Tc);Object.defineProperty(Ro,"__esModule",{value:!0});Ro.WebsocketClient=void 0;const Nn=Co,ci=Tc,Nf=Yr,Df=Ct,Uf=nt;function Hf(e){throw e}function Ec(e){if(e.type!=="message")throw new Error(`Unexcepted message type on websocket: ${e.type}`);return(0,Nn.parseJsonRpcResponse)(JSON.parse(e.data))}class Vf{constructor(t,r){this.running=!1,this.subscriptions=[],this.request=t,this.socket=r}start(t){if(this.running)throw Error("Already started. Please stop first before restarting.");this.running=!0,this.connectToClient(t),this.socket.queueRequest(JSON.stringify(this.request))}stop(){this.running=!1;const t={...this.request,method:"unsubscribe"};try{this.socket.queueRequest(JSON.stringify(t))}catch(r){if(!(r instanceof Error&&r.message.match(/socket has disconnected/i)))throw r}}connectToClient(t){const r=this.socket.events.map(Ec),n=r.filter(a=>a.id===this.request.id).subscribe({next:a=>{(0,Nn.isJsonRpcErrorResponse)(a)&&(this.closeSubscriptions(),t.error(JSON.stringify(a.error))),n.unsubscribe()}}),o=r.filter(a=>a.id===this.request.id).subscribe({next:a=>{(0,Nn.isJsonRpcErrorResponse)(a)?(this.closeSubscriptions(),t.error(JSON.stringify(a.error))):t.next(a.result)}}),s=r.subscribe({error:a=>{this.closeSubscriptions(),t.error(a)},complete:()=>{this.closeSubscriptions(),t.complete()}});this.subscriptions.push(n,o,s)}closeSubscriptions(){for(const t of this.subscriptions)t.unsubscribe();this.subscriptions=[]}}class qf{constructor(t,r=Hf){if(this.subscriptionStreams=new Map,!(0,Uf.hasProtocol)(t))throw new Error("Base URL is missing a protocol. Expected 'ws://' or 'wss://'.");const n=t.endsWith("/")?"websocket":"/websocket";this.url=t+n,this.socket=new ci.ReconnectingSocket(this.url);const o=this.socket.events.subscribe({error:s=>{r(s),o.unsubscribe()}});this.jsonRpcResponseStream=this.socket.events.map(Ec),this.socket.connect()}async execute(t){const r=this.responseForRequestId(t.id);this.socket.queueRequest(JSON.stringify(t));const n=await r;if((0,Nn.isJsonRpcErrorResponse)(n))throw new Error(JSON.stringify(n.error));return n}listen(t){if(t.method!=="subscribe")throw new Error('Request method must be "subscribe" to start event listening');const r=t.params.query;if(typeof r!="string")throw new Error("request.params.query must be a string");if(!this.subscriptionStreams.has(r)){const n=new Vf(t,this.socket),o=Df.Stream.create(n);this.subscriptionStreams.set(r,o)}return this.subscriptionStreams.get(r).filter(n=>n.query!==void 0)}async connected(){await this.socket.connectionStatus.waitFor(ci.ConnectionStatus.Connected)}disconnect(){this.socket.disconnect()}async responseForRequestId(t){return(0,Nf.firstEvent)(this.jsonRpcResponseStream.filter(r=>r.id===t))}}Ro.WebsocketClient=qf;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WebsocketClient=e.instanceOfRpcStreamingClient=e.HttpClient=e.HttpBatchClient=void 0;var t=Oo;Object.defineProperty(e,"HttpBatchClient",{enumerable:!0,get:function(){return t.HttpBatchClient}});var r=Io;Object.defineProperty(e,"HttpClient",{enumerable:!0,get:function(){return r.HttpClient}});var n=nt;Object.defineProperty(e,"instanceOfRpcStreamingClient",{enumerable:!0,get:function(){return n.instanceOfRpcStreamingClient}});var o=Ro;Object.defineProperty(e,"WebsocketClient",{enumerable:!0,get:function(){return o.WebsocketClient}})})(tn);var xc={},Do={},Te={},B={};Object.defineProperty(B,"__esModule",{value:!0});B.encodeBlockId=B.encodeVersion=B.encodeBytes=B.encodeTime=B.encodeUvarint=B.encodeString=B.dictionaryToStringMap=B.may=B.assertNotEmpty=B.assertObject=B.assertArray=B.assertNumber=B.assertString=B.assertBoolean=B.assertSet=void 0;const $f=N;function Bt(e){if(e===void 0)throw new Error("Value must not be undefined");if(e===null)throw new Error("Value must not be null");return e}B.assertSet=Bt;function Ff(e){if(Bt(e),typeof e!="boolean")throw new Error("Value must be a boolean");return e}B.assertBoolean=Ff;function Wf(e){if(Bt(e),typeof e!="string")throw new Error("Value must be a string");return e}B.assertString=Wf;function Jf(e){if(Bt(e),typeof e!="number")throw new Error("Value must be a number");return e}B.assertNumber=Jf;function Gf(e){if(Bt(e),!Array.isArray(e))throw new Error("Value must be a an array");return e}B.assertArray=Gf;function zf(e){if(Bt(e),typeof e!="object")throw new Error("Value must be an object");if(Object.prototype.toString.call(e)!=="[object Object]")throw new Error("Value must be a simple object");return e}B.assertObject=zf;function Lf(e){if(Bt(e),typeof e=="number"&&e===0)throw new Error("must provide a non-zero value");if(e.length===0)throw new Error("must provide a non-empty value");return e}B.assertNotEmpty=Lf;function Qf(e,t){return t==null?void 0:e(t)}B.may=Qf;function Kf(e){const t=new Map;for(const r of Object.keys(e)){const n=e[r];if(typeof n!="string")throw new Error("Found dictionary value of type other than string");t.set(r,n)}return t}B.dictionaryToStringMap=Kf;function Zf(e){const t=(0,$f.toUtf8)(e);return Uint8Array.from([t.length,...t])}B.encodeString=Zf;function lr(e){return e>=128?Uint8Array.from([e&255|128,...lr(e>>7)]):Uint8Array.from([e&255])}B.encodeUvarint=lr;function Xf(e){const t=e.getTime(),r=Math.floor(t/1e3),n=r?[8,...lr(r)]:new Uint8Array,o=(e.nanoseconds||0)+t%1e3*1e6,s=o?[16,...lr(o)]:new Uint8Array;return Uint8Array.from([...n,...s])}B.encodeTime=Xf;function Yf(e){if(e.length>=128)throw new Error("Not implemented for byte arrays of length 128 or more");return e.length?Uint8Array.from([e.length,...e]):new Uint8Array}B.encodeBytes=Yf;function eg(e){const t=e.block?Uint8Array.from([8,...lr(e.block)]):new Uint8Array,r=e.app?Uint8Array.from([16,...lr(e.app)]):new Uint8Array;return Uint8Array.from([...t,...r])}B.encodeVersion=eg;function tg(e){return Uint8Array.from([10,e.hash.length,...e.hash,18,e.parts.hash.length+4,8,e.parts.total,18,e.parts.hash.length,...e.parts.hash])}B.encodeBlockId=tg;Object.defineProperty(Te,"__esModule",{value:!0});Te.smallIntToApi=Te.apiToBigInt=Te.apiToSmallInt=void 0;const Bs=Y,rg=B;function ng(e){return(typeof e=="number"?new Bs.Int53(e):Bs.Int53.fromString(e)).toNumber()}Te.apiToSmallInt=ng;function og(e){if((0,rg.assertString)(e),!e.match(/^-?[0-9]+$/))throw new Error("Invalid string format");return BigInt(e)}Te.apiToBigInt=og;function sg(e){return new Bs.Int53(e).toString()}Te.smallIntToApi=sg;var I={};Object.defineProperty(I,"__esModule",{value:!0});I.encodeBlockId=I.encodeVersion=I.encodeBytes=I.encodeTime=I.encodeUvarint=I.encodeString=I.dictionaryToStringMap=I.may=I.assertNotEmpty=I.assertObject=I.assertArray=I.assertNumber=I.assertString=I.assertBoolean=I.assertSet=void 0;const ag=N;function It(e){if(e===void 0)throw new Error("Value must not be undefined");if(e===null)throw new Error("Value must not be null");return e}I.assertSet=It;function ig(e){if(It(e),typeof e!="boolean")throw new Error("Value must be a boolean");return e}I.assertBoolean=ig;function cg(e){if(It(e),typeof e!="string")throw new Error("Value must be a string");return e}I.assertString=cg;function ug(e){if(It(e),typeof e!="number")throw new Error("Value must be a number");return e}I.assertNumber=ug;function dg(e){if(It(e),!Array.isArray(e))throw new Error("Value must be a an array");return e}I.assertArray=dg;function lg(e){if(It(e),typeof e!="object")throw new Error("Value must be an object");if(Object.prototype.toString.call(e)!=="[object Object]")throw new Error("Value must be a simple object");return e}I.assertObject=lg;function pg(e){if(It(e),typeof e=="number"&&e===0)throw new Error("must provide a non-zero value");if(e.length===0)throw new Error("must provide a non-empty value");return e}I.assertNotEmpty=pg;function mg(e,t){return t==null?void 0:e(t)}I.may=mg;function hg(e){const t=new Map;for(const r of Object.keys(e)){const n=e[r];if(typeof n!="string")throw new Error("Found dictionary value of type other than string");t.set(r,n)}return t}I.dictionaryToStringMap=hg;function fg(e){const t=(0,ag.toUtf8)(e);return Uint8Array.from([t.length,...t])}I.encodeString=fg;function pr(e){return e>=128?Uint8Array.from([e&255|128,...pr(e>>7)]):Uint8Array.from([e&255])}I.encodeUvarint=pr;function gg(e){const t=e.getTime(),r=Math.floor(t/1e3),n=r?[8,...pr(r)]:new Uint8Array,o=(e.nanoseconds||0)+t%1e3*1e6,s=o?[16,...pr(o)]:new Uint8Array;return Uint8Array.from([...n,...s])}I.encodeTime=gg;function yg(e){if(e.length>=128)throw new Error("Not implemented for byte arrays of length 128 or more");return e.length?Uint8Array.from([e.length,...e]):new Uint8Array}I.encodeBytes=yg;function bg(e){const t=e.block?Uint8Array.from([8,...pr(e.block)]):new Uint8Array,r=e.app?Uint8Array.from([16,...pr(e.app)]):new Uint8Array;return Uint8Array.from([...t,...r])}I.encodeVersion=bg;function vg(e){return Uint8Array.from([10,e.hash.length,...e.hash,18,e.parts.hash.length+4,8,e.parts.total,18,e.parts.hash.length,...e.parts.hash])}I.encodeBlockId=vg;var Uo={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.buildQuery=e.SubscriptionEventType=e.Method=void 0,function(r){r.AbciInfo="abci_info",r.AbciQuery="abci_query",r.Block="block",r.Blockchain="blockchain",r.BlockResults="block_results",r.BlockSearch="block_search",r.BroadcastTxAsync="broadcast_tx_async",r.BroadcastTxSync="broadcast_tx_sync",r.BroadcastTxCommit="broadcast_tx_commit",r.Commit="commit",r.Genesis="genesis",r.Health="health",r.NumUnconfirmedTxs="num_unconfirmed_txs",r.Status="status",r.Subscribe="subscribe",r.Tx="tx",r.TxSearch="tx_search",r.Validators="validators",r.Unsubscribe="unsubscribe"}(e.Method||(e.Method={})),function(r){r.NewBlock="NewBlock",r.NewBlockHeader="NewBlockHeader",r.Tx="Tx"}(e.SubscriptionEventType||(e.SubscriptionEventType={}));function t(r){const n=(r.tags?r.tags:[]).map(s=>`${s.key}='${s.value}'`),o=r.raw?[r.raw]:[];return[...n,...o].join(" AND ")}e.buildQuery=t})(Uo);var wg=h&&h.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),kg=h&&h.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Sg=h&&h.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&wg(t,e,r);return kg(t,e),t};Object.defineProperty(Do,"__esModule",{value:!0});Do.Params=void 0;const oa=N,Ve=Te,ee=st,be=I,Pg=Sg(Uo);function hs(e){return{height:(0,be.may)(Ve.smallIntToApi,e.height)}}function Ag(e){return{minHeight:(0,be.may)(Ve.smallIntToApi,e.minHeight),maxHeight:(0,be.may)(Ve.smallIntToApi,e.maxHeight)}}function Tg(e){return{query:e.query,page:(0,be.may)(Ve.smallIntToApi,e.page),per_page:(0,be.may)(Ve.smallIntToApi,e.per_page),order_by:e.order_by}}function Eg(e){return{path:(0,be.assertNotEmpty)(e.path),data:(0,oa.toHex)(e.data),height:(0,be.may)(Ve.smallIntToApi,e.height),prove:e.prove}}function xg(e){return{tx:(0,oa.toBase64)((0,be.assertNotEmpty)(e.tx))}}function _g(e){return{hash:(0,oa.toBase64)((0,be.assertNotEmpty)(e.hash)),prove:e.prove}}function Mg(e){return{query:e.query,prove:e.prove,page:(0,be.may)(Ve.smallIntToApi,e.page),per_page:(0,be.may)(Ve.smallIntToApi,e.per_page),order_by:e.order_by}}function Og(e){return{height:(0,be.may)(Ve.smallIntToApi,e.height),page:(0,be.may)(Ve.smallIntToApi,e.page),per_page:(0,be.may)(Ve.smallIntToApi,e.per_page)}}let Cg=class{static encodeAbciInfo(e){return(0,ee.createJsonRpcRequest)(e.method)}static encodeAbciQuery(e){return(0,ee.createJsonRpcRequest)(e.method,Eg(e.params))}static encodeBlock(e){return(0,ee.createJsonRpcRequest)(e.method,hs(e.params))}static encodeBlockchain(e){return(0,ee.createJsonRpcRequest)(e.method,Ag(e.params))}static encodeBlockResults(e){return(0,ee.createJsonRpcRequest)(e.method,hs(e.params))}static encodeBlockSearch(e){return(0,ee.createJsonRpcRequest)(e.method,Tg(e.params))}static encodeBroadcastTx(e){return(0,ee.createJsonRpcRequest)(e.method,xg(e.params))}static encodeCommit(e){return(0,ee.createJsonRpcRequest)(e.method,hs(e.params))}static encodeGenesis(e){return(0,ee.createJsonRpcRequest)(e.method)}static encodeHealth(e){return(0,ee.createJsonRpcRequest)(e.method)}static encodeNumUnconfirmedTxs(e){return(0,ee.createJsonRpcRequest)(e.method)}static encodeStatus(e){return(0,ee.createJsonRpcRequest)(e.method)}static encodeSubscribe(e){const t={key:"tm.event",value:e.query.type},r=Pg.buildQuery({tags:[t],raw:e.query.raw});return(0,ee.createJsonRpcRequest)("subscribe",{query:r})}static encodeTx(e){return(0,ee.createJsonRpcRequest)(e.method,_g(e.params))}static encodeTxSearch(e){return(0,ee.createJsonRpcRequest)(e.method,Mg(e.params))}static encodeValidators(e){return(0,ee.createJsonRpcRequest)(e.method,Og(e.params))}};Do.Params=Cg;var Ie={},sn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.BlockIdFlag=void 0,function(t){t[t.Unknown=0]="Unknown",t[t.Absent=1]="Absent",t[t.Commit=2]="Commit",t[t.Nil=3]="Nil",t[t.Unrecognized=-1]="Unrecognized"}(e.BlockIdFlag||(e.BlockIdFlag={}))})(sn);var mr={};Object.defineProperty(mr,"__esModule",{value:!0});mr.hashBlock=mr.hashTx=void 0;const sa=ke,ue=I;function jg(e){return(0,sa.sha256)(e)}mr.hashTx=jg;function Bg(e){if(e<1)throw new Error("Cannot split an empty tree");const t=2**Math.floor(Math.log2(e));return t<e?t:t/2}function Ig(e){const t=new sa.Sha256(Uint8Array.from([0]));return t.update(e),t.digest()}function Rg(e,t){const r=new sa.Sha256(Uint8Array.from([1]));return r.update(e),r.update(t),r.digest()}function Is(e){switch(e.length){case 0:throw new Error("Cannot hash empty tree");case 1:return Ig(e[0]);default:{const t=Bg(e.length),r=Is(e.slice(0,t)),n=Is(e.slice(t));return Rg(r,n)}}}function Ng(e){if(!e.lastBlockId)throw new Error("Hashing a block header with no last block ID (i.e. header at height 1) is not supported. If you need this, contributions are welcome. Please add documentation and test vectors for this case.");const t=[(0,ue.encodeVersion)(e.version),(0,ue.encodeString)(e.chainId),(0,ue.encodeUvarint)(e.height),(0,ue.encodeTime)(e.time),(0,ue.encodeBlockId)(e.lastBlockId),(0,ue.encodeBytes)(e.lastCommitHash),(0,ue.encodeBytes)(e.dataHash),(0,ue.encodeBytes)(e.validatorsHash),(0,ue.encodeBytes)(e.nextValidatorsHash),(0,ue.encodeBytes)(e.consensusHash),(0,ue.encodeBytes)(e.appHash),(0,ue.encodeBytes)(e.lastResultsHash),(0,ue.encodeBytes)(e.evidenceHash),(0,ue.encodeBytes)(e.proposerAddress)];return Is(t)}mr.hashBlock=Ng;Object.defineProperty(Ie,"__esModule",{value:!0});Ie.Responses=Ie.decodeValidatorInfo=Ie.decodeValidatorGenesis=Ie.decodeValidatorUpdate=Ie.decodeEvent=void 0;const x=N,_c=Z,Wr=se,P=Te,Dg=sn,m=I,Ug=mr;function Hg(e){return{data:e.data,lastBlockHeight:(0,m.may)(P.apiToSmallInt,e.last_block_height),lastBlockAppHash:(0,m.may)(x.fromBase64,e.last_block_app_hash)}}function Vg(e){return{ops:e.ops.map(t=>({type:t.type,key:(0,x.fromBase64)(t.key),data:(0,x.fromBase64)(t.data)}))}}function qg(e){return{key:(0,x.fromBase64)((0,m.assertString)(e.key??"")),value:(0,x.fromBase64)((0,m.assertString)(e.value??"")),proof:(0,m.may)(Vg,e.proofOps),height:(0,m.may)(P.apiToSmallInt,e.height),code:(0,m.may)(P.apiToSmallInt,e.code),codespace:(0,m.assertString)(e.codespace??""),index:(0,m.may)(P.apiToSmallInt,e.index),log:e.log,info:(0,m.assertString)(e.info??"")}}function $g(e){return{key:(0,m.assertNotEmpty)(e.key),value:e.value??""}}function Fg(e){return(0,m.assertArray)(e).map($g)}function Mc(e){return{type:e.type,attributes:e.attributes?Fg(e.attributes):[]}}Ie.decodeEvent=Mc;function Rs(e){return(0,m.assertArray)(e).map(Mc)}function hr(e){return{code:(0,P.apiToSmallInt)((0,m.assertNumber)(e.code??0)),codespace:e.codespace,log:e.log,data:(0,m.may)(x.fromBase64,e.data),events:e.events?Rs(e.events):[],gasWanted:(0,P.apiToBigInt)(e.gas_wanted??"0"),gasUsed:(0,P.apiToBigInt)(e.gas_used??"0")}}function aa(e){if("Sum"in e){const[[t,r]]=Object.entries(e.Sum.value);return(0,_c.assert)(t==="ed25519"||t==="secp256k1",`unknown pubkey type: ${t}`),{algorithm:t,data:(0,x.fromBase64)((0,m.assertNotEmpty)(r))}}else switch(e.type){case"tendermint/PubKeyEd25519":return{algorithm:"ed25519",data:(0,x.fromBase64)((0,m.assertNotEmpty)(e.value))};case"tendermint/PubKeySecp256k1":return{algorithm:"secp256k1",data:(0,x.fromBase64)((0,m.assertNotEmpty)(e.value))};default:throw new Error(`unknown pubkey type: ${e.type}`)}}function Wg(e){return{maxBytes:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.max_bytes)),maxGas:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.max_gas))}}function Jg(e){return{maxAgeNumBlocks:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.max_age_num_blocks)),maxAgeDuration:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.max_age_duration))}}function Oc(e){return{block:Wg((0,m.assertObject)(e.block)),evidence:Jg((0,m.assertObject)(e.evidence))}}function Cc(e){return{pubkey:aa((0,m.assertObject)(e.pub_key)),votingPower:(0,P.apiToBigInt)(e.power??"0")}}Ie.decodeValidatorUpdate=Cc;function Gg(e){return{height:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.height)),results:(e.txs_results||[]).map(hr),validatorUpdates:(e.validator_updates||[]).map(Cc),consensusUpdates:(0,m.may)(Oc,e.consensus_param_updates),beginBlockEvents:Rs(e.begin_block_events||[]),endBlockEvents:Rs(e.end_block_events||[])}}function Ho(e){return{hash:(0,x.fromHex)((0,m.assertNotEmpty)(e.hash)),parts:{total:(0,m.assertNotEmpty)(e.parts.total),hash:(0,x.fromHex)((0,m.assertNotEmpty)(e.parts.hash))}}}function zg(e){return{block:(0,P.apiToSmallInt)(e.block),app:(0,P.apiToSmallInt)(e.app??0)}}function Vo(e){return{version:zg(e.version),chainId:(0,m.assertNotEmpty)(e.chain_id),height:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.height)),time:(0,Wr.fromRfc3339WithNanoseconds)((0,m.assertNotEmpty)(e.time)),lastBlockId:e.last_block_id.hash?Ho(e.last_block_id):null,lastCommitHash:(0,x.fromHex)((0,m.assertSet)(e.last_commit_hash)),dataHash:(0,x.fromHex)((0,m.assertSet)(e.data_hash)),validatorsHash:(0,x.fromHex)((0,m.assertSet)(e.validators_hash)),nextValidatorsHash:(0,x.fromHex)((0,m.assertSet)(e.next_validators_hash)),consensusHash:(0,x.fromHex)((0,m.assertSet)(e.consensus_hash)),appHash:(0,x.fromHex)((0,m.assertSet)(e.app_hash)),lastResultsHash:(0,x.fromHex)((0,m.assertSet)(e.last_results_hash)),evidenceHash:(0,x.fromHex)((0,m.assertSet)(e.evidence_hash)),proposerAddress:(0,x.fromHex)((0,m.assertNotEmpty)(e.proposer_address))}}function Lg(e){return{blockId:Ho(e.block_id),blockSize:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.block_size)),header:Vo(e.header),numTxs:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.num_txs))}}function Qg(e){return{lastHeight:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.last_height)),blockMetas:(0,m.assertArray)(e.block_metas).map(Lg)}}function Kg(e){return{...hr(e),hash:(0,x.fromHex)((0,m.assertNotEmpty)(e.hash))}}function Zg(e){const t=e.tx_result?hr(e.tx_result):void 0;return{height:(0,P.apiToSmallInt)(e.height),hash:(0,x.fromHex)((0,m.assertNotEmpty)(e.hash)),checkTx:hr((0,m.assertObject)(e.check_tx)),deliverTx:t,txResult:t}}function Xg(e){return(0,_c.assert)(e in Dg.BlockIdFlag),e}function Yg(e){return{blockIdFlag:Xg(e.block_id_flag),validatorAddress:e.validator_address?(0,x.fromHex)(e.validator_address):void 0,timestamp:e.timestamp?(0,Wr.fromRfc3339WithNanoseconds)(e.timestamp):void 0,signature:e.signature?(0,x.fromBase64)(e.signature):void 0}}function jc(e){return{blockId:Ho((0,m.assertObject)(e.block_id)),height:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.height)),round:(0,P.apiToSmallInt)(e.round),signatures:(0,m.assertArray)(e.signatures).map(Yg)}}function ey(e){return{canonical:(0,m.assertBoolean)(e.canonical),header:Vo(e.signed_header.header),commit:jc(e.signed_header.commit)}}function Bc(e){return{address:(0,x.fromHex)((0,m.assertNotEmpty)(e.address)),pubkey:aa((0,m.assertObject)(e.pub_key)),votingPower:(0,P.apiToBigInt)((0,m.assertNotEmpty)(e.power))}}Ie.decodeValidatorGenesis=Bc;function ty(e){return{genesisTime:(0,Wr.fromRfc3339WithNanoseconds)((0,m.assertNotEmpty)(e.genesis_time)),chainId:(0,m.assertNotEmpty)(e.chain_id),consensusParams:Oc(e.consensus_params),validators:e.validators?(0,m.assertArray)(e.validators).map(Bc):[],appHash:(0,x.fromHex)((0,m.assertSet)(e.app_hash)),appState:e.app_state}}function ia(e){return{pubkey:aa((0,m.assertObject)(e.pub_key)),votingPower:(0,P.apiToBigInt)((0,m.assertNotEmpty)(e.voting_power)),address:(0,x.fromHex)((0,m.assertNotEmpty)(e.address)),proposerPriority:e.proposer_priority?(0,P.apiToSmallInt)(e.proposer_priority):void 0}}Ie.decodeValidatorInfo=ia;function ry(e){return{id:(0,x.fromHex)((0,m.assertNotEmpty)(e.id)),listenAddr:(0,m.assertNotEmpty)(e.listen_addr),network:(0,m.assertNotEmpty)(e.network),version:(0,m.assertString)(e.version),channels:(0,m.assertNotEmpty)(e.channels),moniker:(0,m.assertNotEmpty)(e.moniker),other:(0,m.dictionaryToStringMap)(e.other),protocolVersion:{app:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.protocol_version.app)),block:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.protocol_version.block)),p2p:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.protocol_version.p2p))}}}function ny(e){const t=e.earliest_block_height?(0,P.apiToSmallInt)(e.earliest_block_height):void 0,r=e.earliest_block_time?(0,Wr.fromRfc3339WithNanoseconds)(e.earliest_block_time):void 0;return{earliestAppHash:e.earliest_app_hash?(0,x.fromHex)(e.earliest_app_hash):void 0,earliestBlockHash:e.earliest_block_hash?(0,x.fromHex)(e.earliest_block_hash):void 0,earliestBlockHeight:t||void 0,earliestBlockTime:r!=null&&r.getTime()?r:void 0,latestBlockHash:(0,x.fromHex)((0,m.assertNotEmpty)(e.latest_block_hash)),latestAppHash:(0,x.fromHex)((0,m.assertNotEmpty)(e.latest_app_hash)),latestBlockTime:(0,Wr.fromRfc3339WithNanoseconds)((0,m.assertNotEmpty)(e.latest_block_time)),latestBlockHeight:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.latest_block_height)),catchingUp:(0,m.assertBoolean)(e.catching_up)}}function oy(e){return{nodeInfo:ry(e.node_info),syncInfo:ny(e.sync_info),validatorInfo:ia(e.validator_info)}}function sy(e){return{data:(0,x.fromBase64)((0,m.assertNotEmpty)(e.data)),rootHash:(0,x.fromHex)((0,m.assertNotEmpty)(e.root_hash)),proof:{total:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.proof.total)),index:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.proof.index)),leafHash:(0,x.fromBase64)((0,m.assertNotEmpty)(e.proof.leaf_hash)),aunts:(0,m.assertArray)(e.proof.aunts).map(x.fromBase64)}}}function Ic(e){return{tx:(0,x.fromBase64)((0,m.assertNotEmpty)(e.tx)),result:hr((0,m.assertObject)(e.tx_result)),height:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.height)),index:(0,P.apiToSmallInt)((0,m.assertNumber)(e.index)),hash:(0,x.fromHex)((0,m.assertNotEmpty)(e.hash)),proof:(0,m.may)(sy,e.proof)}}function ay(e){return{totalCount:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.total_count)),txs:(0,m.assertArray)(e.txs).map(Ic)}}function iy(e){const t=(0,x.fromBase64)((0,m.assertNotEmpty)(e.tx));return{tx:t,hash:(0,Ug.hashTx)(t),result:hr(e.result),height:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.height))}}function cy(e){return{blockHeight:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.block_height)),validators:(0,m.assertArray)(e.validators).map(ia),count:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.count)),total:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.total))}}function Rc(e){var t;return{header:Vo((0,m.assertObject)(e.header)),lastCommit:e.last_commit.block_id.hash?jc((0,m.assertObject)(e.last_commit)):null,txs:e.data.txs?(0,m.assertArray)(e.data.txs).map(x.fromBase64):[],evidence:((t=e.evidence)==null?void 0:t.evidence)??[]}}function Nc(e){return{blockId:Ho(e.block_id),block:Rc(e.block)}}function uy(e){return{totalCount:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.total_count)),blocks:(0,m.assertArray)(e.blocks).map(Nc)}}function dy(e){return{total:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.total)),totalBytes:(0,P.apiToSmallInt)((0,m.assertNotEmpty)(e.total_bytes))}}let ly=class Dc{static decodeAbciInfo(t){return Hg((0,m.assertObject)(t.result.response))}static decodeAbciQuery(t){return qg((0,m.assertObject)(t.result.response))}static decodeBlock(t){return Nc(t.result)}static decodeBlockResults(t){return Gg(t.result)}static decodeBlockSearch(t){return uy(t.result)}static decodeBlockchain(t){return Qg(t.result)}static decodeBroadcastTxSync(t){return Kg(t.result)}static decodeBroadcastTxAsync(t){return Dc.decodeBroadcastTxSync(t)}static decodeBroadcastTxCommit(t){return Zg(t.result)}static decodeCommit(t){return ey(t.result)}static decodeGenesis(t){return ty((0,m.assertObject)(t.result.genesis))}static decodeHealth(){return null}static decodeNumUnconfirmedTxs(t){return dy(t.result)}static decodeStatus(t){return oy(t.result)}static decodeNewBlockEvent(t){return Rc(t.data.value.block)}static decodeNewBlockHeaderEvent(t){return Vo(t.data.value.header)}static decodeTxEvent(t){return iy(t.data.value.TxResult)}static decodeTx(t){return Ic(t.result)}static decodeTxSearch(t){return ay(t.result)}static decodeValidators(t){return cy(t.result)}};Ie.Responses=ly;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Responses=e.Params=void 0;var t=Do;Object.defineProperty(e,"Params",{enumerable:!0,get:function(){return t.Params}});var r=Ie;Object.defineProperty(e,"Responses",{enumerable:!0,get:function(){return r.Responses}})})(xc);var py=h&&h.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),my=h&&h.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),hy=h&&h.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&py(t,e,r);return my(t,e),t};Object.defineProperty(Mo,"__esModule",{value:!0});Mo.Comet38Client=void 0;const fy=st,Pn=tn,O=xc,W=hy(Uo);class Dn{static async connect(t){let r;return typeof t=="object"?r=new Pn.HttpClient(t):r=t.startsWith("http://")||t.startsWith("https://")?new Pn.HttpClient(t):new Pn.WebsocketClient(t),await this.detectVersion(r),Dn.create(r)}static async create(t){return new Dn(t)}static async detectVersion(t){const r=(0,fy.createJsonRpcRequest)(W.Method.Status),n=(await t.execute(r)).result;if(!n||!n.node_info)throw new Error("Unrecognized format for status response");const o=n.node_info.version;if(typeof o!="string")throw new Error("Unrecognized version format: must be string");return o}constructor(t){this.client=t}disconnect(){this.client.disconnect()}async abciInfo(){const t={method:W.Method.AbciInfo};return this.doCall(t,O.Params.encodeAbciInfo,O.Responses.decodeAbciInfo)}async abciQuery(t){const r={params:t,method:W.Method.AbciQuery};return this.doCall(r,O.Params.encodeAbciQuery,O.Responses.decodeAbciQuery)}async block(t){const r={method:W.Method.Block,params:{height:t}};return this.doCall(r,O.Params.encodeBlock,O.Responses.decodeBlock)}async blockResults(t){const r={method:W.Method.BlockResults,params:{height:t}};return this.doCall(r,O.Params.encodeBlockResults,O.Responses.decodeBlockResults)}async blockSearch(t){const r={params:t,method:W.Method.BlockSearch},n=await this.doCall(r,O.Params.encodeBlockSearch,O.Responses.decodeBlockSearch);return{...n,blocks:[...n.blocks].sort((o,s)=>o.block.header.height-s.block.header.height)}}async blockSearchAll(t){let r=t.page||1;const n=[];let o=!1;for(;!o;){const s=await this.blockSearch({...t,page:r});n.push(...s.blocks),n.length<s.totalCount?r++:o=!0}return n.sort((s,a)=>s.block.header.height-a.block.header.height),{totalCount:n.length,blocks:n}}async blockchain(t,r){const n={method:W.Method.Blockchain,params:{minHeight:t,maxHeight:r}};return this.doCall(n,O.Params.encodeBlockchain,O.Responses.decodeBlockchain)}async broadcastTxSync(t){const r={params:t,method:W.Method.BroadcastTxSync};return this.doCall(r,O.Params.encodeBroadcastTx,O.Responses.decodeBroadcastTxSync)}async broadcastTxAsync(t){const r={params:t,method:W.Method.BroadcastTxAsync};return this.doCall(r,O.Params.encodeBroadcastTx,O.Responses.decodeBroadcastTxAsync)}async broadcastTxCommit(t){const r={params:t,method:W.Method.BroadcastTxCommit};return this.doCall(r,O.Params.encodeBroadcastTx,O.Responses.decodeBroadcastTxCommit)}async commit(t){const r={method:W.Method.Commit,params:{height:t}};return this.doCall(r,O.Params.encodeCommit,O.Responses.decodeCommit)}async genesis(){const t={method:W.Method.Genesis};return this.doCall(t,O.Params.encodeGenesis,O.Responses.decodeGenesis)}async health(){const t={method:W.Method.Health};return this.doCall(t,O.Params.encodeHealth,O.Responses.decodeHealth)}async numUnconfirmedTxs(){const t={method:W.Method.NumUnconfirmedTxs};return this.doCall(t,O.Params.encodeNumUnconfirmedTxs,O.Responses.decodeNumUnconfirmedTxs)}async status(){const t={method:W.Method.Status};return this.doCall(t,O.Params.encodeStatus,O.Responses.decodeStatus)}subscribeNewBlock(){const t={method:W.Method.Subscribe,query:{type:W.SubscriptionEventType.NewBlock}};return this.subscribe(t,O.Responses.decodeNewBlockEvent)}subscribeNewBlockHeader(){const t={method:W.Method.Subscribe,query:{type:W.SubscriptionEventType.NewBlockHeader}};return this.subscribe(t,O.Responses.decodeNewBlockHeaderEvent)}subscribeTx(t){const r={method:W.Method.Subscribe,query:{type:W.SubscriptionEventType.Tx,raw:t}};return this.subscribe(r,O.Responses.decodeTxEvent)}async tx(t){const r={params:t,method:W.Method.Tx};return this.doCall(r,O.Params.encodeTx,O.Responses.decodeTx)}async txSearch(t){const r={params:t,method:W.Method.TxSearch};return this.doCall(r,O.Params.encodeTxSearch,O.Responses.decodeTxSearch)}async txSearchAll(t){let r=t.page||1;const n=[];let o=!1;for(;!o;){const s=await this.txSearch({...t,page:r});n.push(...s.txs),n.length<s.totalCount?r++:o=!0}return{totalCount:n.length,txs:n}}async validators(t){const r={method:W.Method.Validators,params:t};return this.doCall(r,O.Params.encodeValidators,O.Responses.decodeValidators)}async validatorsAll(t){const r=[];let n=1,o=!1,s=t;for(;!o;){const a=await this.validators({per_page:50,height:s,page:n});r.push(...a.validators),s=s||a.blockHeight,r.length<a.total?n++:o=!0}return{blockHeight:s??0,count:r.length,total:r.length,validators:r}}async doCall(t,r,n){const o=r(t),s=await this.client.execute(o);return n(s)}subscribe(t,r){if(!(0,Pn.instanceOfRpcStreamingClient)(this.client))throw new Error("This RPC client type cannot subscribe to events");const n=O.Params.encodeSubscribe(t);return this.client.listen(n).map(o=>r(o))}}Mo.Comet38Client=Dn;var Uc={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.VoteType=e.broadcastTxCommitSuccess=e.broadcastTxSyncSuccess=void 0;function t(n){return n.code===0}e.broadcastTxSyncSuccess=t;function r(n){return n.checkTx.code===0&&!!n.deliverTx&&n.deliverTx.code===0}e.broadcastTxCommitSuccess=r,function(n){n[n.PreVote=1]="PreVote",n[n.PreCommit=2]="PreCommit"}(e.VoteType||(e.VoteType={}))})(Uc);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.VoteType=e.broadcastTxSyncSuccess=e.broadcastTxCommitSuccess=e.SubscriptionEventType=e.Method=e.Comet38Client=void 0;var t=Mo;Object.defineProperty(e,"Comet38Client",{enumerable:!0,get:function(){return t.Comet38Client}});var r=Uo;Object.defineProperty(e,"Method",{enumerable:!0,get:function(){return r.Method}}),Object.defineProperty(e,"SubscriptionEventType",{enumerable:!0,get:function(){return r.SubscriptionEventType}});var n=Uc;Object.defineProperty(e,"broadcastTxCommitSuccess",{enumerable:!0,get:function(){return n.broadcastTxCommitSuccess}}),Object.defineProperty(e,"broadcastTxSyncSuccess",{enumerable:!0,get:function(){return n.broadcastTxSyncSuccess}}),Object.defineProperty(e,"VoteType",{enumerable:!0,get:function(){return n.VoteType}})})(Rn);var Vr={},qo={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.buildQuery=e.SubscriptionEventType=e.Method=void 0,function(r){r.AbciInfo="abci_info",r.AbciQuery="abci_query",r.Block="block",r.Blockchain="blockchain",r.BlockResults="block_results",r.BlockSearch="block_search",r.BroadcastTxAsync="broadcast_tx_async",r.BroadcastTxSync="broadcast_tx_sync",r.BroadcastTxCommit="broadcast_tx_commit",r.Commit="commit",r.Genesis="genesis",r.Health="health",r.NumUnconfirmedTxs="num_unconfirmed_txs",r.Status="status",r.Subscribe="subscribe",r.Tx="tx",r.TxSearch="tx_search",r.Validators="validators",r.Unsubscribe="unsubscribe"}(e.Method||(e.Method={})),function(r){r.NewBlock="NewBlock",r.NewBlockHeader="NewBlockHeader",r.Tx="Tx"}(e.SubscriptionEventType||(e.SubscriptionEventType={}));function t(r){const n=(r.tags?r.tags:[]).map(s=>`${s.key}='${s.value}'`),o=r.raw?[r.raw]:[];return[...n,...o].join(" AND ")}e.buildQuery=t})(qo);var Hc={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.VoteType=e.broadcastTxCommitSuccess=e.broadcastTxSyncSuccess=void 0;function t(n){return n.code===0}e.broadcastTxSyncSuccess=t;function r(n){return n.checkTx.code===0&&!!n.deliverTx&&n.deliverTx.code===0}e.broadcastTxCommitSuccess=r,function(n){n[n.PreVote=1]="PreVote",n[n.PreCommit=2]="PreCommit"}(e.VoteType||(e.VoteType={}))})(Hc);var $o={},Vc={},Fo={},gy=h&&h.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),yy=h&&h.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),by=h&&h.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&gy(t,e,r);return yy(t,e),t};Object.defineProperty(Fo,"__esModule",{value:!0});Fo.Params=void 0;const ca=N,qe=Te,te=st,ve=B,vy=by(qo);function fs(e){return{height:(0,ve.may)(qe.smallIntToApi,e.height)}}function wy(e){return{minHeight:(0,ve.may)(qe.smallIntToApi,e.minHeight),maxHeight:(0,ve.may)(qe.smallIntToApi,e.maxHeight)}}function ky(e){return{query:e.query,page:(0,ve.may)(qe.smallIntToApi,e.page),per_page:(0,ve.may)(qe.smallIntToApi,e.per_page),order_by:e.order_by}}function Sy(e){return{path:(0,ve.assertNotEmpty)(e.path),data:(0,ca.toHex)(e.data),height:(0,ve.may)(qe.smallIntToApi,e.height),prove:e.prove}}function Py(e){return{tx:(0,ca.toBase64)((0,ve.assertNotEmpty)(e.tx))}}function Ay(e){return{hash:(0,ca.toBase64)((0,ve.assertNotEmpty)(e.hash)),prove:e.prove}}function Ty(e){return{query:e.query,prove:e.prove,page:(0,ve.may)(qe.smallIntToApi,e.page),per_page:(0,ve.may)(qe.smallIntToApi,e.per_page),order_by:e.order_by}}function Ey(e){return{height:(0,ve.may)(qe.smallIntToApi,e.height),page:(0,ve.may)(qe.smallIntToApi,e.page),per_page:(0,ve.may)(qe.smallIntToApi,e.per_page)}}let xy=class{static encodeAbciInfo(e){return(0,te.createJsonRpcRequest)(e.method)}static encodeAbciQuery(e){return(0,te.createJsonRpcRequest)(e.method,Sy(e.params))}static encodeBlock(e){return(0,te.createJsonRpcRequest)(e.method,fs(e.params))}static encodeBlockchain(e){return(0,te.createJsonRpcRequest)(e.method,wy(e.params))}static encodeBlockResults(e){return(0,te.createJsonRpcRequest)(e.method,fs(e.params))}static encodeBlockSearch(e){return(0,te.createJsonRpcRequest)(e.method,ky(e.params))}static encodeBroadcastTx(e){return(0,te.createJsonRpcRequest)(e.method,Py(e.params))}static encodeCommit(e){return(0,te.createJsonRpcRequest)(e.method,fs(e.params))}static encodeGenesis(e){return(0,te.createJsonRpcRequest)(e.method)}static encodeHealth(e){return(0,te.createJsonRpcRequest)(e.method)}static encodeNumUnconfirmedTxs(e){return(0,te.createJsonRpcRequest)(e.method)}static encodeStatus(e){return(0,te.createJsonRpcRequest)(e.method)}static encodeSubscribe(e){const t={key:"tm.event",value:e.query.type},r=vy.buildQuery({tags:[t],raw:e.query.raw});return(0,te.createJsonRpcRequest)("subscribe",{query:r})}static encodeTx(e){return(0,te.createJsonRpcRequest)(e.method,Ay(e.params))}static encodeTxSearch(e){return(0,te.createJsonRpcRequest)(e.method,Ty(e.params))}static encodeValidators(e){return(0,te.createJsonRpcRequest)(e.method,Ey(e.params))}};Fo.Params=xy;var Re={},fr={};Object.defineProperty(fr,"__esModule",{value:!0});fr.hashBlock=fr.hashTx=void 0;const ua=ke,de=B;function _y(e){return(0,ua.sha256)(e)}fr.hashTx=_y;function My(e){if(e<1)throw new Error("Cannot split an empty tree");const t=2**Math.floor(Math.log2(e));return t<e?t:t/2}function Oy(e){const t=new ua.Sha256(Uint8Array.from([0]));return t.update(e),t.digest()}function Cy(e,t){const r=new ua.Sha256(Uint8Array.from([1]));return r.update(e),r.update(t),r.digest()}function Ns(e){switch(e.length){case 0:throw new Error("Cannot hash empty tree");case 1:return Oy(e[0]);default:{const t=My(e.length),r=Ns(e.slice(0,t)),n=Ns(e.slice(t));return Cy(r,n)}}}function jy(e){if(!e.lastBlockId)throw new Error("Hashing a block header with no last block ID (i.e. header at height 1) is not supported. If you need this, contributions are welcome. Please add documentation and test vectors for this case.");const t=[(0,de.encodeVersion)(e.version),(0,de.encodeString)(e.chainId),(0,de.encodeUvarint)(e.height),(0,de.encodeTime)(e.time),(0,de.encodeBlockId)(e.lastBlockId),(0,de.encodeBytes)(e.lastCommitHash),(0,de.encodeBytes)(e.dataHash),(0,de.encodeBytes)(e.validatorsHash),(0,de.encodeBytes)(e.nextValidatorsHash),(0,de.encodeBytes)(e.consensusHash),(0,de.encodeBytes)(e.appHash),(0,de.encodeBytes)(e.lastResultsHash),(0,de.encodeBytes)(e.evidenceHash),(0,de.encodeBytes)(e.proposerAddress)];return Ns(t)}fr.hashBlock=jy;Object.defineProperty(Re,"__esModule",{value:!0});Re.Responses=Re.decodeValidatorInfo=Re.decodeValidatorGenesis=Re.decodeValidatorUpdate=Re.decodeEvent=void 0;const S=N,qc=Z,Jr=se,A=Te,By=sn,l=B,Iy=fr;function Ry(e){return{data:e.data,lastBlockHeight:(0,l.may)(A.apiToSmallInt,e.last_block_height),lastBlockAppHash:(0,l.may)(S.fromBase64,e.last_block_app_hash)}}function Ny(e){return{ops:e.ops.map(t=>({type:t.type,key:(0,S.fromBase64)(t.key),data:(0,S.fromBase64)(t.data)}))}}function Dy(e){return{key:(0,S.fromBase64)((0,l.assertString)(e.key??"")),value:(0,S.fromBase64)((0,l.assertString)(e.value??"")),proof:(0,l.may)(Ny,e.proofOps),height:(0,l.may)(A.apiToSmallInt,e.height),code:(0,l.may)(A.apiToSmallInt,e.code),codespace:(0,l.assertString)(e.codespace??""),index:(0,l.may)(A.apiToSmallInt,e.index),log:e.log,info:(0,l.assertString)(e.info??"")}}function Uy(e){return{key:(0,S.fromBase64)((0,l.assertNotEmpty)(e.key)),value:(0,S.fromBase64)((0,l.assertString)(e.value??""))}}function Hy(e){return(0,l.assertArray)(e).map(Uy)}function $c(e){return{type:e.type,attributes:e.attributes?Hy(e.attributes):[]}}Re.decodeEvent=$c;function Ds(e){return(0,l.assertArray)(e).map($c)}function gr(e){return{code:(0,A.apiToSmallInt)((0,l.assertNumber)(e.code??0)),codespace:e.codespace,log:e.log,data:(0,l.may)(S.fromBase64,e.data),events:e.events?Ds(e.events):[],gasWanted:(0,A.apiToBigInt)(e.gas_wanted??"0"),gasUsed:(0,A.apiToBigInt)(e.gas_used??"0")}}function da(e){if("Sum"in e){const[[t,r]]=Object.entries(e.Sum.value);return(0,qc.assert)(t==="ed25519"||t==="secp256k1",`unknown pubkey type: ${t}`),{algorithm:t,data:(0,S.fromBase64)((0,l.assertNotEmpty)(r))}}else switch(e.type){case"tendermint/PubKeyEd25519":return{algorithm:"ed25519",data:(0,S.fromBase64)((0,l.assertNotEmpty)(e.value))};case"tendermint/PubKeySecp256k1":return{algorithm:"secp256k1",data:(0,S.fromBase64)((0,l.assertNotEmpty)(e.value))};default:throw new Error(`unknown pubkey type: ${e.type}`)}}function Vy(e){return{maxBytes:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.max_bytes)),maxGas:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.max_gas))}}function qy(e){return{maxAgeNumBlocks:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.max_age_num_blocks)),maxAgeDuration:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.max_age_duration))}}function Fc(e){return{block:Vy((0,l.assertObject)(e.block)),evidence:qy((0,l.assertObject)(e.evidence))}}function Wc(e){return{pubkey:da((0,l.assertObject)(e.pub_key)),votingPower:(0,A.apiToBigInt)(e.power??"0")}}Re.decodeValidatorUpdate=Wc;function $y(e){return{height:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.height)),results:(e.txs_results||[]).map(gr),validatorUpdates:(e.validator_updates||[]).map(Wc),consensusUpdates:(0,l.may)(Fc,e.consensus_param_updates),beginBlockEvents:Ds(e.begin_block_events||[]),endBlockEvents:Ds(e.end_block_events||[])}}function Wo(e){return{hash:(0,S.fromHex)((0,l.assertNotEmpty)(e.hash)),parts:{total:(0,l.assertNotEmpty)(e.parts.total),hash:(0,S.fromHex)((0,l.assertNotEmpty)(e.parts.hash))}}}function Fy(e){return{block:(0,A.apiToSmallInt)(e.block),app:(0,A.apiToSmallInt)(e.app??0)}}function Jo(e){return{version:Fy(e.version),chainId:(0,l.assertNotEmpty)(e.chain_id),height:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.height)),time:(0,Jr.fromRfc3339WithNanoseconds)((0,l.assertNotEmpty)(e.time)),lastBlockId:e.last_block_id.hash?Wo(e.last_block_id):null,lastCommitHash:(0,S.fromHex)((0,l.assertSet)(e.last_commit_hash)),dataHash:(0,S.fromHex)((0,l.assertSet)(e.data_hash)),validatorsHash:(0,S.fromHex)((0,l.assertSet)(e.validators_hash)),nextValidatorsHash:(0,S.fromHex)((0,l.assertSet)(e.next_validators_hash)),consensusHash:(0,S.fromHex)((0,l.assertSet)(e.consensus_hash)),appHash:(0,S.fromHex)((0,l.assertSet)(e.app_hash)),lastResultsHash:(0,S.fromHex)((0,l.assertSet)(e.last_results_hash)),evidenceHash:(0,S.fromHex)((0,l.assertSet)(e.evidence_hash)),proposerAddress:(0,S.fromHex)((0,l.assertNotEmpty)(e.proposer_address))}}function Wy(e){return{blockId:Wo(e.block_id),blockSize:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.block_size)),header:Jo(e.header),numTxs:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.num_txs))}}function Jy(e){return{lastHeight:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.last_height)),blockMetas:(0,l.assertArray)(e.block_metas).map(Wy)}}function Gy(e){return{...gr(e),hash:(0,S.fromHex)((0,l.assertNotEmpty)(e.hash))}}function zy(e){return{height:(0,A.apiToSmallInt)(e.height),hash:(0,S.fromHex)((0,l.assertNotEmpty)(e.hash)),checkTx:gr((0,l.assertObject)(e.check_tx)),deliverTx:(0,l.may)(gr,e.deliver_tx)}}function Ly(e){return(0,qc.assert)(e in By.BlockIdFlag),e}function Qy(e){return{blockIdFlag:Ly(e.block_id_flag),validatorAddress:e.validator_address?(0,S.fromHex)(e.validator_address):void 0,timestamp:e.timestamp?(0,Jr.fromRfc3339WithNanoseconds)(e.timestamp):void 0,signature:e.signature?(0,S.fromBase64)(e.signature):void 0}}function Jc(e){return{blockId:Wo((0,l.assertObject)(e.block_id)),height:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.height)),round:(0,A.apiToSmallInt)(e.round),signatures:(0,l.assertArray)(e.signatures).map(Qy)}}function Ky(e){return{canonical:(0,l.assertBoolean)(e.canonical),header:Jo(e.signed_header.header),commit:Jc(e.signed_header.commit)}}function Gc(e){return{address:(0,S.fromHex)((0,l.assertNotEmpty)(e.address)),pubkey:da((0,l.assertObject)(e.pub_key)),votingPower:(0,A.apiToBigInt)((0,l.assertNotEmpty)(e.power))}}Re.decodeValidatorGenesis=Gc;function Zy(e){return{genesisTime:(0,Jr.fromRfc3339WithNanoseconds)((0,l.assertNotEmpty)(e.genesis_time)),chainId:(0,l.assertNotEmpty)(e.chain_id),consensusParams:Fc(e.consensus_params),validators:e.validators?(0,l.assertArray)(e.validators).map(Gc):[],appHash:(0,S.fromHex)((0,l.assertSet)(e.app_hash)),appState:e.app_state}}function la(e){return{pubkey:da((0,l.assertObject)(e.pub_key)),votingPower:(0,A.apiToBigInt)((0,l.assertNotEmpty)(e.voting_power)),address:(0,S.fromHex)((0,l.assertNotEmpty)(e.address)),proposerPriority:e.proposer_priority?(0,A.apiToSmallInt)(e.proposer_priority):void 0}}Re.decodeValidatorInfo=la;function Xy(e){return{id:(0,S.fromHex)((0,l.assertNotEmpty)(e.id)),listenAddr:(0,l.assertNotEmpty)(e.listen_addr),network:(0,l.assertNotEmpty)(e.network),version:(0,l.assertString)(e.version),channels:(0,l.assertNotEmpty)(e.channels),moniker:(0,l.assertNotEmpty)(e.moniker),other:(0,l.dictionaryToStringMap)(e.other),protocolVersion:{app:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.protocol_version.app)),block:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.protocol_version.block)),p2p:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.protocol_version.p2p))}}}function Yy(e){const t=e.earliest_block_height?(0,A.apiToSmallInt)(e.earliest_block_height):void 0,r=e.earliest_block_time?(0,Jr.fromRfc3339WithNanoseconds)(e.earliest_block_time):void 0;return{earliestAppHash:e.earliest_app_hash?(0,S.fromHex)(e.earliest_app_hash):void 0,earliestBlockHash:e.earliest_block_hash?(0,S.fromHex)(e.earliest_block_hash):void 0,earliestBlockHeight:t||void 0,earliestBlockTime:r!=null&&r.getTime()?r:void 0,latestBlockHash:(0,S.fromHex)((0,l.assertNotEmpty)(e.latest_block_hash)),latestAppHash:(0,S.fromHex)((0,l.assertNotEmpty)(e.latest_app_hash)),latestBlockTime:(0,Jr.fromRfc3339WithNanoseconds)((0,l.assertNotEmpty)(e.latest_block_time)),latestBlockHeight:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.latest_block_height)),catchingUp:(0,l.assertBoolean)(e.catching_up)}}function eb(e){return{nodeInfo:Xy(e.node_info),syncInfo:Yy(e.sync_info),validatorInfo:la(e.validator_info)}}function tb(e){return{data:(0,S.fromBase64)((0,l.assertNotEmpty)(e.data)),rootHash:(0,S.fromHex)((0,l.assertNotEmpty)(e.root_hash)),proof:{total:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.proof.total)),index:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.proof.index)),leafHash:(0,S.fromBase64)((0,l.assertNotEmpty)(e.proof.leaf_hash)),aunts:(0,l.assertArray)(e.proof.aunts).map(S.fromBase64)}}}function zc(e){return{tx:(0,S.fromBase64)((0,l.assertNotEmpty)(e.tx)),result:gr((0,l.assertObject)(e.tx_result)),height:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.height)),index:(0,A.apiToSmallInt)((0,l.assertNumber)(e.index)),hash:(0,S.fromHex)((0,l.assertNotEmpty)(e.hash)),proof:(0,l.may)(tb,e.proof)}}function rb(e){return{totalCount:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.total_count)),txs:(0,l.assertArray)(e.txs).map(zc)}}function nb(e){const t=(0,S.fromBase64)((0,l.assertNotEmpty)(e.tx));return{tx:t,hash:(0,Iy.hashTx)(t),result:gr(e.result),height:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.height))}}function ob(e){return{blockHeight:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.block_height)),validators:(0,l.assertArray)(e.validators).map(la),count:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.count)),total:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.total))}}function Lc(e){var t;return{header:Jo((0,l.assertObject)(e.header)),lastCommit:e.last_commit.block_id.hash?Jc((0,l.assertObject)(e.last_commit)):null,txs:e.data.txs?(0,l.assertArray)(e.data.txs).map(S.fromBase64):[],evidence:((t=e.evidence)==null?void 0:t.evidence)??[]}}function Qc(e){return{blockId:Wo(e.block_id),block:Lc(e.block)}}function sb(e){return{totalCount:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.total_count)),blocks:(0,l.assertArray)(e.blocks).map(Qc)}}function ab(e){return{total:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.total)),totalBytes:(0,A.apiToSmallInt)((0,l.assertNotEmpty)(e.total_bytes))}}let ib=class Kc{static decodeAbciInfo(t){return Ry((0,l.assertObject)(t.result.response))}static decodeAbciQuery(t){return Dy((0,l.assertObject)(t.result.response))}static decodeBlock(t){return Qc(t.result)}static decodeBlockResults(t){return $y(t.result)}static decodeBlockSearch(t){return sb(t.result)}static decodeBlockchain(t){return Jy(t.result)}static decodeBroadcastTxSync(t){return Gy(t.result)}static decodeBroadcastTxAsync(t){return Kc.decodeBroadcastTxSync(t)}static decodeBroadcastTxCommit(t){return zy(t.result)}static decodeCommit(t){return Ky(t.result)}static decodeGenesis(t){return Zy((0,l.assertObject)(t.result.genesis))}static decodeHealth(){return null}static decodeNumUnconfirmedTxs(t){return ab(t.result)}static decodeStatus(t){return eb(t.result)}static decodeNewBlockEvent(t){return Lc(t.data.value.block)}static decodeNewBlockHeaderEvent(t){return Jo(t.data.value.header)}static decodeTxEvent(t){return nb(t.data.value.TxResult)}static decodeTx(t){return zc(t.result)}static decodeTxSearch(t){return rb(t.result)}static decodeValidators(t){return ob(t.result)}};Re.Responses=ib;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Responses=e.Params=void 0;var t=Fo;Object.defineProperty(e,"Params",{enumerable:!0,get:function(){return t.Params}});var r=Re;Object.defineProperty(e,"Responses",{enumerable:!0,get:function(){return r.Responses}})})(Vc);var cb=h&&h.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ub=h&&h.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),db=h&&h.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&cb(t,e,r);return ub(t,e),t};Object.defineProperty($o,"__esModule",{value:!0});$o.Tendermint34Client=void 0;const lb=st,An=tn,C=Vc,J=db(qo);class Un{static async connect(t){let r;return typeof t=="object"?r=new An.HttpClient(t):r=t.startsWith("http://")||t.startsWith("https://")?new An.HttpClient(t):new An.WebsocketClient(t),await this.detectVersion(r),Un.create(r)}static async create(t){return new Un(t)}static async detectVersion(t){const r=(0,lb.createJsonRpcRequest)(J.Method.Status),n=(await t.execute(r)).result;if(!n||!n.node_info)throw new Error("Unrecognized format for status response");const o=n.node_info.version;if(typeof o!="string")throw new Error("Unrecognized version format: must be string");return o}constructor(t){this.client=t}disconnect(){this.client.disconnect()}async abciInfo(){const t={method:J.Method.AbciInfo};return this.doCall(t,C.Params.encodeAbciInfo,C.Responses.decodeAbciInfo)}async abciQuery(t){const r={params:t,method:J.Method.AbciQuery};return this.doCall(r,C.Params.encodeAbciQuery,C.Responses.decodeAbciQuery)}async block(t){const r={method:J.Method.Block,params:{height:t}};return this.doCall(r,C.Params.encodeBlock,C.Responses.decodeBlock)}async blockResults(t){const r={method:J.Method.BlockResults,params:{height:t}};return this.doCall(r,C.Params.encodeBlockResults,C.Responses.decodeBlockResults)}async blockSearch(t){const r={params:t,method:J.Method.BlockSearch},n=await this.doCall(r,C.Params.encodeBlockSearch,C.Responses.decodeBlockSearch);return{...n,blocks:[...n.blocks].sort((o,s)=>o.block.header.height-s.block.header.height)}}async blockSearchAll(t){let r=t.page||1;const n=[];let o=!1;for(;!o;){const s=await this.blockSearch({...t,page:r});n.push(...s.blocks),n.length<s.totalCount?r++:o=!0}return n.sort((s,a)=>s.block.header.height-a.block.header.height),{totalCount:n.length,blocks:n}}async blockchain(t,r){const n={method:J.Method.Blockchain,params:{minHeight:t,maxHeight:r}};return this.doCall(n,C.Params.encodeBlockchain,C.Responses.decodeBlockchain)}async broadcastTxSync(t){const r={params:t,method:J.Method.BroadcastTxSync};return this.doCall(r,C.Params.encodeBroadcastTx,C.Responses.decodeBroadcastTxSync)}async broadcastTxAsync(t){const r={params:t,method:J.Method.BroadcastTxAsync};return this.doCall(r,C.Params.encodeBroadcastTx,C.Responses.decodeBroadcastTxAsync)}async broadcastTxCommit(t){const r={params:t,method:J.Method.BroadcastTxCommit};return this.doCall(r,C.Params.encodeBroadcastTx,C.Responses.decodeBroadcastTxCommit)}async commit(t){const r={method:J.Method.Commit,params:{height:t}};return this.doCall(r,C.Params.encodeCommit,C.Responses.decodeCommit)}async genesis(){const t={method:J.Method.Genesis};return this.doCall(t,C.Params.encodeGenesis,C.Responses.decodeGenesis)}async health(){const t={method:J.Method.Health};return this.doCall(t,C.Params.encodeHealth,C.Responses.decodeHealth)}async numUnconfirmedTxs(){const t={method:J.Method.NumUnconfirmedTxs};return this.doCall(t,C.Params.encodeNumUnconfirmedTxs,C.Responses.decodeNumUnconfirmedTxs)}async status(){const t={method:J.Method.Status};return this.doCall(t,C.Params.encodeStatus,C.Responses.decodeStatus)}subscribeNewBlock(){const t={method:J.Method.Subscribe,query:{type:J.SubscriptionEventType.NewBlock}};return this.subscribe(t,C.Responses.decodeNewBlockEvent)}subscribeNewBlockHeader(){const t={method:J.Method.Subscribe,query:{type:J.SubscriptionEventType.NewBlockHeader}};return this.subscribe(t,C.Responses.decodeNewBlockHeaderEvent)}subscribeTx(t){const r={method:J.Method.Subscribe,query:{type:J.SubscriptionEventType.Tx,raw:t}};return this.subscribe(r,C.Responses.decodeTxEvent)}async tx(t){const r={params:t,method:J.Method.Tx};return this.doCall(r,C.Params.encodeTx,C.Responses.decodeTx)}async txSearch(t){const r={params:t,method:J.Method.TxSearch};return this.doCall(r,C.Params.encodeTxSearch,C.Responses.decodeTxSearch)}async txSearchAll(t){let r=t.page||1;const n=[];let o=!1;for(;!o;){const s=await this.txSearch({...t,page:r});n.push(...s.txs),n.length<s.totalCount?r++:o=!0}return{totalCount:n.length,txs:n}}async validators(t){const r={method:J.Method.Validators,params:t};return this.doCall(r,C.Params.encodeValidators,C.Responses.decodeValidators)}async validatorsAll(t){const r=[];let n=1,o=!1,s=t;for(;!o;){const a=await this.validators({per_page:50,height:s,page:n});r.push(...a.validators),s=s||a.blockHeight,r.length<a.total?n++:o=!0}return{blockHeight:s??0,count:r.length,total:r.length,validators:r}}async doCall(t,r,n){const o=r(t),s=await this.client.execute(o);return n(s)}subscribe(t,r){if(!(0,An.instanceOfRpcStreamingClient)(this.client))throw new Error("This RPC client type cannot subscribe to events");const n=C.Params.encodeSubscribe(t);return this.client.listen(n).map(o=>r(o))}}$o.Tendermint34Client=Un;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Tendermint34Client=e.VoteType=e.broadcastTxSyncSuccess=e.broadcastTxCommitSuccess=e.SubscriptionEventType=e.Method=void 0;var t=qo;Object.defineProperty(e,"Method",{enumerable:!0,get:function(){return t.Method}}),Object.defineProperty(e,"SubscriptionEventType",{enumerable:!0,get:function(){return t.SubscriptionEventType}});var r=Hc;Object.defineProperty(e,"broadcastTxCommitSuccess",{enumerable:!0,get:function(){return r.broadcastTxCommitSuccess}}),Object.defineProperty(e,"broadcastTxSyncSuccess",{enumerable:!0,get:function(){return r.broadcastTxSyncSuccess}}),Object.defineProperty(e,"VoteType",{enumerable:!0,get:function(){return r.VoteType}});var n=$o;Object.defineProperty(e,"Tendermint34Client",{enumerable:!0,get:function(){return n.Tendermint34Client}})})(Vr);var Hn={},Go={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.buildQuery=e.SubscriptionEventType=e.Method=void 0,function(r){r.AbciInfo="abci_info",r.AbciQuery="abci_query",r.Block="block",r.Blockchain="blockchain",r.BlockResults="block_results",r.BlockSearch="block_search",r.BroadcastTxAsync="broadcast_tx_async",r.BroadcastTxSync="broadcast_tx_sync",r.BroadcastTxCommit="broadcast_tx_commit",r.Commit="commit",r.Genesis="genesis",r.Health="health",r.NumUnconfirmedTxs="num_unconfirmed_txs",r.Status="status",r.Subscribe="subscribe",r.Tx="tx",r.TxSearch="tx_search",r.Validators="validators",r.Unsubscribe="unsubscribe"}(e.Method||(e.Method={})),function(r){r.NewBlock="NewBlock",r.NewBlockHeader="NewBlockHeader",r.Tx="Tx"}(e.SubscriptionEventType||(e.SubscriptionEventType={}));function t(r){const n=(r.tags?r.tags:[]).map(s=>`${s.key}='${s.value}'`),o=r.raw?[r.raw]:[];return[...n,...o].join(" AND ")}e.buildQuery=t})(Go);var Zc={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.VoteType=e.broadcastTxCommitSuccess=e.broadcastTxSyncSuccess=void 0;function t(n){return n.code===0}e.broadcastTxSyncSuccess=t;function r(n){return n.checkTx.code===0&&!!n.deliverTx&&n.deliverTx.code===0}e.broadcastTxCommitSuccess=r,function(n){n[n.PreVote=1]="PreVote",n[n.PreCommit=2]="PreCommit"}(e.VoteType||(e.VoteType={}))})(Zc);var zo={},Xc={},Lo={},R={};Object.defineProperty(R,"__esModule",{value:!0});R.encodeBlockId=R.encodeVersion=R.encodeBytes=R.encodeTime=R.encodeUvarint=R.encodeString=R.dictionaryToStringMap=R.may=R.assertNotEmpty=R.assertObject=R.assertArray=R.assertNumber=R.assertString=R.assertBoolean=R.assertSet=void 0;const pb=N;function Rt(e){if(e===void 0)throw new Error("Value must not be undefined");if(e===null)throw new Error("Value must not be null");return e}R.assertSet=Rt;function mb(e){if(Rt(e),typeof e!="boolean")throw new Error("Value must be a boolean");return e}R.assertBoolean=mb;function hb(e){if(Rt(e),typeof e!="string")throw new Error("Value must be a string");return e}R.assertString=hb;function fb(e){if(Rt(e),typeof e!="number")throw new Error("Value must be a number");return e}R.assertNumber=fb;function gb(e){if(Rt(e),!Array.isArray(e))throw new Error("Value must be a an array");return e}R.assertArray=gb;function yb(e){if(Rt(e),typeof e!="object")throw new Error("Value must be an object");if(Object.prototype.toString.call(e)!=="[object Object]")throw new Error("Value must be a simple object");return e}R.assertObject=yb;function bb(e){if(Rt(e),typeof e=="number"&&e===0)throw new Error("must provide a non-zero value");if(e.length===0)throw new Error("must provide a non-empty value");return e}R.assertNotEmpty=bb;function vb(e,t){return t==null?void 0:e(t)}R.may=vb;function wb(e){const t=new Map;for(const r of Object.keys(e)){const n=e[r];if(typeof n!="string")throw new Error("Found dictionary value of type other than string");t.set(r,n)}return t}R.dictionaryToStringMap=wb;function kb(e){const t=(0,pb.toUtf8)(e);return Uint8Array.from([t.length,...t])}R.encodeString=kb;function yr(e){return e>=128?Uint8Array.from([e&255|128,...yr(e>>7)]):Uint8Array.from([e&255])}R.encodeUvarint=yr;function Sb(e){const t=e.getTime(),r=Math.floor(t/1e3),n=r?[8,...yr(r)]:new Uint8Array,o=(e.nanoseconds||0)+t%1e3*1e6,s=o?[16,...yr(o)]:new Uint8Array;return Uint8Array.from([...n,...s])}R.encodeTime=Sb;function Pb(e){if(e.length>=128)throw new Error("Not implemented for byte arrays of length 128 or more");return e.length?Uint8Array.from([e.length,...e]):new Uint8Array}R.encodeBytes=Pb;function Ab(e){const t=e.block?Uint8Array.from([8,...yr(e.block)]):new Uint8Array,r=e.app?Uint8Array.from([16,...yr(e.app)]):new Uint8Array;return Uint8Array.from([...t,...r])}R.encodeVersion=Ab;function Tb(e){return Uint8Array.from([10,e.hash.length,...e.hash,18,e.parts.hash.length+4,8,e.parts.total,18,e.parts.hash.length,...e.parts.hash])}R.encodeBlockId=Tb;var Eb=h&&h.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),xb=h&&h.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),_b=h&&h.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Eb(t,e,r);return xb(t,e),t};Object.defineProperty(Lo,"__esModule",{value:!0});Lo.Params=void 0;const pa=N,$e=Te,re=st,we=R,Mb=_b(Go);function gs(e){return{height:(0,we.may)($e.smallIntToApi,e.height)}}function Ob(e){return{minHeight:(0,we.may)($e.smallIntToApi,e.minHeight),maxHeight:(0,we.may)($e.smallIntToApi,e.maxHeight)}}function Cb(e){return{query:e.query,page:(0,we.may)($e.smallIntToApi,e.page),per_page:(0,we.may)($e.smallIntToApi,e.per_page),order_by:e.order_by}}function jb(e){return{path:(0,we.assertNotEmpty)(e.path),data:(0,pa.toHex)(e.data),height:(0,we.may)($e.smallIntToApi,e.height),prove:e.prove}}function Bb(e){return{tx:(0,pa.toBase64)((0,we.assertNotEmpty)(e.tx))}}function Ib(e){return{hash:(0,pa.toBase64)((0,we.assertNotEmpty)(e.hash)),prove:e.prove}}function Rb(e){return{query:e.query,prove:e.prove,page:(0,we.may)($e.smallIntToApi,e.page),per_page:(0,we.may)($e.smallIntToApi,e.per_page),order_by:e.order_by}}function Nb(e){return{height:(0,we.may)($e.smallIntToApi,e.height),page:(0,we.may)($e.smallIntToApi,e.page),per_page:(0,we.may)($e.smallIntToApi,e.per_page)}}class Db{static encodeAbciInfo(t){return(0,re.createJsonRpcRequest)(t.method)}static encodeAbciQuery(t){return(0,re.createJsonRpcRequest)(t.method,jb(t.params))}static encodeBlock(t){return(0,re.createJsonRpcRequest)(t.method,gs(t.params))}static encodeBlockchain(t){return(0,re.createJsonRpcRequest)(t.method,Ob(t.params))}static encodeBlockResults(t){return(0,re.createJsonRpcRequest)(t.method,gs(t.params))}static encodeBlockSearch(t){return(0,re.createJsonRpcRequest)(t.method,Cb(t.params))}static encodeBroadcastTx(t){return(0,re.createJsonRpcRequest)(t.method,Bb(t.params))}static encodeCommit(t){return(0,re.createJsonRpcRequest)(t.method,gs(t.params))}static encodeGenesis(t){return(0,re.createJsonRpcRequest)(t.method)}static encodeHealth(t){return(0,re.createJsonRpcRequest)(t.method)}static encodeNumUnconfirmedTxs(t){return(0,re.createJsonRpcRequest)(t.method)}static encodeStatus(t){return(0,re.createJsonRpcRequest)(t.method)}static encodeSubscribe(t){const r={key:"tm.event",value:t.query.type},n=Mb.buildQuery({tags:[r],raw:t.query.raw});return(0,re.createJsonRpcRequest)("subscribe",{query:n})}static encodeTx(t){return(0,re.createJsonRpcRequest)(t.method,Ib(t.params))}static encodeTxSearch(t){return(0,re.createJsonRpcRequest)(t.method,Rb(t.params))}static encodeValidators(t){return(0,re.createJsonRpcRequest)(t.method,Nb(t.params))}}Lo.Params=Db;var Ne={},br={};Object.defineProperty(br,"__esModule",{value:!0});br.hashBlock=br.hashTx=void 0;const ma=ke,le=R;function Ub(e){return(0,ma.sha256)(e)}br.hashTx=Ub;function Hb(e){if(e<1)throw new Error("Cannot split an empty tree");const t=2**Math.floor(Math.log2(e));return t<e?t:t/2}function Vb(e){const t=new ma.Sha256(Uint8Array.from([0]));return t.update(e),t.digest()}function qb(e,t){const r=new ma.Sha256(Uint8Array.from([1]));return r.update(e),r.update(t),r.digest()}function Us(e){switch(e.length){case 0:throw new Error("Cannot hash empty tree");case 1:return Vb(e[0]);default:{const t=Hb(e.length),r=Us(e.slice(0,t)),n=Us(e.slice(t));return qb(r,n)}}}function $b(e){if(!e.lastBlockId)throw new Error("Hashing a block header with no last block ID (i.e. header at height 1) is not supported. If you need this, contributions are welcome. Please add documentation and test vectors for this case.");const t=[(0,le.encodeVersion)(e.version),(0,le.encodeString)(e.chainId),(0,le.encodeUvarint)(e.height),(0,le.encodeTime)(e.time),(0,le.encodeBlockId)(e.lastBlockId),(0,le.encodeBytes)(e.lastCommitHash),(0,le.encodeBytes)(e.dataHash),(0,le.encodeBytes)(e.validatorsHash),(0,le.encodeBytes)(e.nextValidatorsHash),(0,le.encodeBytes)(e.consensusHash),(0,le.encodeBytes)(e.appHash),(0,le.encodeBytes)(e.lastResultsHash),(0,le.encodeBytes)(e.evidenceHash),(0,le.encodeBytes)(e.proposerAddress)];return Us(t)}br.hashBlock=$b;Object.defineProperty(Ne,"__esModule",{value:!0});Ne.Responses=Ne.decodeValidatorInfo=Ne.decodeValidatorGenesis=Ne.decodeValidatorUpdate=Ne.decodeEvent=void 0;const _=N,Yc=Z,Gr=se,T=Te,Fb=sn,p=R,Wb=br;function Jb(e){return{data:e.data,lastBlockHeight:(0,p.may)(T.apiToSmallInt,e.last_block_height),lastBlockAppHash:(0,p.may)(_.fromBase64,e.last_block_app_hash)}}function Gb(e){return{ops:e.ops.map(t=>({type:t.type,key:(0,_.fromBase64)(t.key),data:(0,_.fromBase64)(t.data)}))}}function zb(e){return{key:(0,_.fromBase64)((0,p.assertString)(e.key??"")),value:(0,_.fromBase64)((0,p.assertString)(e.value??"")),proof:(0,p.may)(Gb,e.proofOps),height:(0,p.may)(T.apiToSmallInt,e.height),code:(0,p.may)(T.apiToSmallInt,e.code),codespace:(0,p.assertString)(e.codespace??""),index:(0,p.may)(T.apiToSmallInt,e.index),log:e.log,info:(0,p.assertString)(e.info??"")}}function Lb(e){return{key:(0,p.assertNotEmpty)(e.key),value:e.value??""}}function Qb(e){return(0,p.assertArray)(e).map(Lb)}function eu(e){return{type:e.type,attributes:e.attributes?Qb(e.attributes):[]}}Ne.decodeEvent=eu;function Hs(e){return(0,p.assertArray)(e).map(eu)}function vr(e){return{code:(0,T.apiToSmallInt)((0,p.assertNumber)(e.code??0)),codespace:e.codespace,log:e.log,data:(0,p.may)(_.fromBase64,e.data),events:e.events?Hs(e.events):[],gasWanted:(0,T.apiToBigInt)(e.gas_wanted??"0"),gasUsed:(0,T.apiToBigInt)(e.gas_used??"0")}}function ha(e){if("Sum"in e){const[[t,r]]=Object.entries(e.Sum.value);return(0,Yc.assert)(t==="ed25519"||t==="secp256k1",`unknown pubkey type: ${t}`),{algorithm:t,data:(0,_.fromBase64)((0,p.assertNotEmpty)(r))}}else switch(e.type){case"tendermint/PubKeyEd25519":return{algorithm:"ed25519",data:(0,_.fromBase64)((0,p.assertNotEmpty)(e.value))};case"tendermint/PubKeySecp256k1":return{algorithm:"secp256k1",data:(0,_.fromBase64)((0,p.assertNotEmpty)(e.value))};default:throw new Error(`unknown pubkey type: ${e.type}`)}}function Kb(e){return{maxBytes:(0,T.apiToSmallInt)((0,p.assertNotEmpty)(e.max_bytes)),maxGas:(0,T.apiToSmallInt)((0,p.assertNotEmpty)(e.max_gas))}}function Zb(e){return{maxAgeNumBlocks:(0,T.apiToSmallInt)((0,p.assertNotEmpty)(e.max_age_num_blocks)),maxAgeDuration:(0,T.apiToSmallInt)((0,p.assertNotEmpty)(e.max_age_duration))}}function tu(e){return{block:Kb((0,p.assertObject)(e.block)),evidence:Zb((0,p.assertObject)(e.evidence))}}function ru(e){return{pubkey:ha((0,p.assertObject)(e.pub_key)),votingPower:(0,T.apiToBigInt)(e.power??"0")}}Ne.decodeValidatorUpdate=ru;function Xb(e){return{height:(0,T.apiToSmallInt)((0,p.assertNotEmpty)(e.height)),results:(e.txs_results||[]).map(vr),validatorUpdates:(e.validator_updates||[]).map(ru),consensusUpdates:(0,p.may)(tu,e.consensus_param_updates),beginBlockEvents:Hs(e.begin_block_events||[]),endBlockEvents:Hs(e.end_block_events||[])}}function Qo(e){return{hash:(0,_.fromHex)((0,p.assertNotEmpty)(e.hash)),parts:{total:(0,p.assertNotEmpty)(e.parts.total),hash:(0,_.fromHex)((0,p.assertNotEmpty)(e.parts.hash))}}}function Yb(e){return{block:(0,T.apiToSmallInt)(e.block),app:(0,T.apiToSmallInt)(e.app??0)}}function Ko(e){return{version:Yb(e.version),chainId:(0,p.assertNotEmpty)(e.chain_id),height:(0,T.apiToSmallInt)((0,p.assertNotEmpty)(e.height)),time:(0,Gr.fromRfc3339WithNanoseconds)((0,p.assertNotEmpty)(e.time)),lastBlockId:e.last_block_id.hash?Qo(e.last_block_id):null,lastCommitHash:(0,_.fromHex)((0,p.assertSet)(e.last_commit_hash)),dataHash:(0,_.fromHex)((0,p.assertSet)(e.data_hash)),validatorsHash:(0,_.fromHex)((0,p.assertSet)(e.validators_hash)),nextValidatorsHash:(0,_.fromHex)((0,p.assertSet)(e.next_validators_hash)),consensusHash:(0,_.fromHex)((0,p.assertSet)(e.consensus_hash)),appHash:(0,_.fromHex)((0,p.assertSet)(e.app_hash)),lastResultsHash:(0,_.fromHex)((0,p.assertSet)(e.last_results_hash)),evidenceHash:(0,_.fromHex)((0,p.assertSet)(e.evidence_hash)),proposerAddress:(0,_.fromHex)((0,p.assertNotEmpty)(e.proposer_address))}}function e0(e){return{blockId:Qo(e.block_id),blockSize:(0,T.apiToSmallInt)((0,p.assertNotEmpty)(e.block_size)),header:Ko(e.header),numTxs:(0,T.apiToSmallInt)((0,p.assertNotEmpty)(e.num_txs))}}function t0(e){return{lastHeight:(0,T.apiToSmallInt)((0,p.assertNotEmpty)(e.last_height)),blockMetas:(0,p.assertArray)(e.block_metas).map(e0)}}function r0(e){return{...vr(e),hash:(0,_.fromHex)((0,p.assertNotEmpty)(e.hash))}}function n0(e){return{height:(0,T.apiToSmallInt)(e.height),hash:(0,_.fromHex)((0,p.assertNotEmpty)(e.hash)),checkTx:vr((0,p.assertObject)(e.check_tx)),deliverTx:(0,p.may)(vr,e.deliver_tx)}}function o0(e){return(0,Yc.assert)(e in Fb.BlockIdFlag),e}function s0(e){return{blockIdFlag:o0(e.block_id_flag),validatorAddress:e.validator_address?(0,_.fromHex)(e.validator_address):void 0,timestamp:e.timestamp?(0,Gr.fromRfc3339WithNanoseconds)(e.timestamp):void 0,signature:e.signature?(0,_.fromBase64)(e.signature):void 0}}function nu(e){return{blockId:Qo((0,p.assertObject)(e.block_id)),height:(0,T.apiToSmallInt)((0,p.assertNotEmpty)(e.height)),round:(0,T.apiToSmallInt)(e.round),signatures:(0,p.assertArray)(e.signatures).map(s0)}}function a0(e){return{canonical:(0,p.assertBoolean)(e.canonical),header:Ko(e.signed_header.header),commit:nu(e.signed_header.commit)}}function ou(e){return{address:(0,_.fromHex)((0,p.assertNotEmpty)(e.address)),pubkey:ha((0,p.assertObject)(e.pub_key)),votingPower:(0,T.apiToBigInt)((0,p.assertNotEmpty)(e.power))}}Ne.decodeValidatorGenesis=ou;function i0(e){return{genesisTime:(0,Gr.fromRfc3339WithNanoseconds)((0,p.assertNotEmpty)(e.genesis_time)),chainId:(0,p.assertNotEmpty)(e.chain_id),consensusParams:tu(e.consensus_params),validators:e.validators?(0,p.assertArray)(e.validators).map(ou):[],appHash:(0,_.fromHex)((0,p.assertSet)(e.app_hash)),appState:e.app_state}}function fa(e){return{pubkey:ha((0,p.assertObject)(e.pub_key)),votingPower:(0,T.apiToBigInt)((0,p.assertNotEmpty)(e.voting_power)),address:(0,_.fromHex)((0,p.assertNotEmpty)(e.address)),proposerPriority:e.proposer_priority?(0,T.apiToSmallInt)(e.proposer_priority):void 0}}Ne.decodeValidatorInfo=fa;function c0(e){return{id:(0,_.fromHex)((0,p.assertNotEmpty)(e.id)),listenAddr:(0,p.assertNotEmpty)(e.listen_addr),network:(0,p.assertNotEmpty)(e.network),version:(0,p.assertString)(e.version),channels:(0,p.assertNotEmpty)(e.channels),moniker:(0,p.assertNotEmpty)(e.moniker),other:(0,p.dictionaryToStringMap)(e.other),protocolVersion:{app:(0,T.apiToSmallInt)((0,p.assertNotEmpty)(e.protocol_version.app)),block:(0,T.apiToSmallInt)((0,p.assertNotEmpty)(e.protocol_version.block)),p2p:(0,T.apiToSmallInt)((0,p.assertNotEmpty)(e.protocol_version.p2p))}}}function u0(e){const t=e.earliest_block_height?(0,T.apiToSmallInt)(e.earliest_block_height):void 0,r=e.earliest_block_time?(0,Gr.fromRfc3339WithNanoseconds)(e.earliest_block_time):void 0;return{earliestAppHash:e.earliest_app_hash?(0,_.fromHex)(e.earliest_app_hash):void 0,earliestBlockHash:e.earliest_block_hash?(0,_.fromHex)(e.earliest_block_hash):void 0,earliestBlockHeight:t||void 0,earliestBlockTime:r!=null&&r.getTime()?r:void 0,latestBlockHash:(0,_.fromHex)((0,p.assertNotEmpty)(e.latest_block_hash)),latestAppHash:(0,_.fromHex)((0,p.assertNotEmpty)(e.latest_app_hash)),latestBlockTime:(0,Gr.fromRfc3339WithNanoseconds)((0,p.assertNotEmpty)(e.latest_block_time)),latestBlockHeight:(0,T.apiToSmallInt)((0,p.assertNotEmpty)(e.latest_block_height)),catchingUp:(0,p.assertBoolean)(e.catching_up)}}function d0(e){return{nodeInfo:c0(e.node_info),syncInfo:u0(e.sync_info),validatorInfo:fa(e.validator_info)}}function l0(e){return{data:(0,_.fromBase64)((0,p.assertNotEmpty)(e.data)),rootHash:(0,_.fromHex)((0,p.assertNotEmpty)(e.root_hash)),proof:{total:(0,T.apiToSmallInt)((0,p.assertNotEmpty)(e.proof.total)),index:(0,T.apiToSmallInt)((0,p.assertNotEmpty)(e.proof.index)),leafHash:(0,_.fromBase64)((0,p.assertNotEmpty)(e.proof.leaf_hash)),aunts:(0,p.assertArray)(e.proof.aunts).map(_.fromBase64)}}}function su(e){return{tx:(0,_.fromBase64)((0,p.assertNotEmpty)(e.tx)),result:vr((0,p.assertObject)(e.tx_result)),height:(0,T.apiToSmallInt)((0,p.assertNotEmpty)(e.height)),index:(0,T.apiToSmallInt)((0,p.assertNumber)(e.index)),hash:(0,_.fromHex)((0,p.assertNotEmpty)(e.hash)),proof:(0,p.may)(l0,e.proof)}}function p0(e){return{totalCount:(0,T.apiToSmallInt)((0,p.assertNotEmpty)(e.total_count)),txs:(0,p.assertArray)(e.txs).map(su)}}function m0(e){const t=(0,_.fromBase64)((0,p.assertNotEmpty)(e.tx));return{tx:t,hash:(0,Wb.hashTx)(t),result:vr(e.result),height:(0,T.apiToSmallInt)((0,p.assertNotEmpty)(e.height))}}function h0(e){return{blockHeight:(0,T.apiToSmallInt)((0,p.assertNotEmpty)(e.block_height)),validators:(0,p.assertArray)(e.validators).map(fa),count:(0,T.apiToSmallInt)((0,p.assertNotEmpty)(e.count)),total:(0,T.apiToSmallInt)((0,p.assertNotEmpty)(e.total))}}function au(e){var t;return{header:Ko((0,p.assertObject)(e.header)),lastCommit:e.last_commit.block_id.hash?nu((0,p.assertObject)(e.last_commit)):null,txs:e.data.txs?(0,p.assertArray)(e.data.txs).map(_.fromBase64):[],evidence:((t=e.evidence)==null?void 0:t.evidence)??[]}}function iu(e){return{blockId:Qo(e.block_id),block:au(e.block)}}function f0(e){return{totalCount:(0,T.apiToSmallInt)((0,p.assertNotEmpty)(e.total_count)),blocks:(0,p.assertArray)(e.blocks).map(iu)}}function g0(e){return{total:(0,T.apiToSmallInt)((0,p.assertNotEmpty)(e.total)),totalBytes:(0,T.apiToSmallInt)((0,p.assertNotEmpty)(e.total_bytes))}}class ga{static decodeAbciInfo(t){return Jb((0,p.assertObject)(t.result.response))}static decodeAbciQuery(t){return zb((0,p.assertObject)(t.result.response))}static decodeBlock(t){return iu(t.result)}static decodeBlockResults(t){return Xb(t.result)}static decodeBlockSearch(t){return f0(t.result)}static decodeBlockchain(t){return t0(t.result)}static decodeBroadcastTxSync(t){return r0(t.result)}static decodeBroadcastTxAsync(t){return ga.decodeBroadcastTxSync(t)}static decodeBroadcastTxCommit(t){return n0(t.result)}static decodeCommit(t){return a0(t.result)}static decodeGenesis(t){return i0((0,p.assertObject)(t.result.genesis))}static decodeHealth(){return null}static decodeNumUnconfirmedTxs(t){return g0(t.result)}static decodeStatus(t){return d0(t.result)}static decodeNewBlockEvent(t){return au(t.data.value.block)}static decodeNewBlockHeaderEvent(t){return Ko(t.data.value.header)}static decodeTxEvent(t){return m0(t.data.value.TxResult)}static decodeTx(t){return su(t.result)}static decodeTxSearch(t){return p0(t.result)}static decodeValidators(t){return h0(t.result)}}Ne.Responses=ga;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Responses=e.Params=void 0;var t=Lo;Object.defineProperty(e,"Params",{enumerable:!0,get:function(){return t.Params}});var r=Ne;Object.defineProperty(e,"Responses",{enumerable:!0,get:function(){return r.Responses}})})(Xc);var y0=h&&h.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),b0=h&&h.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),v0=h&&h.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&y0(t,e,r);return b0(t,e),t};Object.defineProperty(zo,"__esModule",{value:!0});zo.Tendermint37Client=void 0;const w0=st,Tn=tn,j=Xc,G=v0(Go);class Vn{static async connect(t){let r;return typeof t=="object"?r=new Tn.HttpClient(t):r=t.startsWith("http://")||t.startsWith("https://")?new Tn.HttpClient(t):new Tn.WebsocketClient(t),await this.detectVersion(r),Vn.create(r)}static async create(t){return new Vn(t)}static async detectVersion(t){const r=(0,w0.createJsonRpcRequest)(G.Method.Status),n=(await t.execute(r)).result;if(!n||!n.node_info)throw new Error("Unrecognized format for status response");const o=n.node_info.version;if(typeof o!="string")throw new Error("Unrecognized version format: must be string");return o}constructor(t){this.client=t}disconnect(){this.client.disconnect()}async abciInfo(){const t={method:G.Method.AbciInfo};return this.doCall(t,j.Params.encodeAbciInfo,j.Responses.decodeAbciInfo)}async abciQuery(t){const r={params:t,method:G.Method.AbciQuery};return this.doCall(r,j.Params.encodeAbciQuery,j.Responses.decodeAbciQuery)}async block(t){const r={method:G.Method.Block,params:{height:t}};return this.doCall(r,j.Params.encodeBlock,j.Responses.decodeBlock)}async blockResults(t){const r={method:G.Method.BlockResults,params:{height:t}};return this.doCall(r,j.Params.encodeBlockResults,j.Responses.decodeBlockResults)}async blockSearch(t){const r={params:t,method:G.Method.BlockSearch},n=await this.doCall(r,j.Params.encodeBlockSearch,j.Responses.decodeBlockSearch);return{...n,blocks:[...n.blocks].sort((o,s)=>o.block.header.height-s.block.header.height)}}async blockSearchAll(t){let r=t.page||1;const n=[];let o=!1;for(;!o;){const s=await this.blockSearch({...t,page:r});n.push(...s.blocks),n.length<s.totalCount?r++:o=!0}return n.sort((s,a)=>s.block.header.height-a.block.header.height),{totalCount:n.length,blocks:n}}async blockchain(t,r){const n={method:G.Method.Blockchain,params:{minHeight:t,maxHeight:r}};return this.doCall(n,j.Params.encodeBlockchain,j.Responses.decodeBlockchain)}async broadcastTxSync(t){const r={params:t,method:G.Method.BroadcastTxSync};return this.doCall(r,j.Params.encodeBroadcastTx,j.Responses.decodeBroadcastTxSync)}async broadcastTxAsync(t){const r={params:t,method:G.Method.BroadcastTxAsync};return this.doCall(r,j.Params.encodeBroadcastTx,j.Responses.decodeBroadcastTxAsync)}async broadcastTxCommit(t){const r={params:t,method:G.Method.BroadcastTxCommit};return this.doCall(r,j.Params.encodeBroadcastTx,j.Responses.decodeBroadcastTxCommit)}async commit(t){const r={method:G.Method.Commit,params:{height:t}};return this.doCall(r,j.Params.encodeCommit,j.Responses.decodeCommit)}async genesis(){const t={method:G.Method.Genesis};return this.doCall(t,j.Params.encodeGenesis,j.Responses.decodeGenesis)}async health(){const t={method:G.Method.Health};return this.doCall(t,j.Params.encodeHealth,j.Responses.decodeHealth)}async numUnconfirmedTxs(){const t={method:G.Method.NumUnconfirmedTxs};return this.doCall(t,j.Params.encodeNumUnconfirmedTxs,j.Responses.decodeNumUnconfirmedTxs)}async status(){const t={method:G.Method.Status};return this.doCall(t,j.Params.encodeStatus,j.Responses.decodeStatus)}subscribeNewBlock(){const t={method:G.Method.Subscribe,query:{type:G.SubscriptionEventType.NewBlock}};return this.subscribe(t,j.Responses.decodeNewBlockEvent)}subscribeNewBlockHeader(){const t={method:G.Method.Subscribe,query:{type:G.SubscriptionEventType.NewBlockHeader}};return this.subscribe(t,j.Responses.decodeNewBlockHeaderEvent)}subscribeTx(t){const r={method:G.Method.Subscribe,query:{type:G.SubscriptionEventType.Tx,raw:t}};return this.subscribe(r,j.Responses.decodeTxEvent)}async tx(t){const r={params:t,method:G.Method.Tx};return this.doCall(r,j.Params.encodeTx,j.Responses.decodeTx)}async txSearch(t){const r={params:t,method:G.Method.TxSearch};return this.doCall(r,j.Params.encodeTxSearch,j.Responses.decodeTxSearch)}async txSearchAll(t){let r=t.page||1;const n=[];let o=!1;for(;!o;){const s=await this.txSearch({...t,page:r});n.push(...s.txs),n.length<s.totalCount?r++:o=!0}return{totalCount:n.length,txs:n}}async validators(t){const r={method:G.Method.Validators,params:t};return this.doCall(r,j.Params.encodeValidators,j.Responses.decodeValidators)}async validatorsAll(t){const r=[];let n=1,o=!1,s=t;for(;!o;){const a=await this.validators({per_page:50,height:s,page:n});r.push(...a.validators),s=s||a.blockHeight,r.length<a.total?n++:o=!0}return{blockHeight:s??0,count:r.length,total:r.length,validators:r}}async doCall(t,r,n){const o=r(t),s=await this.client.execute(o);return n(s)}subscribe(t,r){if(!(0,Tn.instanceOfRpcStreamingClient)(this.client))throw new Error("This RPC client type cannot subscribe to events");const n=j.Params.encodeSubscribe(t);return this.client.listen(n).map(o=>r(o))}}zo.Tendermint37Client=Vn;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Tendermint37Client=e.VoteType=e.broadcastTxSyncSuccess=e.broadcastTxCommitSuccess=e.SubscriptionEventType=e.Method=void 0;var t=Go;Object.defineProperty(e,"Method",{enumerable:!0,get:function(){return t.Method}}),Object.defineProperty(e,"SubscriptionEventType",{enumerable:!0,get:function(){return t.SubscriptionEventType}});var r=Zc;Object.defineProperty(e,"broadcastTxCommitSuccess",{enumerable:!0,get:function(){return r.broadcastTxCommitSuccess}}),Object.defineProperty(e,"broadcastTxSyncSuccess",{enumerable:!0,get:function(){return r.broadcastTxSyncSuccess}}),Object.defineProperty(e,"VoteType",{enumerable:!0,get:function(){return r.VoteType}});var n=zo;Object.defineProperty(e,"Tendermint37Client",{enumerable:!0,get:function(){return n.Tendermint37Client}})})(Hn);var Ze={};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.connectComet=Ze.isComet38Client=Ze.isTendermint37Client=Ze.isTendermint34Client=void 0;const cu=Rn,uu=Vr,du=Hn;function k0(e){return e instanceof uu.Tendermint34Client}Ze.isTendermint34Client=k0;function S0(e){return e instanceof du.Tendermint37Client}Ze.isTendermint37Client=S0;function P0(e){return e instanceof cu.Comet38Client}Ze.isComet38Client=P0;async function A0(e){let t;const r=await du.Tendermint37Client.connect(e),n=(await r.status()).nodeInfo.version;return n.startsWith("0.37.")?t=r:n.startsWith("0.38.")?(r.disconnect(),t=await cu.Comet38Client.connect(e)):(r.disconnect(),t=await uu.Tendermint34Client.connect(e)),t}Ze.connectComet=A0;(function(e){var t=h&&h.__createBinding||(Object.create?function(M,$,y,g){g===void 0&&(g=y);var v=Object.getOwnPropertyDescriptor($,y);(!v||("get"in v?!$.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return $[y]}}),Object.defineProperty(M,g,v)}:function(M,$,y,g){g===void 0&&(g=y),M[g]=$[y]}),r=h&&h.__setModuleDefault||(Object.create?function(M,$){Object.defineProperty(M,"default",{enumerable:!0,value:$})}:function(M,$){M.default=$}),n=h&&h.__importStar||function(M){if(M&&M.__esModule)return M;var $={};if(M!=null)for(var y in M)y!=="default"&&Object.prototype.hasOwnProperty.call(M,y)&&t($,M,y);return r($,M),$};Object.defineProperty(e,"__esModule",{value:!0}),e.BlockIdFlag=e.isTendermint37Client=e.isTendermint34Client=e.isComet38Client=e.connectComet=e.Tendermint37Client=e.tendermint37=e.Tendermint34Client=e.tendermint34=e.VoteType=e.SubscriptionEventType=e.Method=e.broadcastTxSyncSuccess=e.broadcastTxCommitSuccess=e.WebsocketClient=e.HttpClient=e.HttpBatchClient=e.Comet38Client=e.comet38=e.toSeconds=e.toRfc3339WithNanoseconds=e.fromSeconds=e.fromRfc3339WithNanoseconds=e.DateTime=e.rawSecp256k1PubkeyToRawAddress=e.rawEd25519PubkeyToRawAddress=e.pubkeyToRawAddress=e.pubkeyToAddress=void 0;var o=Ke;Object.defineProperty(e,"pubkeyToAddress",{enumerable:!0,get:function(){return o.pubkeyToAddress}}),Object.defineProperty(e,"pubkeyToRawAddress",{enumerable:!0,get:function(){return o.pubkeyToRawAddress}}),Object.defineProperty(e,"rawEd25519PubkeyToRawAddress",{enumerable:!0,get:function(){return o.rawEd25519PubkeyToRawAddress}}),Object.defineProperty(e,"rawSecp256k1PubkeyToRawAddress",{enumerable:!0,get:function(){return o.rawSecp256k1PubkeyToRawAddress}});var s=se;Object.defineProperty(e,"DateTime",{enumerable:!0,get:function(){return s.DateTime}}),Object.defineProperty(e,"fromRfc3339WithNanoseconds",{enumerable:!0,get:function(){return s.fromRfc3339WithNanoseconds}}),Object.defineProperty(e,"fromSeconds",{enumerable:!0,get:function(){return s.fromSeconds}}),Object.defineProperty(e,"toRfc3339WithNanoseconds",{enumerable:!0,get:function(){return s.toRfc3339WithNanoseconds}}),Object.defineProperty(e,"toSeconds",{enumerable:!0,get:function(){return s.toSeconds}}),e.comet38=n(Rn);var a=Rn;Object.defineProperty(e,"Comet38Client",{enumerable:!0,get:function(){return a.Comet38Client}});var c=tn;Object.defineProperty(e,"HttpBatchClient",{enumerable:!0,get:function(){return c.HttpBatchClient}}),Object.defineProperty(e,"HttpClient",{enumerable:!0,get:function(){return c.HttpClient}}),Object.defineProperty(e,"WebsocketClient",{enumerable:!0,get:function(){return c.WebsocketClient}});var i=Vr;Object.defineProperty(e,"broadcastTxCommitSuccess",{enumerable:!0,get:function(){return i.broadcastTxCommitSuccess}}),Object.defineProperty(e,"broadcastTxSyncSuccess",{enumerable:!0,get:function(){return i.broadcastTxSyncSuccess}}),Object.defineProperty(e,"Method",{enumerable:!0,get:function(){return i.Method}}),Object.defineProperty(e,"SubscriptionEventType",{enumerable:!0,get:function(){return i.SubscriptionEventType}}),Object.defineProperty(e,"VoteType",{enumerable:!0,get:function(){return i.VoteType}}),e.tendermint34=n(Vr);var u=Vr;Object.defineProperty(e,"Tendermint34Client",{enumerable:!0,get:function(){return u.Tendermint34Client}}),e.tendermint37=n(Hn);var d=Hn;Object.defineProperty(e,"Tendermint37Client",{enumerable:!0,get:function(){return d.Tendermint37Client}});var f=Ze;Object.defineProperty(e,"connectComet",{enumerable:!0,get:function(){return f.connectComet}}),Object.defineProperty(e,"isComet38Client",{enumerable:!0,get:function(){return f.isComet38Client}}),Object.defineProperty(e,"isTendermint34Client",{enumerable:!0,get:function(){return f.isTendermint34Client}}),Object.defineProperty(e,"isTendermint37Client",{enumerable:!0,get:function(){return f.isTendermint37Client}});var E=sn;Object.defineProperty(e,"BlockIdFlag",{enumerable:!0,get:function(){return E.BlockIdFlag}})})(ea);var X={};Object.defineProperty(X,"__esModule",{value:!0});X.StargateClient=X.BroadcastTxError=X.assertIsDeliverTxFailure=X.assertIsDeliverTxSuccess=X.isDeliverTxSuccess=X.isDeliverTxFailure=X.TimeoutError=void 0;const T0=ot,ys=N,ui=Y,di=ea,li=Z,E0=dd,x0=zr,_0=Xr,En=Fr,M0=ae,O0=en;class lu extends Error{constructor(t,r){super(t),this.txId=r}}X.TimeoutError=lu;function ya(e){return!!e.code}X.isDeliverTxFailure=ya;function pu(e){return!ya(e)}X.isDeliverTxSuccess=pu;function C0(e){if(ya(e))throw new Error(`Error when broadcasting tx ${e.transactionHash} at height ${e.height}. Code: ${e.code}; Raw log: ${e.rawLog}`)}X.assertIsDeliverTxSuccess=C0;function j0(e){if(pu(e))throw new Error(`Transaction ${e.transactionHash} did not fail at height ${e.height}. Code: ${e.code}; Raw log: ${e.rawLog}`)}X.assertIsDeliverTxFailure=j0;class mu extends Error{constructor(t,r,n){super(`Broadcasting transaction failed with code ${t} (codespace: ${r}). Log: ${n}`),this.code=t,this.codespace=r,this.log=n}}X.BroadcastTxError=mu;class qn{static async connect(t,r={}){const n=await(0,di.connectComet)(t);return qn.create(n,r)}static async create(t,r={}){return new qn(t,r)}constructor(t,r){t&&(this.cometClient=t,this.queryClient=M0.QueryClient.withExtensions(t,En.setupAuthExtension,En.setupBankExtension,En.setupStakingExtension,En.setupTxExtension));const{accountParser:n=x0.accountFromAny}=r;this.accountParser=n}getCometClient(){return this.cometClient}forceGetCometClient(){if(!this.cometClient)throw new Error("Comet client not available. You cannot use online functionality in offline mode.");return this.cometClient}getQueryClient(){return this.queryClient}forceGetQueryClient(){if(!this.queryClient)throw new Error("Query client not available. You cannot use online functionality in offline mode.");return this.queryClient}async getChainId(){if(!this.chainId){const t=(await this.forceGetCometClient().status()).nodeInfo.network;if(!t)throw new Error("Chain ID must not be empty");this.chainId=t}return this.chainId}async getHeight(){return(await this.forceGetCometClient().status()).syncInfo.latestBlockHeight}async getAccount(t){try{const r=await this.forceGetQueryClient().auth.account(t);return r?this.accountParser(r):null}catch(r){if(/rpc error: code = NotFound/i.test(r.toString()))return null;throw r}}async getSequence(t){const r=await this.getAccount(t);if(!r)throw new Error(`Account '${t}' does not exist on chain. Send some tokens there before trying to query sequence.`);return{accountNumber:r.accountNumber,sequence:r.sequence}}async getBlock(t){const r=await this.forceGetCometClient().block(t);return{id:(0,ys.toHex)(r.blockId.hash).toUpperCase(),header:{version:{block:new ui.Uint53(r.block.header.version.block).toString(),app:new ui.Uint53(r.block.header.version.app).toString()},height:r.block.header.height,chainId:r.block.header.chainId,time:(0,di.toRfc3339WithNanoseconds)(r.block.header.time)},txs:r.block.txs}}async getBalance(t,r){return this.forceGetQueryClient().bank.balance(t,r)}async getAllBalances(t){return this.forceGetQueryClient().bank.allBalances(t)}async getBalanceStaked(t){const r=[];let n;do{const{delegationResponses:o,pagination:s}=await this.forceGetQueryClient().staking.delegatorDelegations(t,n),a=o||[];r.push(...a),n=s==null?void 0:s.nextKey}while(n!==void 0&&n.length!==0);return r.reduce((o,s)=>((0,li.assert)(s.balance),o!==null?(0,T0.addCoins)(o,s.balance):s.balance),null)}async getDelegation(t,r){var n;let o;try{o=(n=(await this.forceGetQueryClient().staking.delegation(t,r)).delegationResponse)==null?void 0:n.balance}catch(s){if(!s.toString().includes("key not found"))throw s}return o||null}async getTx(t){return(await this.txsQuery(`tx.hash='${t}'`))[0]??null}async searchTx(t){let r;if(typeof t=="string")r=t;else if((0,O0.isSearchTxQueryArray)(t))r=t.map(n=>typeof n.value=="string"?`${n.key}='${n.value}'`:`${n.key}=${n.value}`).join(" AND ");else throw new Error("Got unsupported query type. See CosmJS 0.31 CHANGELOG for API breaking changes here.");return this.txsQuery(r)}disconnect(){this.cometClient&&this.cometClient.disconnect()}async broadcastTx(t,r=6e4,n=3e3){let o=!1;const s=setTimeout(()=>{o=!0},r),a=async i=>{if(o)throw new lu(`Transaction with ID ${i} was submitted but was not yet found on the chain. You might want to check later. There was a wait of ${r/1e3} seconds.`,i);await(0,li.sleep)(n);const u=await this.getTx(i);return u?{code:u.code,height:u.height,txIndex:u.txIndex,events:u.events,rawLog:u.rawLog,transactionHash:i,msgResponses:u.msgResponses,gasUsed:u.gasUsed,gasWanted:u.gasWanted}:a(i)},c=await this.broadcastTxSync(t);return new Promise((i,u)=>a(c).then(d=>{clearTimeout(s),i(d)},d=>{clearTimeout(s),u(d)}))}async broadcastTxSync(t){const r=await this.forceGetCometClient().broadcastTxSync({tx:t});return r.code?Promise.reject(new mu(r.code,r.codespace??"",r.log)):(0,ys.toHex)(r.hash).toUpperCase()}async txsQuery(t){return(await this.forceGetCometClient().txSearchAll({query:t})).txs.map(r=>{const n=E0.TxMsgData.decode(r.result.data??new Uint8Array);return{height:r.height,txIndex:r.index,hash:(0,ys.toHex)(r.hash).toUpperCase(),code:r.result.code,events:r.result.events.map(_0.fromTendermintEvent),rawLog:r.result.log||"",tx:r.tx,msgResponses:n.msgResponses,gasUsed:r.result.gasUsed,gasWanted:r.result.gasWanted}})}}X.StargateClient=qn;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SigningStargateClient=e.createDefaultAminoConverters=e.defaultRegistryTypes=void 0;const t=ot,r=N,n=Y,o=bt,s=ea,a=Z,c=hi,i=yi,u=bi,d=Wn,f=jt,E=Fn,M=Zr,$=Ot,y=Fr,g=Fr,v=X;e.defaultRegistryTypes=[["/cosmos.base.v1beta1.Coin",c.Coin],...y.authzTypes,...y.bankTypes,...y.distributionTypes,...y.feegrantTypes,...y.govTypes,...y.groupTypes,...y.stakingTypes,...y.ibcTypes,...y.vestingTypes];function H(){return{...(0,g.createAuthzAminoConverters)(),...(0,g.createBankAminoConverters)(),...(0,g.createDistributionAminoConverters)(),...(0,g.createGovAminoConverters)(),...(0,g.createStakingAminoConverters)(),...(0,g.createIbcAminoConverters)(),...(0,g.createFeegrantAminoConverters)(),...(0,g.createVestingAminoConverters)()}}e.createDefaultAminoConverters=H;class D extends v.StargateClient{static async connectWithSigner(b,k,w={}){const U=await(0,s.connectComet)(b);return D.createWithSigner(U,k,w)}static async createWithSigner(b,k,w={}){return new D(b,k,w)}static async offline(b,k={}){return new D(void 0,b,k)}constructor(b,k,w){super(b,w);const{registry:U=new o.Registry(e.defaultRegistryTypes),aminoTypes:V=new M.AminoTypes(H())}=w;this.registry=U,this.aminoTypes=V,this.signer=k,this.broadcastTimeoutMs=w.broadcastTimeoutMs,this.broadcastPollIntervalMs=w.broadcastPollIntervalMs,this.gasPrice=w.gasPrice}async simulate(b,k,w){const U=k.map(K=>this.registry.encodeAsAny(K)),V=(await this.signer.getAccounts()).find(K=>K.address===b);if(!V)throw new Error("Failed to retrieve account from signer");const q=(0,t.encodeSecp256k1Pubkey)(V.pubkey),{sequence:F}=await this.getSequence(b),{gasInfo:z}=await this.forceGetQueryClient().tx.simulate(U,w,q,F);return(0,a.assertDefined)(z),n.Uint53.fromString(z.gasUsed.toString()).toNumber()}async sendTokens(b,k,w,U,V=""){const q={typeUrl:"/cosmos.bank.v1beta1.MsgSend",value:{fromAddress:b,toAddress:k,amount:[...w]}};return this.signAndBroadcast(b,[q],U,V)}async delegateTokens(b,k,w,U,V=""){const q={typeUrl:"/cosmos.staking.v1beta1.MsgDelegate",value:u.MsgDelegate.fromPartial({delegatorAddress:b,validatorAddress:k,amount:w})};return this.signAndBroadcast(b,[q],U,V)}async undelegateTokens(b,k,w,U,V=""){const q={typeUrl:"/cosmos.staking.v1beta1.MsgUndelegate",value:u.MsgUndelegate.fromPartial({delegatorAddress:b,validatorAddress:k,amount:w})};return this.signAndBroadcast(b,[q],U,V)}async withdrawRewards(b,k,w,U=""){const V={typeUrl:"/cosmos.distribution.v1beta1.MsgWithdrawDelegatorReward",value:i.MsgWithdrawDelegatorReward.fromPartial({delegatorAddress:b,validatorAddress:k})};return this.signAndBroadcast(b,[V],w,U)}async sendIbcTokens(b,k,w,U,V,q,F,z,K=""){const Se=F?BigInt(F)*BigInt(1e9):void 0,at={typeUrl:"/ibc.applications.transfer.v1.MsgTransfer",value:E.MsgTransfer.fromPartial({sourcePort:U,sourceChannel:V,sender:b,receiver:k,token:w,timeoutHeight:q,timeoutTimestamp:Se})};return this.signAndBroadcast(b,[at],z,K)}async signAndBroadcast(b,k,w,U="",V){let q;if(w=="auto"||typeof w=="number"){(0,a.assertDefined)(this.gasPrice,"Gas price must be set in the client options when auto gas is used.");const K=await this.simulate(b,k,U),Se=typeof w=="number"?w:1.4;q=(0,$.calculateFee)(Math.round(K*Se),this.gasPrice)}else q=w;const F=await this.sign(b,k,q,U,void 0,V),z=f.TxRaw.encode(F).finish();return this.broadcastTx(z,this.broadcastTimeoutMs,this.broadcastPollIntervalMs)}async signAndBroadcastSync(b,k,w,U="",V){let q;if(w=="auto"||typeof w=="number"){(0,a.assertDefined)(this.gasPrice,"Gas price must be set in the client options when auto gas is used.");const K=await this.simulate(b,k,U),Se=typeof w=="number"?w:1.3;q=(0,$.calculateFee)(Math.round(K*Se),this.gasPrice)}else q=w;const F=await this.sign(b,k,q,U,void 0,V),z=f.TxRaw.encode(F).finish();return this.broadcastTxSync(z)}async sign(b,k,w,U,V,q){let F;if(V)F=V;else{const{accountNumber:z,sequence:K}=await this.getSequence(b),Se=await this.getChainId();F={accountNumber:z,sequence:K,chainId:Se}}return(0,o.isOfflineDirectSigner)(this.signer)?this.signDirect(b,k,w,U,F,q):this.signAmino(b,k,w,U,F,q)}async signAmino(b,k,w,U,{accountNumber:V,sequence:q,chainId:F},z){(0,a.assert)(!(0,o.isOfflineDirectSigner)(this.signer));const K=(await this.signer.getAccounts()).find(Sr=>Sr.address===b);if(!K)throw new Error("Failed to retrieve account from signer");const Se=(0,o.encodePubkey)((0,t.encodeSecp256k1Pubkey)(K.pubkey)),at=d.SignMode.SIGN_MODE_LEGACY_AMINO_JSON,kr=k.map(Sr=>this.aminoTypes.toAmino(Sr)),Zo=(0,t.makeSignDoc)(kr,w,F,U,V,q,z),{signature:Xo,signed:Ye}=await this.signer.signAmino(b,Zo),Yo={typeUrl:"/cosmos.tx.v1beta1.TxBody",value:{messages:Ye.msgs.map(Sr=>this.aminoTypes.fromAmino(Sr)),memo:Ye.memo,timeoutHeight:z}},an=this.registry.encode(Yo),es=n.Int53.fromString(Ye.fee.gas).toNumber(),hu=n.Int53.fromString(Ye.sequence).toNumber(),fu=(0,o.makeAuthInfoBytes)([{pubkey:Se,sequence:hu}],Ye.fee.amount,es,Ye.fee.granter,Ye.fee.payer,at);return f.TxRaw.fromPartial({bodyBytes:an,authInfoBytes:fu,signatures:[(0,r.fromBase64)(Xo.signature)]})}async signDirect(b,k,w,U,{accountNumber:V,sequence:q,chainId:F},z){(0,a.assert)((0,o.isOfflineDirectSigner)(this.signer));const K=(await this.signer.getAccounts()).find(es=>es.address===b);if(!K)throw new Error("Failed to retrieve account from signer");const Se=(0,o.encodePubkey)((0,t.encodeSecp256k1Pubkey)(K.pubkey)),at={typeUrl:"/cosmos.tx.v1beta1.TxBody",value:{messages:k,memo:U,timeoutHeight:z}},kr=this.registry.encode(at),Zo=n.Int53.fromString(w.gas).toNumber(),Xo=(0,o.makeAuthInfoBytes)([{pubkey:Se,sequence:q}],w.amount,Zo,w.granter,w.payer),Ye=(0,o.makeSignDoc)(kr,Xo,F,V),{signature:Yo,signed:an}=await this.signer.signDirect(b,Ye);return f.TxRaw.fromPartial({bodyBytes:an.bodyBytes,authInfoBytes:an.authInfoBytes,signatures:[(0,r.fromBase64)(Yo.signature)]})}}e.SigningStargateClient=D})(mc);(function(e){var t=h&&h.__createBinding||(Object.create?function(y,g,v,H){H===void 0&&(H=v);var D=Object.getOwnPropertyDescriptor(g,v);(!D||("get"in D?!g.__esModule:D.writable||D.configurable))&&(D={enumerable:!0,get:function(){return g[v]}}),Object.defineProperty(y,H,D)}:function(y,g,v,H){H===void 0&&(H=v),y[H]=g[v]}),r=h&&h.__setModuleDefault||(Object.create?function(y,g){Object.defineProperty(y,"default",{enumerable:!0,value:g})}:function(y,g){y.default=g}),n=h&&h.__importStar||function(y){if(y&&y.__esModule)return y;var g={};if(y!=null)for(var v in y)v!=="default"&&Object.prototype.hasOwnProperty.call(y,v)&&t(g,y,v);return r(g,y),g};Object.defineProperty(e,"__esModule",{value:!0}),e.isMsgWithdrawDelegatorRewardEncodeObject=e.isMsgVoteWeightedEncodeObject=e.isMsgVoteEncodeObject=e.isMsgUndelegateEncodeObject=e.isMsgTransferEncodeObject=e.isMsgSubmitProposalEncodeObject=e.isMsgSendEncodeObject=e.isMsgEditValidatorEncodeObject=e.isMsgDepositEncodeObject=e.isMsgDelegateEncodeObject=e.isMsgCreateValidatorEncodeObject=e.isMsgBeginRedelegateEncodeObject=e.isAminoMsgWithdrawValidatorCommission=e.isAminoMsgWithdrawDelegatorReward=e.isAminoMsgVoteWeighted=e.isAminoMsgVote=e.isAminoMsgVerifyInvariant=e.isAminoMsgUnjail=e.isAminoMsgUndelegate=e.isAminoMsgTransfer=e.isAminoMsgSubmitProposal=e.isAminoMsgSubmitEvidence=e.isAminoMsgSetWithdrawAddress=e.isAminoMsgSend=e.isAminoMsgMultiSend=e.isAminoMsgFundCommunityPool=e.isAminoMsgEditValidator=e.isAminoMsgDeposit=e.isAminoMsgDelegate=e.isAminoMsgCreateVestingAccount=e.isAminoMsgCreateValidator=e.isAminoMsgBeginRedelegate=e.createVestingAminoConverters=e.createStakingAminoConverters=e.createSlashingAminoConverters=e.createIbcAminoConverters=e.createGroupAminoConverters=e.createGovAminoConverters=e.createFeegrantAminoConverters=e.createEvidenceAminoConverters=e.createDistributionAminoConverters=e.createCrysisAminoConverters=e.createBankAminoConverters=e.createAuthzAminoConverters=e.logs=e.GasPrice=e.calculateFee=e.fromTendermintEvent=e.AminoTypes=e.accountFromAny=void 0,e.parseCoins=e.makeCosmoshubPath=e.coins=e.coin=e.TimeoutError=e.StargateClient=e.isDeliverTxSuccess=e.isDeliverTxFailure=e.BroadcastTxError=e.assertIsDeliverTxSuccess=e.assertIsDeliverTxFailure=e.SigningStargateClient=e.defaultRegistryTypes=e.createDefaultAminoConverters=e.isSearchTxQueryArray=e.QueryClient=e.decodeCosmosSdkDecFromProto=e.createProtobufRpcClient=e.createPagination=e.makeMultisignedTxBytes=e.makeMultisignedTx=e.setupTxExtension=e.setupStakingExtension=e.setupSlashingExtension=e.setupMintExtension=e.setupIbcExtension=e.setupGovExtension=e.setupFeegrantExtension=e.setupDistributionExtension=e.setupBankExtension=e.setupAuthzExtension=e.setupAuthExtension=void 0;var o=zr;Object.defineProperty(e,"accountFromAny",{enumerable:!0,get:function(){return o.accountFromAny}});var s=Zr;Object.defineProperty(e,"AminoTypes",{enumerable:!0,get:function(){return s.AminoTypes}});var a=Xr;Object.defineProperty(e,"fromTendermintEvent",{enumerable:!0,get:function(){return a.fromTendermintEvent}});var c=Ot;Object.defineProperty(e,"calculateFee",{enumerable:!0,get:function(){return c.calculateFee}}),Object.defineProperty(e,"GasPrice",{enumerable:!0,get:function(){return c.GasPrice}}),e.logs=n(fe);var i=Fr;Object.defineProperty(e,"createAuthzAminoConverters",{enumerable:!0,get:function(){return i.createAuthzAminoConverters}}),Object.defineProperty(e,"createBankAminoConverters",{enumerable:!0,get:function(){return i.createBankAminoConverters}}),Object.defineProperty(e,"createCrysisAminoConverters",{enumerable:!0,get:function(){return i.createCrysisAminoConverters}}),Object.defineProperty(e,"createDistributionAminoConverters",{enumerable:!0,get:function(){return i.createDistributionAminoConverters}}),Object.defineProperty(e,"createEvidenceAminoConverters",{enumerable:!0,get:function(){return i.createEvidenceAminoConverters}}),Object.defineProperty(e,"createFeegrantAminoConverters",{enumerable:!0,get:function(){return i.createFeegrantAminoConverters}}),Object.defineProperty(e,"createGovAminoConverters",{enumerable:!0,get:function(){return i.createGovAminoConverters}}),Object.defineProperty(e,"createGroupAminoConverters",{enumerable:!0,get:function(){return i.createGroupAminoConverters}}),Object.defineProperty(e,"createIbcAminoConverters",{enumerable:!0,get:function(){return i.createIbcAminoConverters}}),Object.defineProperty(e,"createSlashingAminoConverters",{enumerable:!0,get:function(){return i.createSlashingAminoConverters}}),Object.defineProperty(e,"createStakingAminoConverters",{enumerable:!0,get:function(){return i.createStakingAminoConverters}}),Object.defineProperty(e,"createVestingAminoConverters",{enumerable:!0,get:function(){return i.createVestingAminoConverters}}),Object.defineProperty(e,"isAminoMsgBeginRedelegate",{enumerable:!0,get:function(){return i.isAminoMsgBeginRedelegate}}),Object.defineProperty(e,"isAminoMsgCreateValidator",{enumerable:!0,get:function(){return i.isAminoMsgCreateValidator}}),Object.defineProperty(e,"isAminoMsgCreateVestingAccount",{enumerable:!0,get:function(){return i.isAminoMsgCreateVestingAccount}}),Object.defineProperty(e,"isAminoMsgDelegate",{enumerable:!0,get:function(){return i.isAminoMsgDelegate}}),Object.defineProperty(e,"isAminoMsgDeposit",{enumerable:!0,get:function(){return i.isAminoMsgDeposit}}),Object.defineProperty(e,"isAminoMsgEditValidator",{enumerable:!0,get:function(){return i.isAminoMsgEditValidator}}),Object.defineProperty(e,"isAminoMsgFundCommunityPool",{enumerable:!0,get:function(){return i.isAminoMsgFundCommunityPool}}),Object.defineProperty(e,"isAminoMsgMultiSend",{enumerable:!0,get:function(){return i.isAminoMsgMultiSend}}),Object.defineProperty(e,"isAminoMsgSend",{enumerable:!0,get:function(){return i.isAminoMsgSend}}),Object.defineProperty(e,"isAminoMsgSetWithdrawAddress",{enumerable:!0,get:function(){return i.isAminoMsgSetWithdrawAddress}}),Object.defineProperty(e,"isAminoMsgSubmitEvidence",{enumerable:!0,get:function(){return i.isAminoMsgSubmitEvidence}}),Object.defineProperty(e,"isAminoMsgSubmitProposal",{enumerable:!0,get:function(){return i.isAminoMsgSubmitProposal}}),Object.defineProperty(e,"isAminoMsgTransfer",{enumerable:!0,get:function(){return i.isAminoMsgTransfer}}),Object.defineProperty(e,"isAminoMsgUndelegate",{enumerable:!0,get:function(){return i.isAminoMsgUndelegate}}),Object.defineProperty(e,"isAminoMsgUnjail",{enumerable:!0,get:function(){return i.isAminoMsgUnjail}}),Object.defineProperty(e,"isAminoMsgVerifyInvariant",{enumerable:!0,get:function(){return i.isAminoMsgVerifyInvariant}}),Object.defineProperty(e,"isAminoMsgVote",{enumerable:!0,get:function(){return i.isAminoMsgVote}}),Object.defineProperty(e,"isAminoMsgVoteWeighted",{enumerable:!0,get:function(){return i.isAminoMsgVoteWeighted}}),Object.defineProperty(e,"isAminoMsgWithdrawDelegatorReward",{enumerable:!0,get:function(){return i.isAminoMsgWithdrawDelegatorReward}}),Object.defineProperty(e,"isAminoMsgWithdrawValidatorCommission",{enumerable:!0,get:function(){return i.isAminoMsgWithdrawValidatorCommission}}),Object.defineProperty(e,"isMsgBeginRedelegateEncodeObject",{enumerable:!0,get:function(){return i.isMsgBeginRedelegateEncodeObject}}),Object.defineProperty(e,"isMsgCreateValidatorEncodeObject",{enumerable:!0,get:function(){return i.isMsgCreateValidatorEncodeObject}}),Object.defineProperty(e,"isMsgDelegateEncodeObject",{enumerable:!0,get:function(){return i.isMsgDelegateEncodeObject}}),Object.defineProperty(e,"isMsgDepositEncodeObject",{enumerable:!0,get:function(){return i.isMsgDepositEncodeObject}}),Object.defineProperty(e,"isMsgEditValidatorEncodeObject",{enumerable:!0,get:function(){return i.isMsgEditValidatorEncodeObject}}),Object.defineProperty(e,"isMsgSendEncodeObject",{enumerable:!0,get:function(){return i.isMsgSendEncodeObject}}),Object.defineProperty(e,"isMsgSubmitProposalEncodeObject",{enumerable:!0,get:function(){return i.isMsgSubmitProposalEncodeObject}}),Object.defineProperty(e,"isMsgTransferEncodeObject",{enumerable:!0,get:function(){return i.isMsgTransferEncodeObject}}),Object.defineProperty(e,"isMsgUndelegateEncodeObject",{enumerable:!0,get:function(){return i.isMsgUndelegateEncodeObject}}),Object.defineProperty(e,"isMsgVoteEncodeObject",{enumerable:!0,get:function(){return i.isMsgVoteEncodeObject}}),Object.defineProperty(e,"isMsgVoteWeightedEncodeObject",{enumerable:!0,get:function(){return i.isMsgVoteWeightedEncodeObject}}),Object.defineProperty(e,"isMsgWithdrawDelegatorRewardEncodeObject",{enumerable:!0,get:function(){return i.isMsgWithdrawDelegatorRewardEncodeObject}}),Object.defineProperty(e,"setupAuthExtension",{enumerable:!0,get:function(){return i.setupAuthExtension}}),Object.defineProperty(e,"setupAuthzExtension",{enumerable:!0,get:function(){return i.setupAuthzExtension}}),Object.defineProperty(e,"setupBankExtension",{enumerable:!0,get:function(){return i.setupBankExtension}}),Object.defineProperty(e,"setupDistributionExtension",{enumerable:!0,get:function(){return i.setupDistributionExtension}}),Object.defineProperty(e,"setupFeegrantExtension",{enumerable:!0,get:function(){return i.setupFeegrantExtension}}),Object.defineProperty(e,"setupGovExtension",{enumerable:!0,get:function(){return i.setupGovExtension}}),Object.defineProperty(e,"setupIbcExtension",{enumerable:!0,get:function(){return i.setupIbcExtension}}),Object.defineProperty(e,"setupMintExtension",{enumerable:!0,get:function(){return i.setupMintExtension}}),Object.defineProperty(e,"setupSlashingExtension",{enumerable:!0,get:function(){return i.setupSlashingExtension}}),Object.defineProperty(e,"setupStakingExtension",{enumerable:!0,get:function(){return i.setupStakingExtension}}),Object.defineProperty(e,"setupTxExtension",{enumerable:!0,get:function(){return i.setupTxExtension}});var u=ht;Object.defineProperty(e,"makeMultisignedTx",{enumerable:!0,get:function(){return u.makeMultisignedTx}}),Object.defineProperty(e,"makeMultisignedTxBytes",{enumerable:!0,get:function(){return u.makeMultisignedTxBytes}});var d=ae;Object.defineProperty(e,"createPagination",{enumerable:!0,get:function(){return d.createPagination}}),Object.defineProperty(e,"createProtobufRpcClient",{enumerable:!0,get:function(){return d.createProtobufRpcClient}}),Object.defineProperty(e,"decodeCosmosSdkDecFromProto",{enumerable:!0,get:function(){return d.decodeCosmosSdkDecFromProto}}),Object.defineProperty(e,"QueryClient",{enumerable:!0,get:function(){return d.QueryClient}});var f=en;Object.defineProperty(e,"isSearchTxQueryArray",{enumerable:!0,get:function(){return f.isSearchTxQueryArray}});var E=mc;Object.defineProperty(e,"createDefaultAminoConverters",{enumerable:!0,get:function(){return E.createDefaultAminoConverters}}),Object.defineProperty(e,"defaultRegistryTypes",{enumerable:!0,get:function(){return E.defaultRegistryTypes}}),Object.defineProperty(e,"SigningStargateClient",{enumerable:!0,get:function(){return E.SigningStargateClient}});var M=X;Object.defineProperty(e,"assertIsDeliverTxFailure",{enumerable:!0,get:function(){return M.assertIsDeliverTxFailure}}),Object.defineProperty(e,"assertIsDeliverTxSuccess",{enumerable:!0,get:function(){return M.assertIsDeliverTxSuccess}}),Object.defineProperty(e,"BroadcastTxError",{enumerable:!0,get:function(){return M.BroadcastTxError}}),Object.defineProperty(e,"isDeliverTxFailure",{enumerable:!0,get:function(){return M.isDeliverTxFailure}}),Object.defineProperty(e,"isDeliverTxSuccess",{enumerable:!0,get:function(){return M.isDeliverTxSuccess}}),Object.defineProperty(e,"StargateClient",{enumerable:!0,get:function(){return M.StargateClient}}),Object.defineProperty(e,"TimeoutError",{enumerable:!0,get:function(){return M.TimeoutError}});var $=bt;Object.defineProperty(e,"coin",{enumerable:!0,get:function(){return $.coin}}),Object.defineProperty(e,"coins",{enumerable:!0,get:function(){return $.coins}}),Object.defineProperty(e,"makeCosmoshubPath",{enumerable:!0,get:function(){return $.makeCosmoshubPath}}),Object.defineProperty(e,"parseCoins",{enumerable:!0,get:function(){return $.parseCoins}})})(vi);const B0=e=>e*1e6;class ba{constructor(t,r,n,o){if(vt(this,"network"),vt(this,"chain"),vt(this,"rpc"),vt(this,"contracts"),vt(this,"gatewayAddress"),vt(this,"channelToChain",new Map),vt(this,"chainToChannel",new Map),this.network=t,this.chain=r,this.rpc=n,this.contracts=o,!ka.has(t,r))throw new Error("Unsupported IBC Chain, no channels available: "+r);this.gatewayAddress=Nt.gatewayAddress(t);const s=ka.get(t,r)??{};for(const[a,c]of Object.entries(s))this.channelToChain.set(c,a),this.chainToChannel.set(a,c)}static async fromRpc(t,r){const[n,o]=await ts.chainFromRpc(t),s=r[o];if(s.network!==n)throw new Error("Network mismatch: "+s.network+" != "+n);return new ba(n,o,t,s.contracts)}getTransferChannel(t){return this.chainToChannel.get(t)??null}async*transfer(t,r,n,o){const s=new Sa(t).toString(),a=Math.round(Math.random()*1e4),c={gateway_ibc_token_bridge_payload:{gateway_transfer:{recipient:va.encode(vu(r.chain)==="Cosmwasm"?r.address.toString():r.address.toUniversalAddress().toUint8Array()),chain:wa(r.chain),nonce:a,fee:"0"}}},i=BigInt(B0(Date.now()+Vu)),u=JSON.stringify(c),d=wu(n)?ts.getNativeDenom(this.network,this.chain):Nt.deriveIbcDenom(this.network,this.chain,new Sa(n).toString()),f=vi.coin(o.toString(),d.toString()),E={typeUrl:Mu,value:Fn.MsgTransfer.fromPartial({sourcePort:Pa,sourceChannel:this.chainToChannel.get(Nt.chain),sender:s,receiver:this.gatewayAddress,token:f,timeoutTimestamp:i,memo:u})};yield this.createUnsignedTx({msgs:[E],fee:md(this.network,this.chain),memo:"Wormhole.TransferToGateway"},"IBC.transfer")}async lookupTransferFromTx(t){const r=await this.rpc.getTx(t);if(!r)throw new Error(`No IBC transfer found on ${this.chain} with txid: ${t}`);if(r.code!==0)throw new Error(`Transaction failed: ${r.rawLog}`);const n=await this.fetchTransferInfo(r);if(n.length===0)throw new Error(`No IBC transfers found on ${this.chain} with txid: ${t}`);return n}async lookupMessageFromIbcMsgId(t){const r=await this.lookupTxFromIbcMsgId(t);return r?pd.parseWormholeMessageId(Nt.chain,Nt.coreAddress(this.network),r):null}async lookupTxFromIbcMsgId(t){const r=this.chain===t.chain?rs:Aa,{srcChannel:n,dstChannel:o,sequence:s,srcPort:a,dstPort:c}=t,i=await this.rpc.searchTx([{key:`${r}.${Ta}`,value:o},{key:`${r}.${Ea}`,value:n},{key:`${r}.${xa}`,value:a},{key:`${r}.${_a}`,value:c},{key:`${r}.${Ma}`,value:s.toString()}]);if(i.length===0)return null;i.length>1&&console.error(`Expected 1 transaction, got ${i.length} found for IbcMsgid: ${t}`);const[u]=i;return u}async lookupTransferFromIbcMsgId(t){const r=await this.lookupTxFromIbcMsgId(t);if(!r)throw new Error(`No transfers found on ${this.chain} for msg: ${JSON.stringify(t)}`);const n=await this.fetchTransferInfo(r);if(n.length===0)throw new Error(`No transfers found on ${this.chain} for msg: ${JSON.stringify(t)}`);return n}async lookupTransferFromMsg(t){const r=va.encode(JSON.stringify(t)),n=await this.rpc.searchTx([{key:"wasm.transfer_payload",value:r}]);if(n.length===0)throw new Error("Found no transactions for payload: "+JSON.stringify(r));n.length!==1&&console.error("Expected 1 tx, got: ",n.length);const[o]=n,s=await this.fetchTransferInfo(o);if(s.length===0)throw new Error("Found no transactions for payload: "+JSON.stringify(r));return s}async fetchTransferInfo(t){const r=this.parseIbcTransferInfo(t),n=[];for(const o of r){const s=ts.getQueryClient(this.rpc);try{await s.ibc.channel.packetCommitment(Pa,o.id.srcChannel,o.id.sequence),o.pending=!0}catch(a){if(!a.message.includes("packet commitment hash not found: key not found"))throw a}n.push(o)}return n}parseIbcTransferInfo(t){const r=t.events.filter(o=>o.type===rs||o.type===Aa);if(r.length===0)throw new Error(`No IBC Transfers on ${this.chain} found in: ${t.hash}`);const n=new Set;for(const o of r){const s={pending:!1},a={};for(const c of o.attributes)c.key===Ea&&(a.srcChannel=c.value),c.key===Ta&&(a.dstChannel=c.value),c.key===Ma&&(a.sequence=Number(c.value)),c.key===xa&&(a.srcPort=c.value),c.key===_a&&(a.dstPort=c.value),c.key===Ou&&(s.data=JSON.parse(c.value));if(a.chain=o.type===rs?this.chain:this.channelToChain.get(a.dstChannel),ku(a))s.id=a;else throw new Error("Invalid IbcMessageId: "+JSON.stringify(a));if(bd(s))n.add(s);else throw new Error("Invalid IbcTransferInfo: "+JSON.stringify(s))}return Array.from(n)}async fetchTransferChannel(t){if(this.chain!==Nt.chain)throw new Error("Cannot query the transfer channels from a non-gateway chain");const{channel:r}=await this.rpc.queryContractSmart(this.gatewayAddress,{ibc_channel:{chain_id:wa(t)}});return r}createUnsignedTx(t,r,n=!1){return new hd(t,this.network,this.chain,r,n)}}fd(qu,"IbcBridge",ba);export{ba as CosmwasmIbcBridge};
